<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>KubeClipper â€“ æ–‡æ¡£</title><link>https://www.kubeclipper.io/docs/</link><description>Recent content in æ–‡æ¡£ on KubeClipper</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Thu, 03 Nov 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://www.kubeclipper.io/docs/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: é›†ç¾¤ç®¡ç†</title><link>https://www.kubeclipper.io/docs/tutorials/cluster-manage/</link><pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/tutorials/cluster-manage/</guid><description>
&lt;h2 id="åˆ›å»ºé›†ç¾¤">åˆ›å»ºé›†ç¾¤&lt;/h2>
&lt;p>æ‚¨å¯ä»¥é€šè¿‡å‘å¯¼å¼çš„é¡µé¢åˆ›å»º K8S é›†ç¾¤ï¼Œå¹¶å®‰è£…CNIã€CSIç­‰æ‰€éœ€æ’ä»¶ã€‚ä¹Ÿå¯ä»¥æå‰ä¿å­˜å¥½é›†ç¾¤æ¨¡ç‰ˆï¼Œé€‰æ‹©æ¨¡ç‰ˆåå¿«é€Ÿåˆ›å»ºé›†ç¾¤ã€‚&lt;/p>
&lt;h3 id="åˆ›å»ºé›†ç¾¤å‡†å¤‡å·¥ä½œ">åˆ›å»ºé›†ç¾¤å‡†å¤‡å·¥ä½œ&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>æ‚¨éœ€è¦å‡†å¤‡å……è¶³çš„å¯ç”¨èŠ‚ç‚¹ï¼Œå¦‚éœ€æ·»åŠ èŠ‚ç‚¹ï¼Œå‚è§â€œæ·»åŠ èŠ‚ç‚¹â€æ•™ç¨‹ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å‡†å¤‡å¥½éœ€è¦éƒ¨ç½²çš„ K8Sã€CRIã€calicoã€CSI å’Œå…¶ä»–æ’ä»¶çš„é•œåƒæˆ–äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œkubeclipper æä¾›äº†æ¨èçš„ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥æ ¹æ®å¹³å°æ‰€å¤„ç½‘ç»œç¯å¢ƒï¼Œé€‰æ‹©åœ¨çº¿ / ç¦»çº¿åï¼Œç›´æ¥åœ¨é¡µé¢ä¸Šé€‰å–ä½¿ç”¨ã€‚æ‚¨ä¹Ÿå¯ä»¥å°†éƒ¨ç½²æ‰€éœ€çš„é•œåƒä¸Šä¼ è‡³è‡ªå·±çš„é•œåƒä»“åº“ï¼Œå¹¶åœ¨éƒ¨ç½²æ—¶æŒ‡å®šã€‚æ›´å¤šå®‰è£…é…ç½®ï¼Œå‚è€ƒä»¥ä¸‹è¡¨æ ¼ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>é¡µé¢é…ç½®&lt;/td>
&lt;td>é…ç½®åŒ…/é•œåƒæ¥æº&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>åœ¨çº¿&lt;/strong>ï¼ˆå…¬ç½‘ç¯å¢ƒï¼‰&lt;br>&lt;br>&lt;strong>é•œåƒä»“åº“&lt;/strong>ä¸ºç©º&lt;/td>
&lt;td>1. é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚&lt;br> &lt;br>&lt;br>2. é•œåƒæ‹‰å–æ–¹å¼ï¼šé•œåƒé»˜è®¤ä»å®˜æ–¹é•œåƒä»“åº“æ‹‰å–ï¼Œå¦‚k8sé•œåƒä» k8s.gcr.io æ‹‰å–ã€calico ä» docker.io æ‹‰å–ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>åœ¨çº¿&lt;/strong>ï¼ˆå…¬ç½‘ç¯å¢ƒï¼‰&lt;br>&lt;br>&lt;strong>é•œåƒä»“åº“&lt;/strong>æŒ‡å®š&lt;/td>
&lt;td>1. é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚&lt;br> &lt;br>&lt;br>2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ç¦»çº¿&lt;/strong>ï¼ˆå†…ç½‘ç¯å¢ƒï¼‰&lt;br>&lt;br>&lt;strong>é•œåƒä»“åº“&lt;/strong>ä¸ºç©º&lt;br>&lt;br>&lt;br>&lt;/td>
&lt;td>1. é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤serverèŠ‚ç‚¹ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚&lt;br> &lt;br>&lt;br>2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤serverèŠ‚ç‚¹ä¸‹è½½ï¼Œä¸‹è½½åç”±CRIè¿›è¡Œé•œåƒå¯¼å…¥ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é•œåƒåŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é•œåƒåŒ…ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ç¦»çº¿&lt;/strong>ï¼ˆå†…ç½‘ç¯å¢ƒï¼‰&lt;br>&lt;br>&lt;strong>é•œåƒä»“åº“&lt;/strong>æŒ‡å®š&lt;br>&lt;br>&lt;br>&lt;br>&lt;br>&lt;br>&lt;/td>
&lt;td>1. é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ°ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚&lt;br> &lt;br>&lt;br>2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚kubeclipper æä¾› Docker Registry æ–¹æ¡ˆï¼Œå¹¶ä½¿ç”¨ kcctl registry å‘½ä»¤è¡Œè¿›è¡Œç®¡ç†ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è‡ªæœ‰é•œåƒä»“åº“ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;/ol>
&lt;h3 id="åˆ›å»ºå•èŠ‚ç‚¹å®éªŒé›†ç¾¤">åˆ›å»ºå•èŠ‚ç‚¹å®éªŒé›†ç¾¤&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé›†ç¾¤â€ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºé›†ç¾¤â€æŒ‰é’®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è¿›å…¥åˆ›å»ºé›†ç¾¤å‘å¯¼é¡µé¢çš„â€œèŠ‚ç‚¹é…ç½®â€é¡µé¢ã€‚å¡«å†™â€œé›†ç¾¤åç§°â€ï¼Œå¦‚â€œtestâ€ï¼Œä¸éœ€é€‰æ‹©â€œé›†ç¾¤æ¨¡ç‰ˆâ€ã€‚é€‰æ‹©ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹ï¼Œæ·»åŠ ä¸ºæ§åˆ¶èŠ‚ç‚¹ï¼Œå¹¶åœ¨æ±¡ç‚¹ç®¡ç†åˆ—è¡¨ä¸­ï¼Œå°† master èŠ‚ç‚¹çš„æ±¡ç‚¹ç§»é™¤ã€‚ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€æŒ‰é’®ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/select-node.png" alt="">&lt;/p>
&lt;ol>
&lt;li>
&lt;p>è¿›å…¥åˆ›å»ºé›†ç¾¤å‘å¯¼é¡µé¢çš„â€œé›†ç¾¤é…ç½®â€é¡µé¢ã€‚é€‰æ‹©â€œç¦»çº¿å®‰è£…â€ï¼Œâ€œé•œåƒä»“åº“â€ä¸éœ€å¡«å†™ï¼Œå…¶ä»–é…ç½®éƒ½å¯ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œç‚¹å‡»â€œå¿«é€Ÿåˆ›å»ºâ€æŒ‰é’®ï¼Œè·³è½¬é…ç½®ç¡®è®¤é¡µé¢ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å•èŠ‚ç‚¹çš„å®éªŒé›†ç¾¤åˆ›å»ºå®Œæˆï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µæŸ¥çœ‹é›†ç¾¤è¯¦æƒ…ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»â€œæŸ¥çœ‹æ—¥å¿—â€æŒ‰é’®ï¼ŒæŸ¥çœ‹é›†ç¾¤åˆ›å»ºè¿‡ç¨‹ä¸­çš„å®æ—¶æ—¥å¿—ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="ä½¿ç”¨é•œåƒä»“åº“åˆ›å»ºé›†ç¾¤">ä½¿ç”¨é•œåƒä»“åº“åˆ›å»ºé›†ç¾¤&lt;/h3>
&lt;p>å¦‚æœåˆ›å»ºçš„é›†ç¾¤ä¸­åŒ…å«è¾ƒå¤§çš„é•œåƒï¼Œæ¨èæ‚¨å°†æ‰€æœ‰é•œåƒä¸Šä¼ åˆ°ç‰¹å®šçš„é•œåƒä»“åº“ï¼Œåˆ›å»ºé›†ç¾¤ä¼šæ›´å¿«é€Ÿæ›´é¡ºç•…ã€‚&lt;/p>
&lt;ol>
&lt;li>
&lt;p>æ·»åŠ é•œåƒä»“åº“ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé•œåƒä»“åº“â€ï¼Œè¿›å…¥é•œåƒä»“åº“åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œæ·»åŠ â€æŒ‰é’®ã€‚åœ¨æ·»åŠ é•œåƒä»“åº“çš„å¼¹çª—ä¸­è¾“å…¥å­˜æ”¾æœ‰é•œåƒçš„ä»“åº“ IP åœ°å€ï¼Œç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ›å»ºé›†ç¾¤ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé›†ç¾¤â€ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºé›†ç¾¤â€æŒ‰é’®ã€‚æŒ‰éœ€é…ç½®é›†ç¾¤èŠ‚ç‚¹ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢çš„â€œé•œåƒä»“åº“â€ä¸­ï¼Œé€‰æ‹©ç¬¬ä¸€æ­¥æ·»åŠ çš„é•œåƒä»“åº“ï¼Œæ ¹æ®éœ€è¦å®Œæˆé›†ç¾¤å…¶ä»–é…ç½®ååˆ›å»ºé›†ç¾¤ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="ä½¿ç”¨é›†ç¾¤æ¨¡ç‰ˆåˆ›å»ºé›†ç¾¤">ä½¿ç”¨é›†ç¾¤æ¨¡ç‰ˆåˆ›å»ºé›†ç¾¤&lt;/h3>
&lt;p>æ‚¨å¯ä»¥ä½¿ç”¨é›†ç¾¤æ¨¡ç‰ˆï¼Œç®€åŒ–é›†ç¾¤åˆ›å»ºæµç¨‹ã€‚&lt;/p>
&lt;ol>
&lt;li>
&lt;p>æ·»åŠ æ¨¡ç‰ˆã€‚ä¿å­˜æ¨¡ç‰ˆæœ‰ä¸¤ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥åœ¨â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œæ¨¡ç‰ˆç®¡ç†â€é¡µé¢ï¼Œæ·»åŠ é›†ç¾¤æ¨¡ç‰ˆï¼Œä»¥å¤‡åˆ›å»ºé›†ç¾¤æ—¶ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œä¿å­˜ä¸ºæ¨¡ç‰ˆâ€ï¼Œå°†å·²å­˜åœ¨çš„é›†ç¾¤é…ç½®ä¿å­˜ä¸ºæ¨¡ç‰ˆï¼Œä»¥ä¾¿åˆ›å»ºå‡ºå’Œè¯¥é›†ç¾¤åŒç­‰é…ç½®çš„ K8S é›†ç¾¤ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ›å»ºé›†ç¾¤ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé›†ç¾¤â€ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºé›†ç¾¤â€æŒ‰é’®ï¼Œè¿›å…¥åˆ›å»ºé›†ç¾¤é¡µé¢ï¼Œå¡«å†™â€œé›†ç¾¤åç§°â€ï¼Œå¦‚â€œdemoâ€ï¼Œé€‰æ‹©ç¬¬ä¸€æ­¥ä¸­ä¿å­˜çš„é›†ç¾¤æ¨¡ç‰ˆï¼Œæ·»åŠ æ‰€éœ€èŠ‚ç‚¹ï¼Œç‚¹å‡»å³ä¸‹è§’â€œå¿«é€Ÿåˆ›å»ºâ€æŒ‰é’®ï¼Œè·³è½¬è‡³â€œé…ç½®ç¡®è®¤â€é¡µé¢ï¼Œæ ¸å¯¹æ¨¡ç‰ˆä¿¡æ¯æ— è¯¯åï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ï¼Œåˆ›å»ºé›†ç¾¤ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="é›†ç¾¤é…ç½®æŒ‡å—">é›†ç¾¤é…ç½®æŒ‡å—&lt;/h3>
&lt;h4 id="èŠ‚ç‚¹é…ç½®æ­¥éª¤">èŠ‚ç‚¹é…ç½®æ­¥éª¤&lt;/h4>
&lt;p>åœ¨èŠ‚ç‚¹é…ç½®é¡µé¢ï¼Œæ‚¨å¯ä»¥å¯¹èŠ‚ç‚¹è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>åŒºåŸŸï¼šé›†ç¾¤æ‰€å±åŒºåŸŸï¼Œæ·»åŠ èŠ‚ç‚¹æ—¶å¯ä¸ºèŠ‚ç‚¹æŒ‡å®šç‰©ç†çš„æˆ–é€»è¾‘çš„åŒºåŸŸï¼Œä½¿ç”¨è¯¥åŒºåŸŸä¸‹èŠ‚ç‚¹åˆ›å»ºçš„ K8S é›†ç¾¤ä¹Ÿå±äºè¯¥åŒºåŸŸï¼Œä¸æ”¯æŒä½¿ç”¨è·¨åŒºåŸŸçš„å¤šä¸ªèŠ‚ç‚¹åˆ›å»ºé›†ç¾¤ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ§åˆ¶èŠ‚ç‚¹ï¼šä¸ºé›†ç¾¤æŒ‡å®šå¥‡æ•°ä¸ªçš„æ§åˆ¶èŠ‚ç‚¹ï¼Œç”Ÿäº§ç¯å¢ƒä¸€èˆ¬ä½¿ç”¨3ä¸ªæ§åˆ¶èŠ‚ç‚¹ä»¥å®ç°é«˜å¯ç”¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å·¥ä½œèŠ‚ç‚¹ï¼šæ ¹æ®ä¸šåŠ¡è§„æ¨¡ï¼Œä¸ºæ–°é›†ç¾¤æ·»åŠ å·¥ä½œèŠ‚ç‚¹ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ±¡ç‚¹ç®¡ç†ï¼šæ‚¨å¯ä»¥ä¸ºå·²æ·»åŠ çš„èŠ‚ç‚¹é…ç½®æ±¡ç‚¹ï¼Œkubeclipper ä¼šè‡ªåŠ¨ä¸ºæ§åˆ¶èŠ‚ç‚¹æ·»åŠ ä¸å…è®¸è°ƒåº¦ï¼ˆnoscheduleï¼‰çš„æ±¡ç‚¹ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ›´æ”¹ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>èŠ‚ç‚¹æ ‡ç­¾ï¼šæ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä¸ºå·²æ·»åŠ çš„é›†ç¾¤èŠ‚ç‚¹é…ç½®æ ‡ç­¾ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>æ‚¨å¯ä»¥æŒ‰ä¸šåŠ¡éœ€è¦é…ç½®æ‰€éœ€èŠ‚ç‚¹ã€‚å¦‚æœéœ€è¦åˆ›å»ºéé«˜å¯ç”¨çš„å®éªŒé›†ç¾¤ï¼Œä¹Ÿå¯ä»¥ä»…æ·»åŠ ä¸€ä¸ªæ§åˆ¶èŠ‚ç‚¹ï¼Œå¹¶å°†æ§åˆ¶èŠ‚ç‚¹è‡ªåŠ¨æ·»åŠ çš„æ±¡ç‚¹ç§»é™¤ï¼Œè¯¦ç»†æ“ä½œå‚è§â€œåˆ›å»ºå•èŠ‚ç‚¹å®éªŒé›†ç¾¤â€ã€‚&lt;/p>
&lt;h4 id="é›†ç¾¤é…ç½®æ­¥éª¤">é›†ç¾¤é…ç½®æ­¥éª¤&lt;/h4>
&lt;p>åœ¨é›†ç¾¤é…ç½®é¡µé¢ï¼Œæ‚¨å¯ä»¥å¯¹é›†ç¾¤è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š&lt;/p>
&lt;ul>
&lt;li>å®‰è£…æ–¹å¼å’Œé•œåƒä»“åº“ï¼š&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>é¡µé¢é…ç½®&lt;/td>
&lt;td>é…ç½®åŒ…/é•œåƒæ¥æº&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>åœ¨çº¿&lt;/strong>ï¼ˆå…¬ç½‘ç¯å¢ƒï¼‰&lt;br>&lt;br>&lt;strong>é•œåƒä»“åº“&lt;/strong>ä¸ºç©º&lt;/td>
&lt;td>1. é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚&lt;br> &lt;br>&lt;br>2. é•œåƒæ‹‰å–æ–¹å¼ï¼šé•œåƒé»˜è®¤ä»å®˜æ–¹é•œåƒä»“åº“æ‹‰å–ï¼Œå¦‚k8sé•œåƒä» k8s.gcr.io æ‹‰å–ã€calico ä» docker.io æ‹‰å–ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>åœ¨çº¿&lt;/strong>ï¼ˆå…¬ç½‘ç¯å¢ƒï¼‰&lt;br>&lt;br>&lt;strong>é•œåƒä»“åº“&lt;/strong>æŒ‡å®š&lt;/td>
&lt;td>1. é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚&lt;br> &lt;br>&lt;br>2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ç¦»çº¿&lt;/strong>ï¼ˆå†…ç½‘ç¯å¢ƒï¼‰&lt;br>&lt;br>&lt;strong>é•œåƒä»“åº“&lt;/strong>ä¸ºç©º&lt;/td>
&lt;td>1. é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤serverèŠ‚ç‚¹ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚&lt;br> &lt;br>&lt;br>2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤serverèŠ‚ç‚¹ä¸‹è½½ï¼Œä¸‹è½½åç”±CRIè¿›è¡Œé•œåƒå¯¼å…¥ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é•œåƒåŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é•œåƒåŒ…ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ç¦»çº¿&lt;/strong>ï¼ˆå†…ç½‘ç¯å¢ƒï¼‰&lt;br>&lt;br>&lt;strong>é•œåƒä»“åº“&lt;/strong>æŒ‡å®š&lt;br>&lt;br>&lt;br>&lt;br>&lt;br>&lt;br>&lt;/td>
&lt;td>1. é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ°ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚&lt;br> &lt;br>&lt;br>2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚kubeclipper æä¾› Docker Registry æ–¹æ¡ˆï¼Œå¹¶ä½¿ç”¨ kcctl registry å‘½ä»¤è¡Œè¿›è¡Œç®¡ç†ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è‡ªæœ‰é•œåƒä»“åº“ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>
&lt;p>K8Sç‰ˆæœ¬ï¼šæŒ‡å®šé›†ç¾¤K8Sç‰ˆæœ¬ã€‚å½“æ‚¨é€‰æ‹©ç¦»çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä»å½“å‰ç¯å¢ƒä¸­é…ç½®åŒ…çš„K8Sç‰ˆæœ¬ä¸­é€‰æ‹©ï¼›å½“æ‚¨é€‰æ‹©åœ¨çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä» kubeclipper å®˜æ–¹æ¨èçš„ç‰ˆæœ¬ä¸­é€‰æ‹©ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ETCDæ•°æ®ç›®å½•ï¼šå¯æŒ‡å®šETCD æ•°æ®ç›®å½•ï¼Œé»˜è®¤ä¸º/var/lib/etcdã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>CertSANsï¼šk8s é›†ç¾¤ ca è¯ä¹¦ç­¾åçš„ ip æˆ–è€…åŸŸåï¼Œå¯å¡«å†™å¤šä¸ªã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®¹å™¨è¿è¡Œæ—¶ï¼šæ ¹æ®æŒ‡å®š K8S ç‰ˆæœ¬ï¼ŒK8S ç‰ˆæœ¬åœ¨ v1.20.0 ä¹‹å‰ï¼Œå®¹å™¨è¿è¡Œæ—¶é»˜è®¤ dockerï¼Œä¹‹åé»˜è®¤ containerdï¼›v1.24.0 ä¹‹åä¸æ”¯æŒ dockerã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®¹å™¨è¿è¡Œæ—¶ç‰ˆæœ¬ï¼šæŒ‡å®šcontainerd / dockerç‰ˆæœ¬ã€‚ä¸ K8S ç›¸åŒï¼Œå½“æ‚¨é€‰æ‹©ç¦»çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä»å½“å‰ç¯å¢ƒä¸­é…ç½®åŒ…çš„ç‰ˆæœ¬ä¸­é€‰æ‹©ï¼›å½“æ‚¨é€‰æ‹©åœ¨çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä» kubeclipper å®˜æ–¹æ¨èçš„ç‰ˆæœ¬ä¸­é€‰æ‹©ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Containerd æ•°æ®ç›®å½•ï¼šå¯å¡«å†™config.toml é…ç½®ä¸­çš„ root dirï¼Œé»˜è®¤ä¸º/var/lib/containerdã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Dockeræ•°æ®ç›®å½•ï¼šå¯å¡«å†™daemon.json é…ç½®ä¸­çš„ root dirï¼Œé»˜è®¤ä¸º/var/lib/dockerã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Containerd é•œåƒä»“åº“ï¼šå­˜æ”¾containerdé•œåƒçš„ä»“åº“åœ°å€ï¼Œconfig.toml é…ç½®ä¸­çš„ registry.mirrorsï¼Œå¯å¡«å†™å¤šä¸ªã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Dockeré•œåƒä»“åº“ï¼šå­˜æ”¾dockeré•œåƒçš„ä»“åº“åœ°å€ï¼Œdaemon.json é…ç½®ä¸­çš„ insecure registry,å¯å¡«å†™å¤šä¸ªã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DNS åŸŸåï¼šk8s é›†ç¾¤çš„åŸŸåï¼Œé»˜è®¤ä¸ºcluster.localã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Worker è´Ÿè½½ IPï¼šç”¨äº worker èŠ‚ç‚¹åˆ°å¤šmasterçš„è´Ÿè½½å‡è¡¡ï¼Œå•ä¸€masterä¸éœ€è¦è®¾ç½®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¤–éƒ¨è®¿é—®IPï¼šå¯ä»¥å¡«å†™ä¸€ä¸ªæµ®åŠ¨ IP ç»™ç”¨æˆ·è®¿é—®ï¼Œå¯ä¸ºç©ºã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="cnié…ç½®">CNIé…ç½®&lt;/h4>
&lt;p>å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒCalicoä½œä¸ºé›†ç¾¤CNIã€‚&lt;/p>
&lt;p>Calicoå°†ç”¨æˆ·è®¾ç½®çš„pod cidråˆ†ä¸ºè‹¥å¹²ä¸ªblock(ç½‘æ®µ)ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€çš„åˆ†é…ç»™éœ€è¦çš„èŠ‚ç‚¹ï¼Œå¹¶åœ¨èŠ‚ç‚¹ä¸­é€šè¿‡ bgp peerç»´æŠ¤é›†ç¾¤èŠ‚ç‚¹çš„è·¯ç”±è¡¨ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼šå®¹å™¨çš„åœ°å€æ± ï¼š172.25.0.0/16ï¼ŒåŠ¨æ€åˆ†é…çš„ç½‘æ®µæ± : 172.25.0.0 - 172.25.255.192 (172.25.0.0/26 å³ 10 ä¸ªæ¯”ç‰¹ä½)ï¼ŒåŠ¨æ€åˆ†é…çš„ç½‘æ®µæ•°: 1023ï¼Œæ¯ä¸ªç½‘æ®µçš„podæ•°é‡ä¸º: 61 (193-254)ï¼Œæ€»podæ•°é‡ä¸º1023 * 61 = 62403ï¼Œç›¸å¯¹æœ€å¤§èŠ‚ç‚¹æ•°(æŒ‰ç…§200ä¸šåŠ¡podä¸ºåŸºå‡†å€¼)ï¼š312ã€‚&lt;/p>
&lt;p>ç›®å‰ä¸å»ºè®®å¤§äº50ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ï¼Œå¤§äº50ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤å»ºè®®æ‰‹åŠ¨é…ç½®route reflectionï¼Œç”¨æ¥ä¼˜åŒ–é›†ç¾¤ä¸­çš„èŠ‚ç‚¹çš„è·¯ç”±è¡¨ç»´æŠ¤çš„ç¨³å®šæ€§ã€‚&lt;/p>
&lt;p>ä½¿ç”¨Calicoä½œä¸ºé›†ç¾¤CNIï¼Œæ‚¨éœ€è¦è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Calico æ¨¡å¼ï¼šæ”¯æŒ5ç§ç½‘ç»œæ¨¡å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Overlay-IPIP-All: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨åº•å±‚å¹³å°æ˜¯ iaas çš„ç¯å¢ƒä¹‹ä¸­,å½“ç„¶å¦‚æœä½ åº•å±‚ç½‘è·¯ç¯å¢ƒç›´æ¥æ˜¯ç‰©ç†è®¾å¤‡çš„ä¹Ÿå®Œå…¨å¯ä»¥ä½¿ç”¨åªä¸è¿‡æ•ˆç‡å’Œçµæ´»åº¦éƒ½ä¼šå¤§æ‰“æŠ˜æ‰£,éœ€è¦æ³¨æ„çš„æ˜¯ä½ éœ€è¦ç¡®è®¤åº•å±‚ç½‘ç»œç¯å¢ƒ(underlay)æ˜¯æ”¯æŒ IPIP åè®®çš„.(ä½¿ç”¨overlayçš„ç½‘ç»œæ–¹å¼å¯¹ç½‘ç»œæ€§èƒ½é€ æˆä¸€å®šçš„å½±å“)ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Overlay-Vxlan-All: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨åº•å±‚å¹³å°æ˜¯ iaas çš„ç¯å¢ƒä¹‹ä¸­,å½“ç„¶å¦‚æœä½ åº•å±‚ç½‘è·¯ç¯å¢ƒç›´æ¥æ˜¯ç‰©ç†è®¾å¤‡çš„ä¹Ÿå®Œå…¨å¯ä»¥ä½¿ç”¨åªä¸è¿‡æ•ˆç‡å’Œçµæ´»åº¦éƒ½ä¼šå¤§æ‰“æŠ˜æ‰£,ä»–ç†è®ºä¸Šå¯ä»¥åœ¨ä»»ä½•çš„ç½‘ç»œç¯å¢ƒä¸Šè¿è¡Œ,é€šå¸¸åœ¨åº•å±‚ç¯å¢ƒä¸æ”¯æŒ IPIP åè®®çš„æ—¶å€™æˆ‘ä»¬ä¼šä½¿ç”¨ä»–.(ä½¿ç”¨overlayçš„ç½‘ç»œæ–¹å¼å¯¹ç½‘ç»œæ€§èƒ½é€ æˆä¸€å®šçš„å½±å“)ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>BGP: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨è£¸æœºçš„ç¯å¢ƒä¸Š,å½“ç„¶åº• Iaas å¹³å°æ”¯æŒ BGP çš„è¯ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„,è¿™ç§æ¨¡å¼ä¸‹ pod çš„ ip é€šä¿¡æ˜¯é€šè¿‡ é›†ç¾¤ä¸­çš„å„ä¸ªèŠ‚ç‚¹ä¸­äº’ç›¸äº¤æ¢è·¯ç”±è¡¨æ¥å®Œæˆ pod ä¹‹é—´çš„é€šä¿¡çš„,å¦‚æœä½ éœ€è¦æ‰‹åŠ¨æ‰“é€šå¤šä¸ªé›†ç¾¤ä¹‹é—´çš„ pod ç½‘ç»œéœ€è¦æ³¨æ„ä½ åˆ†é…çš„åœ°å€æ–­ä¸åº”è¯¥æœ‰å†²çªã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Overaly-IPIP-Cross-Subnet: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨åº•å±‚å¹³å°æ˜¯ iaas çš„ç¯å¢ƒä¹‹ä¸­,éœ€è¦æ³¨æ„çš„æ˜¯ä½ éœ€è¦ç¡®è®¤åº•å±‚ç½‘ç»œç¯å¢ƒ(underlay)æ˜¯æ”¯æŒ IPIP åè®®çš„.å’Œ Overlay-IPIP-All çš„ä¸åŒä¹‹å¤„åœ¨äº,å¦‚æœ 2 ä¸ªä¸åŒèŠ‚ç‚¹ä½†åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­çš„ä¸Š pod äº’ç›¸é€šä¿¡æ—¶æ˜¯é€šè¿‡è·¯ç”±è¡¨,è¿™æ ·å¯ä»¥æé«˜åœ¨ä¸åŒèŠ‚ç‚¹ä½†åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­çš„ä¸Š pod äº’ç›¸é€šä¿¡æ—¶çš„æ•ˆç‡ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Overaly-Vxlan-Cross-Subnet: å’Œ Overaly-IPIP-Cross-Subnet é€»è¾‘ç›¸ä¼¼ä¸å†åšé‡å¤çš„è§£é‡Šã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>IPç‰ˆæœ¬ï¼šå¯æŒ‡å®šIPç‰ˆæœ¬ä¸ºIPV4æˆ–IPV4 IPV6åŒæ ˆã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœåŠ¡å­ç½‘ï¼šå¡«å†™serviceå­ç½‘CIDRï¼Œv4é»˜è®¤ä¸ºï¼š10.96.0.0/16ï¼Œv6é»˜è®¤ä¸ºfd03::/112ï¼Œæ³¨æ„Serviceç½‘ç»œä¸å¾—ä¸ä»»ä½•ä¸»æœºç½‘ç»œé‡å ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Pod CIDRï¼šå¡«å†™podå­ç½‘CIDRï¼Œv4é»˜è®¤ï¼š172.25.0.0/24ï¼Œv6é»˜è®¤ä¸ºfd05::/120ï¼Œæ³¨æ„Pod ç½‘ç»œä¸å¾—ä¸ä»»ä½•ä¸»æœºç½‘ç»œé‡å ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>podç½‘è·¯çš„åº•å±‚ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>first-foundï¼ˆé»˜è®¤ï¼‰ï¼šç¨‹åºä¼šæ ¹æ®ipfamily(v4æˆ–v6)éå†æ‰€æœ‰çš„æœ‰æ•ˆçš„ipåœ°å€(local,loop backï¼Œdocker bridgeç­‰ä¼šè¢«è‡ªåŠ¨æ’é™¤)é€šå¸¸å¦‚æœæ˜¯å¤šç½‘å¡æ—¶ä¼šæ’é™¤é»˜è®¤ç½‘å…³ä»¥å¤–çš„ç½‘å¡çš„ipä½œä¸ºèŠ‚ç‚¹ä¹‹é—´çš„è·¯ç”±åœ°å€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>can-reachï¼šé€šè¿‡æ£€æŸ¥åŸŸåæˆ–è€…ipçš„å¯è¾¾æ€§æ¥è®¾ç½®èŠ‚ç‚¹ä¹‹é—´çš„è·¯ç”±åœ°å€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>interfaceï¼šæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼è·å–æ‰€æœ‰æ»¡è¶³çš„ç½‘å¡è®¾å¤‡åç§°å¹¶è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³è¡¨è¾¾å¼ç½‘å¡çš„åœ°å€ä½œä¸ºèŠ‚ç‚¹ä¹‹é—´çš„è·¯ç”±åœ°å€ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>MTUï¼šä¸ºCalicoç¯å¢ƒé…ç½®æœ€å¤§ä¼ è¾“å•å…ƒ(MTU)ï¼Œå»ºè®®ä¸å¤§äº1440ï¼Œé»˜è®¤ä¸º1440ï¼Œè¯¦æƒ…è§ &lt;a href="https://docs.projectcalico.org/networking/mtu">Configure MTU to maximize network performance&lt;/a>ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="å­˜å‚¨é…ç½®">å­˜å‚¨é…ç½®&lt;/h4>
&lt;p>Kubeclipperå½“å‰ç‰ˆæœ¬å†…ç½®äº† NFSã€Ceph ä¸¤ç§å¤–æ¥å­˜å‚¨ç±»å‹ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å¯¹æ¥NFSå­˜å‚¨&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>å¯¹æ¥NFSç±»å‹çš„å¤–æ¥å­˜å‚¨ï¼Œæ‚¨éœ€è¦è®¾ç½®ä»¥ä¸‹å†…å®¹ï¼š&lt;/p>
&lt;style> td {white-space:pre-wrap;border:1px solid #dee0e3;}&lt;/style>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>å­—æ®µ&lt;/td>
&lt;td>ä½œç”¨è¯´æ˜&lt;/td>
&lt;td>å¡«å†™è¯´æ˜/å¯é€‰é¡¹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æœåŠ¡åœ°å€&lt;/td>
&lt;td>ServerAddrï¼ŒNFSçš„æœåŠ¡åœ°å€&lt;/td>
&lt;td>å¿…å¡«&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å…±äº«è·¯å¾„&lt;/td>
&lt;td>SharedPathï¼ŒNFSçš„æœåŠ¡æŒ‚è½½è·¯å¾„&lt;/td>
&lt;td>å¿…å¡«&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å­˜å‚¨ç±»&lt;/td>
&lt;td>StorageClassNameï¼Œå­˜å‚¨ç±»çš„åç§°&lt;/td>
&lt;td>é»˜è®¤ä¸º nfs-scï¼Œå¯è‡ªå®šä¹‰åç§°ï¼Œä¸å¯ä¸é›†ç¾¤å…¶ä»–å­˜å‚¨ç±»é‡å¤&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å›æ”¶ç­–ç•¥&lt;/td>
&lt;td>ReclaimPolicyï¼ŒVPCå›æ”¶ç­–ç•¥&lt;/td>
&lt;td>åˆ é™¤ Delete / ä¿ç•™ Retain&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>åˆ é™¤åå½’æ¡£&lt;/td>
&lt;td>ArchiveOnDeleteï¼Œæ˜¯å¦åœ¨åˆ é™¤åå½’æ¡£PVC&lt;/td>
&lt;td>æ˜¯ / å¦&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æŒ‚è½½é€‰é¡¹&lt;/td>
&lt;td>MountOptionsï¼ŒNFS çš„ options å‚æ•°ï¼Œå¦‚nfsvers=4.1&lt;/td>
&lt;td>é€‰å¡«ï¼Œå¯å¡«å†™å¤šä¸ª&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å‰¯æœ¬æ•°&lt;/td>
&lt;td>Replicasï¼ŒNFS provisionerå‰¯æœ¬æ•°&lt;/td>
&lt;td>é»˜è®¤ä¸º1&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>NFSç±»å‹çš„å­˜å‚¨é»˜è®¤å¯å¯¹æ¥å¤šä¸ªï¼Œç‚¹å‡»ä¸‹æ–¹â€œç»§ç»­æ·»åŠ â€æŒ‰é’®ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªNFSå­˜å‚¨ï¼Œæ³¨æ„å­˜å‚¨ç±»åç§°ä¸å¯é‡å¤ã€‚&lt;/p>
&lt;p>è®¾ç½®å®Œå¤–æ¥å­˜å‚¨åï¼Œä¸‹æ–¹å¡ç‰‡ä¼šæ˜¾ç¤ºæ‚¨å·²ç»å¼€å¯çš„å­˜å‚¨ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä¸€ä¸ªå­˜å‚¨ç±»ä½œä¸ºé»˜è®¤å­˜å‚¨ï¼Œå¯¹äºæœªæŒ‡å®šç‰¹å®šStorageClass çš„ PVC ï¼Œä¼šç›´æ¥ä½¿ç”¨é»˜è®¤çš„å­˜å‚¨ç±»ã€‚&lt;/p>
&lt;h2 id="é›†ç¾¤æ“ä½œæ—¥å¿—æŸ¥çœ‹">é›†ç¾¤æ“ä½œæ—¥å¿—æŸ¥çœ‹&lt;/h2>
&lt;p>åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢ï¼Œç‚¹å‡»â€œæ“ä½œæ—¥å¿—â€æ ‡ç­¾é¡µï¼Œå¯ä»¥æŸ¥çœ‹é›†ç¾¤æ“ä½œæ—¥å¿—åˆ—è¡¨ã€‚ç‚¹å‡»æ“ä½œæ—¥å¿—å³ä¾§â€œæŸ¥çœ‹æ—¥å¿—â€æŒ‰é’®ï¼Œå¯ä»¥åœ¨å¼¹çª—ä¸­æŸ¥çœ‹å…¨éƒ¨æ­¥éª¤å’ŒèŠ‚ç‚¹çš„è¯¦ç»†æ—¥å¿—ã€‚ç‚¹å‡»å·¦ä¾§æ­¥éª¤åç§°ï¼Œå¯æŸ¥çœ‹æ‰§è¡Œæ­¥éª¤è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºã€‚&lt;/p>
&lt;p>åœ¨é›†ç¾¤æ“ä½œæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç‚¹å‡»æŸ¥çœ‹æ—¥å¿—ï¼Œæ‚¨å¯ä»¥å®æ—¶æŸ¥çœ‹åˆ°æ—¥å¿—æ›´æ–°æ¥è·Ÿè¸ªæ“ä½œæ‰§è¡Œæƒ…å†µã€‚å¯¹äºæ‰§è¡Œå¤±è´¥çš„ä»»åŠ¡ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹æ—¥å¿—ï¼Œæ‰¾åˆ°çº¢è‰²åœ†ç‚¹æ ‡æ³¨çš„æ‰§è¡Œæ­¥éª¤å’ŒèŠ‚ç‚¹ï¼Œå¿«é€Ÿå®šä½é”™è¯¯ï¼Œæ’æŸ¥æ“ä½œå¤±è´¥åŸå› ã€‚&lt;/p>
&lt;p>&lt;img src="https://zhc3o5gmf9.feishu.cn/space/api/box/stream/download/asynccode/?code=YmM4ZjUzODc3MThmZWIxNTVmODUzZmI1YzMzNzAxYTVfOVJ3QURVS2RnOWJrRTJiRHBPOWpDZEdpMWJZRU4yWm5fVG9rZW46Ym94Y25Xc3VmcE52dE1LNGJRRlRvTk9GTEtnXzE2NjA2MzQzNzE6MTY2MDYzNzk3MV9WNA" alt="">&lt;/p>
&lt;h2 id="è®¿é—®é›†ç¾¤-kubectl">è®¿é—®é›†ç¾¤ kubectl&lt;/h2>
&lt;p>æ‚¨å¯ä»¥è®¿é—®è¿è¡Œä¸­é›†ç¾¤çš„ kubectlï¼Œç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œè¿æ¥ç»ˆç«¯â€ï¼Œå°±å¯ä»¥åœ¨é›†ç¾¤ kuebectl å¼¹çª—ä¸­æ‰§è¡Œ kubectl å‘½ä»¤è¡Œæ“ä½œã€‚&lt;/p>
&lt;h2 id="é›†ç¾¤æ’ä»¶ç®¡ç†">é›†ç¾¤æ’ä»¶ç®¡ç†&lt;/h2>
&lt;p>é™¤äº†åœ¨åˆ›å»ºé›†ç¾¤æ—¶å®‰è£…æ’ä»¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¸ºè¿è¡Œä¸­çš„é›†ç¾¤å®‰è£…å­˜å‚¨å’Œå…¶ä»–è‡ªå®šä¹‰æ’ä»¶ã€‚ä»¥å®‰è£…å­˜å‚¨æ’ä»¶ä¸ºä¾‹ï¼Œç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œæ·»åŠ å­˜å‚¨é¡¹â€æŒ‰é’®ï¼Œè¿›å…¥æ·»åŠ å­˜å‚¨é¡¹é¡µé¢ï¼Œå¯ä»¥ä¸ºé›†ç¾¤å®‰è£… NFS æˆ–Ceph ç±»å‹çš„å­˜å‚¨æ’ä»¶ï¼Œå®‰è£…é…ç½®ä¸åˆ›å»ºé›†ç¾¤ä¸­çš„é…ç½®ç›¸åŒã€‚&lt;/p>
&lt;p>å¯¹äºå·²å®‰è£…çš„æ’ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µæŸ¥çœ‹æ’ä»¶ä¿¡æ¯ã€‚å¯ä»¥ç‚¹å‡»æ’ä»¶å¡ç‰‡å³ä¸Šè§’çš„â€œä¿å­˜ä¸ºæ¨¡ç‰ˆâ€æŒ‰é’®ï¼Œå°†æ’ä»¶ä¿¡æ¯ä¿å­˜ä¸ºæ¨¡ç‰ˆï¼Œä»¥ä¾¿ä¸ºå…¶ä»–é›†ç¾¤ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥ç‚¹å‡»æ’ä»¶å¡ç‰‡å³ä¸Šè§’çš„â€œç§»é™¤â€æŒ‰é’®ï¼Œå¸è½½é›†ç¾¤æ’ä»¶ã€‚&lt;/p>
&lt;h2 id="é›†ç¾¤èŠ‚ç‚¹ç®¡ç†">é›†ç¾¤èŠ‚ç‚¹ç®¡ç†&lt;/h2>
&lt;p>åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„â€œèŠ‚ç‚¹â€åˆ—è¡¨é¡µé¢ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å½“å‰é›†ç¾¤ä¸­çš„èŠ‚ç‚¹åˆ—è¡¨ï¼ŒèŠ‚ç‚¹çš„è§„æ ¼ã€çŠ¶æ€å’Œè§’è‰²ä¿¡æ¯ã€‚&lt;/p>
&lt;h3 id="æ·»åŠ é›†ç¾¤èŠ‚ç‚¹">æ·»åŠ é›†ç¾¤èŠ‚ç‚¹&lt;/h3>
&lt;p>å½“é›†ç¾¤è´Ÿè½½è¾ƒé«˜æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸ºé›†ç¾¤æ·»åŠ èŠ‚ç‚¹æ¥è¾¾åˆ°ä¸»åŠ¨æ‰©å®¹çš„ç›®çš„ï¼Œæ·»åŠ æ–°çš„â€œèŠ‚ç‚¹â€ä¸ä¼šå½±å“ç°æœ‰çš„ä¸šåŠ¡çš„è¿è¡Œã€‚&lt;/p>
&lt;p>åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„èŠ‚ç‚¹åˆ—è¡¨æ ‡ç­¾é¡µä¸‹ï¼Œç‚¹å‡»å·¦ä¾§çš„â€œæ·»åŠ èŠ‚ç‚¹â€æŒ‰é’®ï¼Œåœ¨å¼¹çª—ä¸­é€‰æ‹©å¯ç”¨èŠ‚ç‚¹ï¼Œè®¾ç½®èŠ‚ç‚¹æ ‡ç­¾ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒæ·»åŠ å·¥ä½œèŠ‚ç‚¹ã€‚&lt;/p>
&lt;h3 id="ç§»é™¤é›†ç¾¤èŠ‚ç‚¹">ç§»é™¤é›†ç¾¤èŠ‚ç‚¹&lt;/h3>
&lt;p>åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„èŠ‚ç‚¹åˆ—è¡¨æ ‡ç­¾é¡µä¸‹ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»èŠ‚ç‚¹å³ä¾§çš„ â€œç§»é™¤â€æŒ‰é’®ç§»é™¤èŠ‚ç‚¹ã€‚å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒç§»é™¤å·¥ä½œèŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>æ³¨æ„ï¼šç§»é™¤é›†ç¾¤èŠ‚ç‚¹ï¼Œæ‚¨éœ€è¦æ³¨æ„ç”Ÿäº§ä¸­çš„å®‰å…¨é—®é¢˜ï¼Œé¿å…åº”ç”¨å‘ç”Ÿä¸­æ–­ã€‚&lt;/p>
&lt;h2 id="é›†ç¾¤ç‰ˆæœ¬å‡çº§">é›†ç¾¤ç‰ˆæœ¬å‡çº§&lt;/h2>
&lt;p>å½“é›†ç¾¤ç‰ˆæœ¬ä¸æ»¡è¶³éœ€è¦ï¼Œæ‚¨å¯ä»¥ä¸ºé›†ç¾¤å‡çº§ K8S ç‰ˆæœ¬ã€‚ä¸åˆ›å»ºé›†ç¾¤ä¸€æ ·ï¼Œæ‚¨éœ€è¦å‡†å¤‡å¥½é›†ç¾¤ç‰ˆæœ¬æ‰€éœ€é…ç½®åŒ…å’Œç›®æ ‡ç‰ˆæœ¬çš„ K8S é•œåƒå¹¶ä¸Šä¼ è‡³æŒ‡å®šä½ç½®ï¼Œè¯¦æƒ…å‚è§â€œåˆ›å»ºé›†ç¾¤å‡†å¤‡å·¥ä½œâ€ã€‚&lt;/p>
&lt;p>ç‚¹å‡»é›†ç¾¤æ“ä½œçš„â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤å‡çº§â€æŒ‰é’®ï¼Œåœ¨é›†ç¾¤å‡çº§å¼¹çª—ä¸­é€‰æ‹©å®‰è£…æ–¹å¼å’Œé•œåƒä»“åº“ï¼Œé€‰æ‹©å‡çº§çš„ç›®æ ‡ç‰ˆæœ¬ï¼Œå‡çº§çš„å®‰è£…æ–¹å¼å’Œ K8S ç‰ˆæœ¬çš„é…ç½®ä¸åˆ›å»ºé›†ç¾¤ç›¸åŒï¼Œè¯¦æƒ…å‚è§â€œé›†ç¾¤é…ç½®æŒ‡å—â€ã€‚&lt;/p>
&lt;p>é›†ç¾¤å‡çº§å¯ä»¥è·¨å°ç‰ˆæœ¬ï¼Œä½†ä¸æ”¯æŒç•¥è¿‡æ¬¡ç‰ˆæœ¬çš„å‡çº§ï¼Œå¦‚æ‚¨å¯ä»¥ä»v1.20.2å‡çº§åˆ°v1.20.13ï¼Œæˆ–ç”±v1.20.xå‡çº§åˆ°v1.21.xï¼Œä½†ä¸æ”¯æŒä»v1.20.xå‡çº§åˆ°v1.22.xã€‚å¯¹äº1.23.xç‰ˆæœ¬ï¼Œæš‚ä¸æ”¯æŒå‡çº§åˆ°1.24.xç‰ˆæœ¬ã€‚&lt;/p>
&lt;p>å‡çº§é›†ç¾¤æ“ä½œå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢æŸ¥çœ‹æ“ä½œæ—¥å¿—ï¼Œè·Ÿè¸ªé›†ç¾¤å‡çº§çŠ¶æ€ã€‚&lt;/p>
&lt;h2 id="é›†ç¾¤å¤‡ä»½ä¸æ¢å¤">é›†ç¾¤å¤‡ä»½ä¸æ¢å¤&lt;/h2>
&lt;p>KubeClipper å¯¹ k8s é›†ç¾¤çš„å¤‡ä»½ä¸»è¦ä¸ºå¤‡ä»½ ETCD æ•°æ®åº“æ•°æ®ï¼Œä»¥åŠ k8s çš„èµ„æºå¯¹è±¡å¤‡ä»½ï¼Œå¦‚ namespaceï¼Œdeploymentã€configMapã€‚å¯¹èµ„æºè‡ªèº«äº§ç”Ÿçš„æ–‡ä»¶å’Œæ•°æ®ä¸åšå¤‡ä»½ï¼Œä¾‹å¦‚å¯¹é›†ç¾¤ä¸­è¿è¡Œçš„ mysql podï¼Œè¯¥ mysql pod äº§ç”Ÿçš„æ•°æ®å’Œæ–‡ä»¶ï¼Œä¸ä¼šä¸ºä¹‹å¤‡ä»½ï¼ŒåŒç†ï¼Œæ–‡ä»¶ç±»çš„ pv å¯¹è±¡ä¸‹çš„æ–‡ä»¶ï¼Œä¹Ÿä¸åšå¤‡ä»½ï¼Œä»…ä»…å¤‡ä»½ pv è¿™ä¸ªå¯¹è±¡ã€‚KubeClipper æä¾›çš„å¤‡ä»½åŠŸèƒ½æ˜¯çƒ­å¤‡ä»½ï¼Œå¤‡ä»½æœŸé—´ä¸å½±å“é›†ç¾¤çš„ä½¿ç”¨ã€‚KubeClipper è™½ç„¶ä¸åå¯¹åœ¨é›†ç¾¤ &amp;ldquo;ç¹å¿™æœŸ&amp;rdquo; å¤‡ä»½ï¼Œä½†ä¹Ÿå¼ºçƒˆä¸èµæˆåœ¨é›†ç¾¤ &amp;ldquo;ç¹å¿™æœŸ&amp;rdquo; å¤‡ä»½ã€‚&lt;/p>
&lt;h3 id="åˆ›å»ºå¤‡ä»½ç‚¹">åˆ›å»ºå¤‡ä»½ç‚¹&lt;/h3>
&lt;p>æ‰§è¡Œå¤‡ä»½ä¹‹å‰ï¼Œæ‚¨éœ€è¦å…ˆä¸ºé›†ç¾¤è®¾ç½®å¤‡ä»½ç‚¹ï¼Œå³è®¾ç½®å¤‡ä»½æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ã€‚å¤‡ä»½ç‚¹çš„å­˜å‚¨ç±»å‹å¯ä»¥æ˜¯FS å­˜å‚¨æˆ– S3 å­˜å‚¨ï¼Œä¸‹é¢ä»¥èŠ‚ç‚¹æœ¬åœ°å­˜å‚¨ã€NFS å­˜å‚¨å’Œ MINIO å­˜å‚¨ä¸ºä¾‹ï¼š&lt;/p>
&lt;p>&lt;strong>èŠ‚ç‚¹æœ¬åœ°å­˜å‚¨&lt;/strong>**ï¼ˆä»…é€‚ç”¨å•èŠ‚ç‚¹å®éªŒé›†ç¾¤ï¼‰ï¼š**&lt;/p>
&lt;ol>
&lt;li>
&lt;p>åˆ›å»ºå­˜å‚¨ç›®å½•ã€‚è¿æ¥é›†ç¾¤ master èŠ‚ç‚¹ç»ˆç«¯ï¼ˆå¯å‚è§è¿æ¥èŠ‚ç‚¹ç»ˆç«¯ï¼‰ï¼Œä½¿ç”¨ mkdir å‘½ä»¤ï¼Œåœ¨ master èŠ‚ç‚¹ä¸­åˆ›å»ºâ€œ/root/backupâ€ç›®å½•ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ›å»ºå¤‡ä»½ç‚¹ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œå¤‡ä»½ç‚¹â€ï¼Œè¿›å…¥å¤‡ä»½ç‚¹åˆ—è¡¨é¡µï¼Œç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨åˆ›å»ºå¤‡ä»½ç‚¹å¼¹çª—ä¸­ï¼Œè¾“å…¥â€œå¤‡ä»½ç‚¹åç§°â€ï¼Œå¦‚â€œlocalâ€ï¼Œé€‰æ‹©â€œå­˜å‚¨ç±»å‹â€ä¸ºâ€œFSâ€ï¼Œå¡«å†™â€œå¤‡ä»½è·¯å¾„â€ï¼Œå¦‚â€œ/root/backupâ€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è®¾ç½®é›†ç¾¤å¤‡ä»½ç‚¹ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢é€‰æ‹©â€œå¤‡ä»½ç‚¹â€ä¸ºâ€œlocalâ€ï¼Œæˆ–è€…ç¼–è¾‘å·²æœ‰é›†ç¾¤ï¼Œåœ¨ç¼–è¾‘é›†ç¾¤å¼¹çª—ä¸­çš„â€œå¤‡ä»½ç‚¹â€ä¸­é€‰æ‹©â€œlocalâ€ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>æ³¨æ„ï¼šä½¿ç”¨æœ¬åœ°èŠ‚ç‚¹å­˜å‚¨å¤‡ä»½æ–‡ä»¶ï¼Œä¸éœ€è¦å¼•å…¥å¤–éƒ¨å­˜å‚¨ï¼Œç¼ºç‚¹æ˜¯å¦‚æœæœ¬åœ°èŠ‚ç‚¹é­åˆ°ç ´åï¼Œå¤‡ä»½æ–‡ä»¶ä¹Ÿä¼šä¸¢å¤±ï¼Œæ‰€ä»¥å¼ºçƒˆä¸èµæˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚&lt;/p>
&lt;p>&lt;strong>NFSï¼š&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å‡†å¤‡ NFS å­˜å‚¨ã€‚å‡†å¤‡ä¸€å° NFS æœåŠ¡ï¼Œå¹¶åœ¨ NFS æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªç”¨äºå­˜æ”¾å¤‡ä»½æ–‡ä»¶çš„ç›®å½•ï¼Œå¦‚ â€œ/data/kubeclipper/cluster-backupsâ€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æŒ‚è½½å­˜å‚¨ç›®å½•ã€‚è¿æ¥é›†ç¾¤ master èŠ‚ç‚¹ç»ˆç«¯ï¼ˆå¯å‚è§è¿æ¥èŠ‚ç‚¹ç»ˆç«¯ï¼‰ï¼Œä½¿ç”¨ mkdir å‘½ä»¤ï¼Œåœ¨æ¯ä¸ª master èŠ‚ç‚¹ä¸­åˆ›å»ºâ€œ/data/kubeclipper/cluster-backupsâ€ç›®å½•ï¼Œå¹¶ mount åˆ° NFS æœåŠ¡å™¨çš„ /data/kubeclipper/cluster-backups ç›®å½•å³å¯ï¼Œå‘½ä»¤ç¤ºä¾‹ï¼šmount -t nfs { NFS_IP }:/data/kubeclipper/cluster-backups /opt/kubeclipper/cluster-backups -o proto=tcp -o nolockã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ›å»ºå¤‡ä»½ç‚¹ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œå¤‡ä»½ç‚¹â€ï¼Œè¿›å…¥å¤‡ä»½ç‚¹åˆ—è¡¨é¡µï¼Œç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨åˆ›å»ºå¤‡ä»½ç‚¹å¼¹çª—ä¸­ï¼Œè¾“å…¥â€œå¤‡ä»½ç‚¹åç§°â€ï¼Œå¦‚â€œnfsâ€ï¼Œé€‰æ‹©â€œå­˜å‚¨ç±»å‹â€ä¸ºâ€œFSâ€ï¼Œå¡«å†™â€œå¤‡ä»½è·¯å¾„â€ä¸ºâ€œ/opt/kubeclipper/cluster-backupsâ€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è®¾ç½®é›†ç¾¤å¤‡ä»½ç‚¹ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢é€‰æ‹©â€œå¤‡ä»½ç‚¹â€ä¸ºâ€œnfsâ€ï¼Œæˆ–è€…ç¼–è¾‘å·²æœ‰é›†ç¾¤ï¼Œåœ¨ç¼–è¾‘é›†ç¾¤å¼¹çª—ä¸­çš„â€œå¤‡ä»½ç‚¹â€ä¸­é€‰æ‹©â€œnfsâ€ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>MINIOï¼š&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å‡†å¤‡ MINIO å­˜å‚¨ã€‚æ­å»º MINIO æœåŠ¡ï¼Œéƒ¨ç½²è¿‡ç¨‹å‚è€ƒå®˜ç½‘ &lt;a href="https://docs.min.io/docs/minio-quickstart-guide.html">https://docs.min.io/docs/minio-quickstart-guide.html&lt;/a>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å·²æœ‰ MINIO æœåŠ¡ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ›å»ºå¤‡ä»½ç‚¹ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œå¤‡ä»½ç‚¹â€ï¼Œè¿›å…¥å¤‡ä»½ç‚¹åˆ—è¡¨é¡µï¼Œç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨åˆ›å»ºå¤‡ä»½ç‚¹å¼¹çª—ä¸­ï¼Œè¾“å…¥â€œå¤‡ä»½ç‚¹åç§°â€ï¼Œå¦‚â€œminioâ€ï¼Œé€‰æ‹©â€œå­˜å‚¨ç±»å‹â€ä¸ºâ€œS3â€ï¼Œå¡«å†™â€œbucket åç§°â€ï¼Œå¦‚ â€œkubeclipper-backupsâ€ï¼Œè¯¥ bucket å°†ç”± kubeclipper è‡ªåŠ¨åˆ›å»ºï¼Œâ€œEndpointâ€ä¸­å¡«å†™ç¬¬ä¸€æ­¥ MINIO å­˜å‚¨æœåŠ¡çš„ ip å’Œç«¯å£å·ï¼Œå¡«å†™æœåŠ¡ç”¨æˆ·åå’Œå¯†ç ï¼Œç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è®¾ç½®é›†ç¾¤å¤‡ä»½ç‚¹ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢é€‰æ‹©â€œå¤‡ä»½ç‚¹â€ä¸ºâ€œminioâ€ï¼Œæˆ–è€…ç¼–è¾‘å·²æœ‰é›†ç¾¤ï¼Œåœ¨ç¼–è¾‘é›†ç¾¤å¼¹çª—ä¸­çš„â€œå¤‡ä»½ç‚¹â€ä¸­é€‰æ‹©â€œminioâ€ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>æ‚¨å¯ä»¥åœ¨â€œé›†ç¾¤ç®¡ç†â€çš„â€œå¤‡ä»½ç‚¹â€é¡µé¢æŸ¥çœ‹æ‰€æœ‰å¤‡ä»½ç‚¹åˆ—è¡¨å’Œè¯¦ç»†ä¿¡æ¯ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘å¤‡ä»½ç‚¹æè¿°ï¼Œå’Œ S3 ç±»å‹å¤‡ä»½ç‚¹çš„ç”¨æˆ·å/å¯†ç ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤å¤‡ä»½ç‚¹ï¼Œå¤‡ä»½ç‚¹ä¸‹å­˜åœ¨å¤‡ä»½æ–‡ä»¶çš„ï¼Œä¸å…è®¸åˆ é™¤ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="é›†ç¾¤å¤‡ä»½">é›†ç¾¤å¤‡ä»½&lt;/h3>
&lt;p>æ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤å¤‡ä»½â€æŒ‰é’®ï¼Œå¤‡ä»½é›†ç¾¤ ETCD æ•°æ®ã€‚&lt;/p>
&lt;p>æ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢çš„å¤‡ä»½æ ‡ç­¾é¡µä¸‹ï¼ŒæŸ¥çœ‹å½“å‰é›†ç¾¤çš„æ‰€æœ‰å¤‡ä»½æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å¯¹å¤‡ä»½æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘å¤‡ä»½æè¿°ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ¢å¤ï¼šæ‰§è¡Œé›†ç¾¤æ¢å¤æ“ä½œï¼Œå°†é›†ç¾¤æ¢å¤è‡³æŒ‡å®šå¤‡ä»½çŠ¶æ€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤æŒ‡å®šå¤‡ä»½æ–‡ä»¶ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="å®šæ—¶å¤‡ä»½">å®šæ—¶å¤‡ä»½&lt;/h3>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥ä¸ºé›†ç¾¤åˆ›å»ºå®šæ—¶å¤‡ä»½ï¼Œç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œå®šæ—¶å¤‡ä»½â€æŒ‰é’®ï¼Œåœ¨å®šæ—¶å¤‡ä»½å¼¹çª—ä¸­ï¼Œè¾“å…¥å®šæ—¶å¤‡ä»½åç§°ã€æ‰§è¡Œç±»å‹ï¼ˆé‡å¤æ‰§è¡Œ/ä»…æ‰§è¡Œä¸€æ¬¡ï¼‰å’Œæ‰§è¡Œæ—¶é—´ï¼Œå¹¶ä¸ºé‡å¤æ‰§è¡Œçš„å®šæ—¶å¤‡ä»½è®¾ç½®æœ‰æ•ˆå¤‡ä»½ä¸ªæ•°ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚&lt;/p>
&lt;p>kubeClipper ä¼šåœ¨æ‚¨è®¾ç½®çš„æ‰§è¡Œæ—¶é—´ä¸ºé›†ç¾¤æ‰§è¡Œå¤‡ä»½ä»»åŠ¡ï¼Œå¤‡ä»½æ–‡ä»¶ä¼šè‡ªåŠ¨å‘½åä¸ºâ€œé›†ç¾¤åç§°-å®šæ—¶å¤‡ä»½åç§°-éšæœºç â€ï¼Œå¯¹äºé‡å¤æ‰§è¡Œçš„å®šæ—¶å¤‡ä»½ï¼ŒkubeClipper ä¼šåœ¨è¯¥å®šæ—¶ä»»åŠ¡ä¸‹çš„å¤‡ä»½æ–‡ä»¶è¶…è¿‡æœ‰æ•ˆå¤‡ä»½ä¸ªæ•°æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤è¶…å‡ºä¸ªæ•°çš„è¾ƒæ™šçš„å¤‡ä»½æ–‡ä»¶ã€‚&lt;/p>
&lt;p>å®šæ—¶å¤‡ä»½æ·»åŠ å®Œæˆåï¼Œå¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„â€œå®šæ—¶å¤‡ä»½â€æ ‡ç­¾é¡µæŸ¥çœ‹å®šæ—¶å¤‡ä»½ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥åœ¨â€œå¤‡ä»½â€æ ‡ç­¾é¡µæŸ¥çœ‹å®šæ—¶å¤‡ä»½äº§ç”Ÿçš„å¤‡ä»½æ–‡ä»¶ã€‚&lt;/p>
&lt;p>å¯¹äºå®šæ—¶å¤‡ä»½ä»»åŠ¡ï¼Œæ‚¨è¿˜å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘å®šæ—¶å¤‡ä»½ä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼Œå’Œé‡å¤æ‰§è¡Œçš„å®šæ—¶å¤‡ä»½çš„æœ‰æ•ˆå¤‡ä»½ä¸ªæ•°ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¯ç”¨/ç¦ç”¨ï¼šç¦ç”¨çš„å®šæ—¶å¤‡ä»½ä»»åŠ¡å°†æš‚æ—¶åœæ­¢æ‰§è¡Œã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤å®šæ—¶å¤‡ä»½ä»»åŠ¡ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="é›†ç¾¤å¤‡ä»½æ¢å¤">é›†ç¾¤å¤‡ä»½æ¢å¤&lt;/h3>
&lt;p>å¦‚æœæ‚¨åœ¨é›†ç¾¤æ­£å¸¸è¿è¡ŒæœŸé—´æ‰§è¡Œæ¢å¤æ“ä½œï¼Œåˆ™ KubeClipper å°†å¯¹è¯¥é›†ç¾¤è¿›è¡Œè¦†ç›–å¼æ¢å¤ï¼Œå°±æ˜¯å¤‡ä»½æ–‡ä»¶é‡Œé¢çš„ etcd æ•°æ®ï¼Œè¦†ç›–ç°æœ‰çš„æ•°æ®ã€‚&lt;/p>
&lt;p>æ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„å¤‡ä»½æ ‡ç­¾é¡µä¸‹ï¼Œç‚¹å‡»å¤‡ä»½å³ä¾§çš„ â€œæ¢å¤â€æŒ‰é’®ï¼›æˆ–ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œæ¢å¤é›†ç¾¤â€æŒ‰é’®ï¼Œåœ¨æ¢å¤é›†ç¾¤å¼¹çª—ä¸­é€‰æ‹©éœ€è¦æ¢å¤çš„å¤‡ä»½ï¼Œå¯ä»¥å°†å½“å‰é›†ç¾¤æ¢å¤è‡³æŒ‡å®šå¤‡ä»½çŠ¶æ€ã€‚&lt;/p>
&lt;p>æ³¨æ„ï¼šé›†ç¾¤å‡çº§åï¼Œå°†æ— æ³•å†æ¢å¤åˆ°å‡çº§å‰ç‰ˆæœ¬çš„å¤‡ä»½ã€‚&lt;/p></description></item><item><title>Docs: éƒ¨ç½² HA</title><link>https://www.kubeclipper.io/docs/deployment-docs/ha-env/</link><pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/deployment-docs/ha-env/</guid><description>
&lt;p>æœ¬æ–‡æ¡£æ—¨åœ¨é€šè¿‡ç®€å•çš„æ“ä½œéƒ¨ç½²ä¸€ä¸ª HA ç‰ˆæœ¬çš„ kubeclipperã€‚&lt;/p>
&lt;blockquote>
&lt;p>å¦‚æœåªæ˜¯æƒ³ç®€å•ä½“éªŒä¸€ä¸‹ï¼Œè¯·å‚è€ƒ &lt;a href="https://github.com/kubeclipper/kubeclipper/blob/master/README_zh.md#quick-start">QuickStart&lt;/a> éƒ¨ç½² AIO ç¯å¢ƒã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ&lt;/h2>
&lt;p>HA éƒ¨ç½²æ³¨æ„äº‹é¡¹ï¼š&lt;/p>
&lt;ul>
&lt;li>kubeclipper ä½¿ç”¨ etcd ä½œä¸ºåç«¯å­˜å‚¨ï¼Œä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼Œå»ºè®®ä½¿ç”¨ 3 èŠ‚ç‚¹åŠä»¥ä¸Šæ¥éƒ¨ç½²ã€‚&lt;/li>
&lt;li>ç”Ÿäº§ç¯å¢ƒå»ºè®® server èŠ‚ç‚¹å’Œ agent èŠ‚ç‚¹åˆ†ç¦»ï¼Œé¿å…æŸä¸€ä¸»æœºåŒæ—¶ä½œä¸º server èŠ‚ç‚¹å’Œ agent èŠ‚ç‚¹ã€‚&lt;/li>
&lt;/ul>
&lt;p>ä¸»æœºè¦æ±‚ï¼šæ‚¨ä»…éœ€å‚è€ƒ &lt;a href="https://github.com/kubeclipper/kubeclipper/blob/master/README_zh.md#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">å‡†å¤‡å·¥ä½œ&lt;/a> ä¸­å¯¹æœºå™¨ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„è¦æ±‚å‡†å¤‡å¤šå°ä¸»æœºã€‚&lt;/p>
&lt;h2 id="éƒ¨ç½²-kubeclipper">éƒ¨ç½² KubeClipper&lt;/h2>
&lt;h3 id="ä¸‹è½½-kcctl">ä¸‹è½½ kcctl&lt;/h3>
&lt;p>KubeClipper æä¾›äº†å‘½ä»¤è¡Œå·¥å…·ğŸ”§ kcctl ä»¥ç®€åŒ–è¿ç»´å·¥ä½œï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½æœ€æ–°ç‰ˆ kcctlï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># é»˜è®¤å®‰è£…æœ€æ–°å‘è¡Œç‰ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/kcctl.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> bash -
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å¦‚æœä½ åœ¨ä¸­å›½ï¼Œ ä½ å¯ä»¥åœ¨å®‰è£…æ—¶ä½¿ç”¨ cn ç¯å¢ƒå˜é‡, æ­¤æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ registry.aliyuncs.com/google_containers ä»£æ›¿ k8s.gcr.io&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/kcctl.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_REGION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>cn bash -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥åœ¨ &lt;a href="https://github.com/kubeclipper/kubeclipper/releases">GitHub Release Page&lt;/a> ä¸‹è½½æŒ‡å®šç‰ˆæœ¬ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¼€å§‹å®‰è£…">å¼€å§‹å®‰è£…&lt;/h3>
&lt;p>æ‚¨åªéœ€æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å³å¯å®‰è£… KubeClipperï¼Œå…¶æ¨¡æ¿å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>kcctl deploy [--user root] (--passwd SSH_PASSWD | --pk-file SSH_PRIVATE_KEY) (--server SERVER_NODES) (--agent AGENT_NODES)
&lt;/code>&lt;/pre>&lt;p>è‹¥ä½¿ç”¨ ssh passwd æ–¹å¼åˆ™å‘½ä»¤å¦‚ä¸‹æ‰€ç¤º:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy --user root --passwd &lt;span style="color:#000">$SSH_PASSWD&lt;/span> --server SERVER_NODES --agent AGENT_NODES
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç§é’¥æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy --user root --pk-file &lt;span style="color:#000">$SSH_PRIVATE_KEY&lt;/span> --server SERVER_NODES --agent AGENT_NODES
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æ‚¨åªéœ€è¦æä¾› ssh user ä»¥åŠ ssh passwd æˆ–è€… ssh ç§é’¥å³å¯åœ¨å¯¹åº”èŠ‚ç‚¹éƒ¨ç½² KubeClipperã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æœ¬æ•™ç¨‹ä½¿ç”¨ ç§é’¥ æ–¹å¼è¿›è¡Œéƒ¨ç½²ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy --server 192.168.10.110,192.168.10.111,192.168.10.112 --agent 192.168.10.113,192.168.10.114,192.168.10.115 --pk-file ~/.ssh/id_rsa --pkg https://oss.kubeclipper.io/release/v1.1.0/kc-amd64.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>è¯¥å‘½ä»¤æŒ‡å®š kubeclipper åŒ…å« 3 server èŠ‚ç‚¹ï¼Œ3 agent èŠ‚ç‚¹ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ‚¨å¯ä»¥è®¿é—® &lt;a href="https://github.com/kubeclipper/kubeclipper/releases">GitHub Release Page&lt;/a> æŸ¥çœ‹å½“å‰ KubeClipper çš„ Release ç‰ˆæœ¬ï¼Œæ¥ä¿®æ”¹ pkg å‚æ•°ä¸­çš„ç‰ˆæœ¬å·ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ¯”å¦‚åœ¨ v1.2.0 ç‰ˆæœ¬ release ä¹‹åæ‚¨å¯ä»¥æŒ‡å®š &amp;ndash;pkg ä¸º &lt;code>https://oss.kubeclipper.io/release/v1.2.0/kc-amd64.tar.gz&lt;/code> æ¥å®‰è£… v1.2.0 ç‰ˆæœ¬ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ‰§è¡Œè¯¥å‘½ä»¤åï¼ŒKcctl å°†æ£€æŸ¥æ‚¨çš„å®‰è£…ç¯å¢ƒï¼Œè‹¥æ»¡è¶³æ¡ä»¶å°†ä¼šè¿›å…¥å®‰è£…æµç¨‹ã€‚åœ¨æ‰“å°å‡ºå¦‚ä¸‹çš„ KubeClipper banner åå³è¡¨ç¤ºå®‰è£…å®Œæˆã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span> _ __ _ _____ _ _
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| | / / | | / __ \ (_)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| |/ / _ _| |__ ___| / \/ |_ _ __ _ __ ___ _ __
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| \| | | | &amp;#39;_ \ / _ \ | | | | &amp;#39;_ \| &amp;#39;_ \ / _ \ &amp;#39;__|
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| |\ \ |_| | |_) | __/ \__/\ | | |_) | |_) | __/ |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>\_| \_/\__,_|_.__/ \___|\____/_|_| .__/| .__/ \___|_|
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> | | | |
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> |_| |_|
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç™»å½•æ§åˆ¶å°">ç™»å½•æ§åˆ¶å°&lt;/h3>
&lt;p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® &lt;code>http://$IP&lt;/code> å³å¯è¿›å…¥ KubeClipper æ§åˆ¶å°ã€‚
&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/console-login.png" alt="console">&lt;/p>
&lt;p>æ‚¨å¯ä»¥ä½¿ç”¨é»˜è®¤å¸å·å¯†ç  &lt;code>admin / Thinkbig1&lt;/code> è¿›è¡Œç™»å½•ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ‚¨å¯èƒ½éœ€è¦é…ç½®ç«¯å£è½¬å‘è§„åˆ™å¹¶åœ¨å®‰å…¨ç»„ä¸­å¼€æ”¾ç«¯å£ï¼Œä»¥ä¾¿å¤–éƒ¨ç”¨æˆ·è®¿é—®æ§åˆ¶å°ã€‚&lt;/p>
&lt;/blockquote></description></item><item><title>Docs: éƒ¨ç½²AIO</title><link>https://www.kubeclipper.io/docs/getting-started/aio-env/</link><pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/getting-started/aio-env/</guid><description>
&lt;p>å¯¹äºåˆæ¬¡æ¥è§¦ KubeClipper å¹¶æƒ³å¿«é€Ÿä¸Šæ‰‹çš„ç”¨æˆ·ï¼Œå»ºè®®ä½¿ç”¨ All-in-One å®‰è£…æ¨¡å¼ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æ‚¨é›¶é…ç½®å¿«é€Ÿéƒ¨ç½² KubeClipperã€‚&lt;/p>
&lt;h2 id="éƒ¨ç½²-kubeclipper">éƒ¨ç½² KubeClipper&lt;/h2>
&lt;h3 id="ä¸‹è½½-kcctl">ä¸‹è½½ kcctl&lt;/h3>
&lt;p>KubeClipper æä¾›äº†å‘½ä»¤è¡Œå·¥å…·ğŸ”§ kcctl ä»¥ç®€åŒ–è¿ç»´å·¥ä½œï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½æœ€æ–°ç‰ˆ kcctlï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># é»˜è®¤å®‰è£…æœ€æ–°çš„å‘è¡Œç‰ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/kcctl.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> bash -
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å®‰è£…æŒ‡å®šç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/kcctl.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_VERSION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>v1.2.1 bash -
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å¦‚æœä½ åœ¨ä¸­å›½ï¼Œ ä½ å¯ä»¥åœ¨å®‰è£…æ—¶ä½¿ç”¨ cn ç¯å¢ƒå˜é‡, æ­¤æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ registry.aliyuncs.com/google_containers ä»£æ›¿ k8s.gcr.io&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/kcctl.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_REGION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>cn bash -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥åœ¨ &lt;a href="https://github.com/kubeclipper/kubeclipper/releases">GitHub Release Page&lt;/a> ä¸‹è½½æŒ‡å®šç‰ˆæœ¬ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¼€å§‹å®‰è£…">å¼€å§‹å®‰è£…&lt;/h3>
&lt;p>åœ¨æœ¬å¿«é€Ÿå…¥é—¨æ•™ç¨‹ä¸­ï¼Œæ‚¨åªéœ€æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å³å¯å®‰è£… KubeClipperï¼Œå…¶æ¨¡æ¿å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è‹¥ä½¿ç”¨ ssh passwd æ–¹å¼åˆ™å‘½ä»¤å¦‚ä¸‹æ‰€ç¤º:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy --user root --passwd &lt;span style="color:#000">$SSH_PASSWD&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç§é’¥æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy --user root --pk-file &lt;span style="color:#000">$SSH_PRIVATE_KEY&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æ‚¨åªéœ€è¦æä¾› ssh user ä»¥åŠ ssh passwd æˆ–è€… ssh ç§é’¥å³å¯åœ¨æœ¬æœºéƒ¨ç½² KubeClipperã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ‰§è¡Œè¯¥å‘½ä»¤åï¼ŒKcctl å°†æ£€æŸ¥æ‚¨çš„å®‰è£…ç¯å¢ƒï¼Œè‹¥æ»¡è¶³æ¡ä»¶å°†ä¼šè¿›å…¥å®‰è£…æµç¨‹ã€‚åœ¨æ‰“å°å‡ºå¦‚ä¸‹çš„ KubeClipper banner åå³è¡¨ç¤ºå®‰è£…å®Œæˆã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-console" data-lang="console">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic"> _ __ _ _____ _ _
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">| | / / | | / __ \ (_)
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">| |/ / _ _| |__ ___| / \/ |_ _ __ _ __ ___ _ __
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">| \| | | | &amp;#39;_ \ / _ \ | | | | &amp;#39;_ \| &amp;#39;_ \ / _ \ &amp;#39;__|
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">| |\ \ |_| | |_) | __/ \__/\ | | |_) | |_) | __/ |
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">\_| \_/\__,_|_.__/ \___|\____/_|_| .__/| .__/ \___|_|
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic"> | | | |
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic"> |_| |_|
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç™»å½•æ§åˆ¶å°">ç™»å½•æ§åˆ¶å°&lt;/h3>
&lt;p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® &lt;code>http://$IP&lt;/code> å³å¯è¿›å…¥ KubeClipper æ§åˆ¶å°ã€‚&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/console-login.png" alt="console">&lt;/p>
&lt;p>æ‚¨å¯ä»¥ä½¿ç”¨é»˜è®¤å¸å·å¯†ç  &lt;code>admin / Thinkbig1&lt;/code> è¿›è¡Œç™»å½•ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ‚¨å¯èƒ½éœ€è¦é…ç½®ç«¯å£è½¬å‘è§„åˆ™å¹¶åœ¨å®‰å…¨ç»„ä¸­å¼€æ”¾ç«¯å£ï¼Œä»¥ä¾¿å¤–éƒ¨ç”¨æˆ·è®¿é—®æ§åˆ¶å°ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="åˆ›å»º-k8s-é›†ç¾¤">åˆ›å»º k8s é›†ç¾¤&lt;/h2>
&lt;p>éƒ¨ç½²æˆåŠŸåæ‚¨å¯ä»¥ä½¿ç”¨ &lt;strong>kcctl å·¥å…·&lt;/strong>æˆ–è€…é€šè¿‡&lt;strong>æ§åˆ¶å°&lt;/strong>åˆ›å»º k8s é›†ç¾¤ã€‚åœ¨æœ¬å¿«é€Ÿå…¥é—¨æ•™ç¨‹ä¸­ä½¿ç”¨ kcctl å·¥å…·è¿›è¡Œåˆ›å»ºã€‚&lt;/p>
&lt;p>é¦–å…ˆä½¿ç”¨é»˜è®¤å¸å·å¯†ç è¿›è¡Œç™»å½•è·å– tokenï¼Œä¾¿äºåç»­ kcctl å’Œ kc-server è¿›è¡Œäº¤äº’ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl login -H http://localhost -u admin -p Thinkbig1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»º k8s é›†ç¾¤:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">NODE&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>kcctl get node -o yaml&lt;span style="color:#000;font-weight:bold">|&lt;/span>grep ipv4DefaultIP:&lt;span style="color:#000;font-weight:bold">|&lt;/span>sed &lt;span style="color:#4e9a06">&amp;#39;s/ipv4DefaultIP: //&amp;#39;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl create cluster --master &lt;span style="color:#000">$NODE&lt;/span> --name demo --untaint-master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¤§æ¦‚ 3 åˆ†é’Ÿå·¦å³å³å¯å®Œæˆé›†ç¾¤åˆ›å»º,ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é›†ç¾¤çŠ¶æ€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl get cluster -o yaml&lt;span style="color:#000;font-weight:bold">|&lt;/span>grep status -A5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥è¿›å…¥æ§åˆ¶å°æŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è¿›å…¥ Running çŠ¶æ€å³è¡¨ç¤ºé›†ç¾¤å®‰è£…å®Œæˆ,æ‚¨å¯ä»¥ä½¿ç”¨ &lt;code>kubectl get cs&lt;/code> å‘½ä»¤æ¥æŸ¥çœ‹é›†ç¾¤å¥åº·çŠ¶å†µã€‚&lt;/p></description></item><item><title>Docs: èŠ‚ç‚¹ç®¡ç†</title><link>https://www.kubeclipper.io/docs/tutorials/node-manage/</link><pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/tutorials/node-manage/</guid><description>
&lt;p>åœ¨â€œèŠ‚ç‚¹ä¿¡æ¯â€é¡µé¢ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å¹³å°ä¸­ç®¡ç†çš„å…¨éƒ¨èŠ‚ç‚¹åˆ—è¡¨ï¼ŒèŠ‚ç‚¹è§„æ ¼ã€çŠ¶æ€ç­‰ä¿¡æ¯ã€‚ç‚¹å‡»èŠ‚ç‚¹åç§°è¿›å…¥èŠ‚ç‚¹è¯¦æƒ…é¡µé¢ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„èŠ‚ç‚¹åŸºæœ¬ä¿¡æ¯å’Œç³»ç»Ÿä¿¡æ¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/node-info.png" alt="">&lt;/p>
&lt;p>KubeClipper ä¸­çš„èŠ‚ç‚¹çŠ¶æ€è¡¨ç¤º kc-gent å¯¹èŠ‚ç‚¹çš„ç®¡ç†çŠ¶æ€ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹çŠ¶æ€æ˜¾ç¤ºä¸ºâ€œå°±ç»ªâ€ï¼Œå½“èŠ‚ç‚¹å¤±è”4åˆ†é’Ÿï¼ˆè¯¯å·®æ—¶é—´10så†…ï¼‰åï¼ŒçŠ¶æ€ä¼šæ›´æ–°ä¸ºâ€œæœªçŸ¥â€ï¼ŒæœªçŸ¥çŠ¶æ€çš„èŠ‚ç‚¹æ— æ³•è¿›è¡Œä»»ä½•æ“ä½œï¼Œä¹Ÿæ— æ³•åˆ›å»ºé›†ç¾¤æˆ–ä¸ºé›†ç¾¤æ·»åŠ /ç§»é™¤èŠ‚ç‚¹ã€‚&lt;/p>
&lt;h2 id="æ·»åŠ èŠ‚ç‚¹">æ·»åŠ èŠ‚ç‚¹&lt;/h2>
&lt;p>åœ¨éƒ¨ç½² KubeClipper æ—¶ï¼Œæ‚¨å°±å¯ä»¥æ·»åŠ åˆå§‹çš„ server èŠ‚ç‚¹å’Œ agent èŠ‚ç‚¹ï¼Œå…¶ä¸­ï¼ŒserverèŠ‚ç‚¹ç”¨äºéƒ¨ç½² KubeClipper è‡ªèº«æœåŠ¡ï¼Œagent èŠ‚ç‚¹å¯ç”¨äºéƒ¨ç½² K8S é›†ç¾¤ã€‚åœ¨ç”¨äºå®éªŒæˆ–å¼€å‘çš„ KubeClipper ç¯å¢ƒï¼Œæ‚¨å¯ä»¥å°† server èŠ‚ç‚¹åŒæ—¶æ·»åŠ ä¸º agent èŠ‚ç‚¹ã€‚ä½†å¦‚æœç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®ä¸è¦å°† server èŠ‚ç‚¹å¤ç”¨ä¸º agent èŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ kcctl join å‘½ä»¤ä¸º KubeClipper æ·»åŠ  agent èŠ‚ç‚¹ã€‚åŒæ—¶ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯ä¸ª agent èŠ‚ç‚¹æ ‡è®°ä¸€ä¸ªåŒºåŸŸï¼ŒåŒºåŸŸå¯ä»¥æ˜¯ç‰©ç†çš„æˆ–é€»è¾‘çš„ä½ç½®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨åŒä¸€åŒºåŸŸçš„èŠ‚ç‚¹åˆ›å»º K8S é›†ç¾¤ï¼Œä½†ä¸å¯ä»¥ä½¿ç”¨è·¨åŒºåŸŸçš„èŠ‚ç‚¹åˆ›å»ºé›†ç¾¤ã€‚æœªæ ‡è®°åŒºåŸŸçš„èŠ‚ç‚¹é»˜è®¤å±äº default åŒºåŸŸã€‚è¯¦æƒ…å‚è§â€œKcctl æ“ä½œæŒ‡å—â€œã€‚&lt;/p>
&lt;p>å‘½ä»¤è¡Œç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Plaintext" data-lang="Plaintext">&lt;span style="display:flex;">&lt;span>kcctl join --agent beijing:1.2.3.4 --agent shanghai:2.3.4.5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ç§»é™¤èŠ‚ç‚¹">ç§»é™¤èŠ‚ç‚¹&lt;/h2>
&lt;p>å½“æ‚¨ä¸å†éœ€è¦æŸäº›èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ kcctl drain å‘½ä»¤å°†èŠ‚ç‚¹ä»å¹³å°ä¸­ç§»é™¤ã€‚è¯¦æƒ…å‚è§â€œKcctl æ“ä½œæŒ‡å—â€œã€‚&lt;/p>
&lt;p>å‘½ä»¤è¡Œç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Plaintext" data-lang="Plaintext">&lt;span style="display:flex;">&lt;span>kcctl drain --agent 192.168.10.19
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è¿æ¥ç»ˆç«¯">è¿æ¥ç»ˆç«¯&lt;/h2>
&lt;p>åœ¨èŠ‚ç‚¹åˆ—è¡¨é¡µé¢ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»ç›®æ ‡èŠ‚ç‚¹å³ä¾§çš„â€œè¿æ¥ç»ˆç«¯â€æŒ‰é’®ï¼Œåœ¨è¿æ¥ç»ˆç«¯çš„å¼¹çª—ä¸­è¾“å…¥èŠ‚ç‚¹ç«¯å£å’Œç”¨æˆ·åå¯†ç ä¿¡æ¯åï¼Œè®¿é—®èŠ‚ç‚¹SSHæ§åˆ¶å°å¹¶æ‰§è¡Œå‘½ä»¤ã€‚&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/node-terminal.png" alt="">&lt;/p></description></item><item><title>Docs: è®¿é—®æ§åˆ¶</title><link>https://www.kubeclipper.io/docs/tutorials/access-control/</link><pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/tutorials/access-control/</guid><description>
&lt;h2 id="åˆ›å»ºç”¨æˆ·">åˆ›å»ºç”¨æˆ·&lt;/h2>
&lt;p>å®‰è£… KubeClipper ä¹‹åï¼Œæ‚¨éœ€è¦åˆ›å»ºæ‰€éœ€è§’è‰²çš„ç”¨æˆ·ã€‚ä¸€å¼€å§‹ï¼Œç³»ç»Ÿé»˜è®¤åªæœ‰ä¸€ä¸ªç”¨æˆ· adminï¼Œå…·æœ‰å¹³å°ç®¡ç†å‘˜è§’è‰²ã€‚&lt;/p>
&lt;p>ç‚¹å‡»â€œè®¿é—®æ§åˆ¶â€&amp;gt;â€œç”¨æˆ·â€ï¼Œè¿›å…¥ç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºç”¨æˆ·â€æŒ‰é’®ï¼Œåœ¨å¼¹çª—ä¸­å¡«å†™ç”¨æˆ·åã€å¯†ç ã€æ‰‹æœºå·ç ã€é‚®ç®±ç­‰ä¿¡æ¯ï¼Œå¹¶æŒ‡å®šç”¨æˆ·è§’è‰²ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚ç³»ç»Ÿå†…ç½®å››ä¸ªè§’è‰²å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>å¹³å°ç®¡ç†å‘˜ï¼šæ‹¥æœ‰å¹³å°é…ç½®ã€é›†ç¾¤ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€DNSè§£æã€å®¡è®¡ç­‰å…¨éƒ¨å¹³å°æŸ¥çœ‹å’Œæ“ä½œæƒé™ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é›†ç¾¤ç®¡ç†å‘˜ï¼šæ‹¥æœ‰æ‰€æœ‰é›†ç¾¤ç®¡ç†æƒé™ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç”¨æˆ·ç®¡ç†å‘˜ï¼šæ‹¥æœ‰æ‰€æœ‰ç”¨æˆ·ç®¡ç†æƒé™ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¹³å°åªè¯»ç”¨æˆ·ï¼šæ‹¥æœ‰å…¨éƒ¨å¹³å°æŸ¥çœ‹æƒé™ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ç”¨æˆ·åˆ›å»ºå®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨ç”¨æˆ·è¯¦æƒ…é¡µé¢æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…ä¿¡æ¯å’Œç™»å½•æ—¥å¿—ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘ç”¨æˆ·åˆ«åã€è§’è‰²ã€æ‰‹æœºå·ã€é‚®ç®±ä¿¡æ¯ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¼–è¾‘å¯†ç ï¼šç¼–è¾‘ç”¨æˆ·ç™»å½•å¯†ç ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤ç”¨æˆ·ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="åˆ›å»ºè‡ªå®šä¹‰è§’è‰²">åˆ›å»ºè‡ªå®šä¹‰è§’è‰²&lt;/h2>
&lt;p>é™¤äº†ç³»ç»Ÿå†…ç½®è§’è‰²ï¼Œæ‚¨ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰è§’è‰²ï¼Œå·²æ»¡è¶³ä¸šåŠ¡éœ€è¦ã€‚&lt;/p>
&lt;p>ç‚¹å‡»â€œè®¿é—®æ§åˆ¶â€&amp;gt;â€œè§’è‰²â€ï¼Œè¿›å…¥è§’è‰²ç®¡ç†é¡µé¢ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºè§’è‰²â€æŒ‰é’®ï¼Œåˆ›å»ºè‡ªå®šä¹‰è§’è‰²ã€‚&lt;/p>
&lt;p>åœ¨åˆ›å»ºè§’è‰²é¡µé¢ï¼Œæ‚¨éœ€è¦å¡«å†™è§’è‰²åç§°å’Œæè¿°ï¼Œå¹¶å‹¾é€‰è‡ªå®šä¹‰è§’è‰²æ‰€éœ€æƒé™ï¼Œä¸€äº›æƒé™ä¾èµ–äºå…¶ä»–æƒé™ï¼Œåœ¨é€‰æ‹©è¿™äº›æƒé™æ—¶ï¼Œå°†è‡ªåŠ¨é€‰ä¸­ä¾èµ–çš„æƒé™ã€‚&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/role-policy.png" alt="">&lt;/p>
&lt;p>åˆ›å»ºè‡ªå®šä¹‰è§’è‰²å®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨è§’è‰²è¯¦æƒ…é¡µé¢æŸ¥çœ‹è§’è‰²åŸºæœ¬ä¿¡æ¯ã€è§’è‰²æƒé™åˆ—è¡¨ã€æˆæƒç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶å¯¹è‡ªå®šä¹‰è§’è‰²æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘è‡ªå®šä¹‰è§’è‰²åˆ«åã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¼–è¾‘æƒé™ï¼šç¼–è¾‘è‡ªå®šä¹‰è§’è‰²ä¸‹çš„æƒé™ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤è‡ªå®šä¹‰è§’è‰²ï¼Œéœ€ç¡®ä¿æ²¡æœ‰ç”¨æˆ·ä½¿ç”¨å¾…åˆ é™¤è§’è‰²ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="æ¥å…¥å¤–éƒ¨ç”¨æˆ·">æ¥å…¥å¤–éƒ¨ç”¨æˆ·&lt;/h2>
&lt;p>KubeClipper å¯ä»¥é€šè¿‡ OIDC åè®®ä½¿ç”¨å¤–éƒ¨ç”¨æˆ·ç™»å½•ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œå¹³å°ç®¡ç†å‘˜éœ€è¦ç™»å½•å¹³å° server èŠ‚ç‚¹ï¼Œåœ¨ kubeclipepr-server.yaml æ–‡ä»¶ä¸­çš„ authentication ä¸‹æ’å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-undefined" data-lang="undefined">oauthOptions: identityProviders: - name: keycloak type: OIDC mappingMethod: auto provider: clientID: kc clientSecret: EErn729BB1bKawdRtnZgrqj9Bx0]mzUs issuer: http://172.20.163.233:7777/auth/realms/kubeclipper scopes: - openid - email redirectURL: http://{kc-console-address}/oatuh2/redirect/{IDP-Name}
&lt;/code>&lt;/pre>&lt;p>å…¶ä¸­ï¼Œâ€œproviderâ€ä¸‹éœ€è¦æ‚¨å¡«å†™è‡ªå·±çš„ OAuth2 æœåŠ¡çš„&lt;code>clientID&lt;/code>ã€&lt;code>clientSecret&lt;/code>ã€&lt;code>issuer&lt;/code>ä¿¡æ¯ï¼Œä»¥ keycloack ä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p>
&lt;p>&lt;code>redirectURL&lt;/code>ç¤ºä¾‹ï¼šhttp://172.0.0.90/oauth2/redirect/keycloack&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/keycloak-client.png" alt="">&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/keycloak-client2.png" alt="">&lt;/p>
&lt;p>OAuth2 ç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤è®¿é—®å’Œä½¿ç”¨ KubeClipper å¹³å°ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ç‚¹å‡»ç™»å½•é¡µçš„â€œOAuth2 ç™»å½•â€æŒ‰é’®ï¼Œè¿›å…¥ OAuth2 ç™»å½•é¡µé¢ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ç™»å½•ï¼Œè¿›å…¥ KubeClipper å¹³å°ï¼Œé¦–æ¬¡ç™»å½•ï¼Œæ‚¨ä¼šå› æœªè¢«æˆäºˆæƒé™è€Œæ— æ³•è®¿é—®å¹³å°ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¹³å°ç®¡ç†å‘˜æˆ–å…¶ä»–æ‹¥æœ‰ç”¨æˆ·ç®¡ç†æƒé™çš„ç”¨æˆ·ç™»å½• KubeClipperï¼Œåœ¨ç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œæ‰¾åˆ°ç›®æ ‡ OAuth2 ç”¨æˆ·ï¼Œé€šè¿‡ç¼–è¾‘ç”¨æˆ·æŒ‡å®šç”¨æˆ·è§’è‰²ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>OAuth2 ç”¨æˆ·é‡å¤ç¬¬ä¸€æ­¥ï¼Œç™»å½• KubeClipperï¼Œå°±å¯ä»¥æ­£å¸¸è®¿é—®å¹³å°å¹¶æ‰§è¡Œè§’è‰²æƒé™å†…æ“ä½œã€‚&lt;/p>
&lt;/li>
&lt;/ol></description></item><item><title>Docs: ä½¿ç”¨ Kubeclipper ç¦»çº¿åˆ›å»º k8s é›†ç¾¤</title><link>https://www.kubeclipper.io/docs/getting-started/carete-k8s-cluster-offline/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/getting-started/carete-k8s-cluster-offline/</guid><description>
&lt;h2 id="1-è¿›å…¥åˆ›å»ºç•Œé¢">1. è¿›å…¥åˆ›å»ºç•Œé¢&lt;/h2>
&lt;p>ç™»å½• Kubeclipper å¹³å°åç‚¹å‡»å¦‚å›¾æ‰€ç¤ºæŒ‰é’®ï¼Œè¿›å…¥é›†ç¾¤åˆ›å»ºç•Œé¢&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-begin.png" alt="">&lt;/p>
&lt;h2 id="2-é…ç½®é›†ç¾¤èŠ‚ç‚¹">2. é…ç½®é›†ç¾¤èŠ‚ç‚¹&lt;/h2>
&lt;p>æŒ‰ç…§æ–‡å­—æç¤ºå®Œæˆè¾“å…¥é›†ç¾¤åç§°ã€é€‰æ‹©èŠ‚ç‚¹ç­‰æ­¥éª¤&lt;/p>
&lt;p>æ³¨æ„: master èŠ‚ç‚¹æ•°é‡ä¸èƒ½ä¸ºå¶æ•°&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-node-config.png" alt="">&lt;/p>
&lt;h2 id="3-é…ç½®é›†ç¾¤">3. é…ç½®é›†ç¾¤&lt;/h2>
&lt;p>æ­¤æ­¥éª¤ç”¨äºé…ç½®é›†ç¾¤ç½‘ç»œä»¥åŠæ•°æ®åº“ã€å®¹å™¨è¿è¡Œæ—¶ç­‰ç»„ä»¶&lt;/p>
&lt;p>é€‰æ‹©ç¦»çº¿å®‰è£…å¹¶å¡«å†™é¦–å…ˆæ­å»ºå¥½çš„é•œåƒä»“åº“åœ°å€&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-config.png" alt="">&lt;/p>
&lt;h2 id="4-é…ç½®å­˜å‚¨">4. é…ç½®å­˜å‚¨&lt;/h2>
&lt;p>é€‰æ‹© nfs å­˜å‚¨ï¼ŒæŒ‰ç…§æ–‡å­—æç¤ºå¡«å†™ç›¸åº”å†…å®¹&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-storage-config.png" alt="">&lt;/p>
&lt;h2 id="5-å®‰è£…å®Œæˆ">5. å®‰è£…å®Œæˆ&lt;/h2>
&lt;p>å®Œæˆæ‰€æœ‰é…ç½®ç¡®è®¤å®‰è£…&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-finish.png" alt="">&lt;/p>
&lt;p>å®‰è£…æˆåŠŸï¼Œé›†ç¾¤æ­£å¸¸è¿è¡Œ&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-successful.png" alt="">&lt;/p></description></item><item><title>Docs: é€šè¿‡kcctlå‘½ä»¤åˆ›å»ºé›†ç¾¤é”™è¯¯</title><link>https://www.kubeclipper.io/docs/faq/kcctl-create-cluster-error/</link><pubDate>Thu, 03 Nov 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/faq/kcctl-create-cluster-error/</guid><description>
&lt;h2 id="é—®é¢˜å¤ç°">é—®é¢˜å¤ç°&lt;/h2>
&lt;p>å®‰è£… v1.2.1 ç‰ˆæœ¬çš„ kcctl&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/kcctl.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_VERSION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>v1.2.1 bash -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é€šè¿‡ kcctl deploy å‘½ä»¤éƒ¨ç½² KubeClipper é›†ç¾¤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å®‰è£… AIO ç¯å¢ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl deploy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é€šè¿‡ kcctl create cluster å‘½ä»¤åˆ›å»º k8s é›†ç¾¤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># éœ€è¦å…ˆç™»å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl login --host http://127.0.0.1 --username admin --password Thinkbig1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># åˆ›å»ºé›†ç¾¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl create cluster --name &lt;span style="color:#204a87">test&lt;/span> --master 192.168.10.98 --untaint-master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç™»å½• KubeClipper ç®¡ç†ç•Œé¢ï¼ŒæŸ¥çœ‹åˆ›å»ºé›†ç¾¤æ“ä½œæ—¥å¿—ï¼Œæ—¥å¿—æ˜¾ç¤ºåœ¨å®‰è£… cni è¿‡ç¨‹ä¸­å‘ç°ä¸‹è½½ calico v3.21.2 404 æ— æ³•æ‰¾åˆ°&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-faq/create-cluster-error.png" alt="">&lt;/p>
&lt;h2 id="é—®é¢˜ä¿®å¤-pr">é—®é¢˜ä¿®å¤ PR&lt;/h2>
&lt;p>æäº¤å·²ç»åˆå¹¶åˆ°äº†masterï¼ŒPRï¼šhttps://github.com/kubeclipper/kubeclipper/commit/7e6eb0ed199ff1cb00fde0c2624c62cdc5ca0b9c&lt;/p>
&lt;p>ä½† v1.2.1 å·²ç»å‘å¸ƒäº†ï¼ŒæŒ‰ç…§å‘ç‰ˆè§„èŒƒæ— æ³•åœ¨è¯¥ç‰ˆæœ¬æ‰“è¡¥ä¸ï¼Œéœ€è¦ç­‰åˆ°åç»­ v1.2.2 å‘å¸ƒè§£å†³ï¼Œå› æ­¤æˆ‘ä»¬æä¾›ä¸€ç§ä¸´æ—¶æ–¹æ¡ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;h2 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•&lt;/h2>
&lt;p>åˆ¶ä½œç¦»çº¿èµ„æºåŒ…
ä¸‹è½½ calico v3.21.2 çš„å®‰è£…åŒ…ï¼Œæ‰“åŒ…ä¸ºæŒ‡å®šæ ¼å¼çš„ç¦»çº¿èµ„æºåŒ…&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># åˆ›å»ºèµ„æºç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir -pv calico/v3.21.2/amd64
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># ä¸‹è½½ v3.21.2 ç‰ˆæœ¬çš„ calico&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>wget -P calico/v3.21.2/amd64 https://oss.kubeclipper.io/packages/calico/v3.21.2/amd64/images.tar.gz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>wget -P calico/v3.21.2/amd64 https://oss.kubeclipper.io/packages/calico/v3.21.2/amd64/manifest.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å‹ç¼©æ–‡ä»¶ä¸ºæŒ‡å®šå‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tar -zcvf calico-v3.21.2-amd64.tar.gz calico
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¨é€ç¦»çº¿èµ„æºåŒ…&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># æ¨é€&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl resource push --pkg calico-v3.21.2-amd64.tar.gz --type cni
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># éªŒè¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl resource list&lt;span style="color:#000;font-weight:bold">|&lt;/span>grep v3.21.2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>å¦‚æœåœ¨æ‰§è¡Œ &lt;code>kcctl resource push&lt;/code> æŠ¥äº†å¦‚ä¸‹é”™è¯¯ï¼š
&lt;img src="https://www.kubeclipper.io/images/docs-faq/need-login.png" alt="">
è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>ç¼–è¾‘ /root/.kc/deploy-config.yaml æ–‡ä»¶ã€‚&lt;/li>
&lt;li>æ‰¾åˆ° ssh é…ç½®é¡¹ï¼Œæ·»åŠ  pkFile å­—æ®µé…ç½®ï¼Œå€¼ä¸ºå½“å‰æœåŠ¡å™¨çš„ ssh å…¬é’¥æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚&lt;br>
&lt;img src="https://www.kubeclipper.io/images/docs-faq/add-key.png" alt="">&lt;/li>
&lt;/ol>
&lt;/blockquote>
&lt;p>é€šè¿‡å‘½ä»¤è¡Œå®‰è£… k8s é›†ç¾¤ï¼Œåœ¨ KubeClipper ç®¡ç†åå°æŸ¥çœ‹æ“ä½œæ—¥å¿—&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl create cluster --name &lt;span style="color:#204a87">test&lt;/span> --master 192.168.10.98 --untaint-master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹ k8s é›†ç¾¤ pods è¿è¡ŒçŠ¶æ€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get pods -A
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>