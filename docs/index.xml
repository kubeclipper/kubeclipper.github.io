<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>KubeClipper â€“ æ–‡æ¡£</title><link>https://www.kubeclipper.io/docs/</link><description>Recent content in æ–‡æ¡£ on KubeClipper</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Tue, 29 Nov 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://www.kubeclipper.io/docs/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: åˆ›å»ºé›†ç¾¤</title><link>https://www.kubeclipper.io/docs/tutorials/create-clusters/</link><pubDate>Tue, 29 Nov 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/tutorials/create-clusters/</guid><description>
&lt;h2 id="åˆ›å»ºé›†ç¾¤å‡†å¤‡å·¥ä½œ">åˆ›å»ºé›†ç¾¤å‡†å¤‡å·¥ä½œ&lt;/h2>
&lt;ol>
&lt;li>æ‚¨éœ€è¦å‡†å¤‡å……è¶³çš„å¯ç”¨èŠ‚ç‚¹ï¼Œå¦‚éœ€æ·»åŠ èŠ‚ç‚¹ï¼Œå‚è§â€œ&lt;a href="https://www.kubeclipper.io/docs/tutorials/node-management/#%E6%B7%BB%E5%8A%A0%E8%8A%82%E7%82%B9">æ·»åŠ èŠ‚ç‚¹&lt;/a>â€æ•™ç¨‹ã€‚&lt;/li>
&lt;li>å‡†å¤‡å¥½éœ€è¦éƒ¨ç½²çš„ kubernetesã€CRIã€calicoã€CSI å’Œå…¶ä»–æ’ä»¶çš„é•œåƒæˆ–äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œkubeclipper æä¾›äº†æ¨èçš„ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥æ ¹æ®å¹³å°æ‰€å¤„ç½‘ç»œç¯å¢ƒï¼Œé€‰æ‹©åœ¨çº¿ / ç¦»çº¿åï¼Œç›´æ¥åœ¨é¡µé¢ä¸Šé€‰å–ä½¿ç”¨ã€‚æ‚¨ä¹Ÿå¯ä»¥å°†éƒ¨ç½²æ‰€éœ€çš„é•œåƒä¸Šä¼ è‡³è‡ªå·±çš„é•œåƒä»“åº“ï¼Œå¹¶åœ¨éƒ¨ç½²æ—¶æŒ‡å®šã€‚æ›´å¤šå®‰è£…é…ç½®ï¼Œå‚è€ƒâ€œ&lt;a href="#%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE">é›†ç¾¤é…ç½®&lt;/a>â€ç« èŠ‚ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="åˆ›å»ºå•èŠ‚ç‚¹å®éªŒé›†ç¾¤">åˆ›å»ºå•èŠ‚ç‚¹å®éªŒé›†ç¾¤&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé›†ç¾¤â€ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºé›†ç¾¤â€æŒ‰é’®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è¿›å…¥åˆ›å»ºé›†ç¾¤å‘å¯¼é¡µé¢çš„â€œèŠ‚ç‚¹é…ç½®â€é¡µé¢ã€‚å¡«å†™â€œé›†ç¾¤åç§°â€ï¼Œå¦‚ â€œtestâ€ï¼Œä¸éœ€é€‰æ‹©â€œé›†ç¾¤æ¨¡ç‰ˆâ€ã€‚é€‰æ‹©ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹ï¼Œæ·»åŠ ä¸ºæ§åˆ¶èŠ‚ç‚¹ï¼Œå¹¶åœ¨æ±¡ç‚¹ç®¡ç†åˆ—è¡¨ä¸­ï¼Œå°† master èŠ‚ç‚¹çš„æ±¡ç‚¹ç§»é™¤ã€‚ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€æŒ‰é’®ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/aio.png" alt="">&lt;/p>
&lt;ol start="3">
&lt;li>
&lt;p>è¿›å…¥åˆ›å»ºé›†ç¾¤å‘å¯¼é¡µé¢çš„â€œé›†ç¾¤é…ç½®â€é¡µé¢ã€‚é€‰æ‹©â€œç¦»çº¿å®‰è£…â€ï¼Œâ€œé•œåƒä»“åº“â€ä¸éœ€å¡«å†™ï¼Œå…¶ä»–é…ç½®éƒ½å¯ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œç‚¹å‡»â€œå¿«é€Ÿåˆ›å»ºâ€æŒ‰é’®ï¼Œè·³è½¬é…ç½®ç¡®è®¤é¡µé¢ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å•èŠ‚ç‚¹çš„å®éªŒé›†ç¾¤åˆ›å»ºå®Œæˆï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µæŸ¥çœ‹é›†ç¾¤è¯¦æƒ…ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»â€œæŸ¥çœ‹æ—¥å¿—â€æŒ‰é’®ï¼ŒæŸ¥çœ‹é›†ç¾¤åˆ›å»ºè¿‡ç¨‹ä¸­çš„å®æ—¶æ—¥å¿—ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="ä½¿ç”¨é•œåƒä»“åº“åˆ›å»ºé›†ç¾¤">ä½¿ç”¨é•œåƒä»“åº“åˆ›å»ºé›†ç¾¤&lt;/h2>
&lt;p>å¦‚æœåˆ›å»ºçš„é›†ç¾¤ä¸­åŒ…å«è¾ƒå¤§çš„é•œåƒï¼Œæ¨èæ‚¨å°†æ‰€æœ‰é•œåƒä¸Šä¼ åˆ°ç‰¹å®šçš„é•œåƒä»“åº“ï¼Œåˆ›å»ºé›†ç¾¤ä¼šæ›´å¿«é€Ÿæ›´é¡ºç•…ã€‚&lt;/p>
&lt;ol>
&lt;li>æ·»åŠ é•œåƒä»“åº“ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé•œåƒä»“åº“â€ï¼Œè¿›å…¥é•œåƒä»“åº“åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œæ·»åŠ â€æŒ‰é’®ã€‚åœ¨æ·»åŠ é•œåƒä»“åº“çš„å¼¹çª—ä¸­è¾“å…¥é•œåƒä»“åº“åç§°å’Œå­˜æ”¾æœ‰é•œåƒçš„ä»“åº“åœ°å€ï¼Œç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚&lt;/li>
&lt;li>åˆ›å»ºé›†ç¾¤ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé›†ç¾¤â€ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºé›†ç¾¤â€æŒ‰é’®ã€‚æŒ‰éœ€é…ç½®é›†ç¾¤èŠ‚ç‚¹ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢çš„â€œé•œåƒä»“åº“â€ä¸­ï¼Œé€‰æ‹©ç¬¬ä¸€æ­¥æ·»åŠ çš„é•œåƒä»“åº“ï¼Œæ ¹æ®éœ€è¦å®Œæˆé›†ç¾¤å…¶ä»–é…ç½®ååˆ›å»ºé›†ç¾¤ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="ä½¿ç”¨é›†ç¾¤æ¨¡ç‰ˆåˆ›å»ºé›†ç¾¤">ä½¿ç”¨é›†ç¾¤æ¨¡ç‰ˆåˆ›å»ºé›†ç¾¤&lt;/h2>
&lt;p>æ‚¨å¯ä»¥ä½¿ç”¨é›†ç¾¤æ¨¡ç‰ˆï¼Œç®€åŒ–é›†ç¾¤åˆ›å»ºæµç¨‹ã€‚&lt;/p>
&lt;ol>
&lt;li>æ·»åŠ æ¨¡ç‰ˆã€‚ä¿å­˜æ¨¡ç‰ˆæœ‰ä¸¤ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥åœ¨â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œæ¨¡ç‰ˆç®¡ç†â€é¡µé¢ï¼Œæ·»åŠ é›†ç¾¤æ¨¡ç‰ˆï¼Œä»¥å¤‡åˆ›å»ºé›†ç¾¤æ—¶ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œä¿å­˜ä¸ºæ¨¡ç‰ˆâ€ï¼Œå°†å·²å­˜åœ¨çš„é›†ç¾¤é…ç½®ä¿å­˜ä¸ºæ¨¡ç‰ˆï¼Œä»¥ä¾¿åˆ›å»ºå‡ºå’Œè¯¥é›†ç¾¤åŒç­‰é…ç½®çš„ kubernetes é›†ç¾¤ã€‚&lt;/li>
&lt;li>åˆ›å»ºé›†ç¾¤ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé›†ç¾¤â€ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºé›†ç¾¤â€æŒ‰é’®ï¼Œè¿›å…¥åˆ›å»ºé›†ç¾¤é¡µé¢ï¼Œå¡«å†™â€œé›†ç¾¤åç§°â€ï¼Œå¦‚ â€œdemoâ€ï¼Œé€‰æ‹©ç¬¬ä¸€æ­¥ä¸­ä¿å­˜çš„é›†ç¾¤æ¨¡ç‰ˆï¼Œæ·»åŠ æ‰€éœ€èŠ‚ç‚¹ï¼Œç‚¹å‡»å³ä¸‹è§’â€œå¿«é€Ÿåˆ›å»ºâ€æŒ‰é’®ï¼Œè·³è½¬è‡³â€œé…ç½®ç¡®è®¤â€é¡µé¢ï¼Œæ ¸å¯¹æ¨¡ç‰ˆä¿¡æ¯æ— è¯¯åï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ï¼Œåˆ›å»ºé›†ç¾¤ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="é›†ç¾¤é…ç½®æŒ‡å—">é›†ç¾¤é…ç½®æŒ‡å—&lt;/h2>
&lt;h3 id="èŠ‚ç‚¹é…ç½®">èŠ‚ç‚¹é…ç½®&lt;/h3>
&lt;p>åœ¨èŠ‚ç‚¹é…ç½®é¡µé¢ï¼Œæ‚¨å¯ä»¥å¯¹èŠ‚ç‚¹è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š&lt;/p>
&lt;ul>
&lt;li>åŒºåŸŸï¼šé›†ç¾¤æ‰€å±åŒºåŸŸï¼Œæ·»åŠ èŠ‚ç‚¹æ—¶å¯ä¸ºèŠ‚ç‚¹æŒ‡å®šç‰©ç†çš„æˆ–é€»è¾‘çš„åŒºåŸŸï¼Œä½¿ç”¨è¯¥åŒºåŸŸä¸‹èŠ‚ç‚¹åˆ›å»ºçš„ kubernetes é›†ç¾¤ä¹Ÿå±äºè¯¥åŒºåŸŸï¼Œä¸æ”¯æŒä½¿ç”¨è·¨åŒºåŸŸçš„å¤šä¸ªèŠ‚ç‚¹åˆ›å»ºé›†ç¾¤ã€‚&lt;/li>
&lt;li>æ§åˆ¶èŠ‚ç‚¹ï¼šä¸ºé›†ç¾¤æŒ‡å®šå¥‡æ•°ä¸ªçš„æ§åˆ¶èŠ‚ç‚¹ï¼Œç”Ÿäº§ç¯å¢ƒä¸€èˆ¬ä½¿ç”¨3ä¸ªæ§åˆ¶èŠ‚ç‚¹ä»¥å®ç°é«˜å¯ç”¨ã€‚&lt;/li>
&lt;li>å·¥ä½œèŠ‚ç‚¹ï¼šæ ¹æ®ä¸šåŠ¡è§„æ¨¡ï¼Œä¸ºæ–°é›†ç¾¤æ·»åŠ å·¥ä½œèŠ‚ç‚¹ã€‚&lt;/li>
&lt;li>æ±¡ç‚¹ç®¡ç†ï¼šæ‚¨å¯ä»¥ä¸ºå·²æ·»åŠ çš„èŠ‚ç‚¹é…ç½®æ±¡ç‚¹ï¼Œkubeclipper ä¼šè‡ªåŠ¨ä¸ºæ§åˆ¶èŠ‚ç‚¹æ·»åŠ ä¸å…è®¸è°ƒåº¦ï¼ˆnoscheduleï¼‰çš„æ±¡ç‚¹ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ›´æ”¹ã€‚&lt;/li>
&lt;li>èŠ‚ç‚¹æ ‡ç­¾ï¼šæ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä¸ºå·²æ·»åŠ çš„é›†ç¾¤èŠ‚ç‚¹é…ç½®æ ‡ç­¾ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ‚¨å¯ä»¥æŒ‰ä¸šåŠ¡éœ€è¦é…ç½®æ‰€éœ€èŠ‚ç‚¹ã€‚å¦‚æœéœ€è¦åˆ›å»ºéé«˜å¯ç”¨çš„å®éªŒé›†ç¾¤ï¼Œä¹Ÿå¯ä»¥ä»…æ·»åŠ ä¸€ä¸ªæ§åˆ¶èŠ‚ç‚¹ï¼Œå¹¶å°†æ§åˆ¶èŠ‚ç‚¹è‡ªåŠ¨æ·»åŠ çš„æ±¡ç‚¹ç§»é™¤ï¼Œè¯¦ç»†æ“ä½œå‚è§â€œ&lt;a href="#%E5%88%9B%E5%BB%BA%E5%8D%95%E8%8A%82%E7%82%B9%E5%AE%9E%E9%AA%8C%E9%9B%86%E7%BE%A4">åˆ›å»ºå•èŠ‚ç‚¹å®éªŒé›†ç¾¤&lt;/a>â€ã€‚&lt;/p>
&lt;h3 id="é›†ç¾¤é…ç½®">é›†ç¾¤é…ç½®&lt;/h3>
&lt;p>åœ¨é›†ç¾¤é…ç½®é¡µé¢ï¼Œæ‚¨å¯ä»¥å¯¹é›†ç¾¤è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š&lt;/p>
&lt;ul>
&lt;li>å®‰è£…æ–¹å¼å’Œé•œåƒä»“åº“ï¼š&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>é•œåƒä»“åº“ä¸ºç©º&lt;/th>
&lt;th>æŒ‡å®šé•œåƒä»“åº“&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>åœ¨çº¿ï¼ˆå…¬ç½‘ç¯å¢ƒï¼‰&lt;/strong>&lt;/td>
&lt;td>é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚&lt;br />é•œåƒæ‹‰å–æ–¹å¼ï¼šé•œåƒé»˜è®¤ä»å®˜æ–¹é•œåƒä»“åº“æ‹‰å–ï¼Œå¦‚ kubernetes é•œåƒä» k8s.gcr.io æ‹‰å–ã€calico ä» docker.io æ‹‰å–ã€‚å¦‚æœæ‚¨è®¾ç½®äº†å›½å†…é•œåƒä»£ç†ï¼Œé•œåƒä¼šä»æ‚¨æŒ‡å®šçš„ â€œKC_IMAGE_REPO_MIRRORâ€ ä»£ç†ä»“åº“æ‹‰å–ã€‚&lt;/td>
&lt;td>é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚&lt;br />é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ç¦»çº¿ï¼ˆå†…ç½‘ç¯å¢ƒï¼‰&lt;/strong>&lt;/td>
&lt;td>é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤ server èŠ‚ç‚¹ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚&lt;br />é•œåƒæ‹‰å–æ–¹å¼ï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤ server èŠ‚ç‚¹ä¸‹è½½ï¼Œä¸‹è½½åç”± CRI è¿›è¡Œé•œåƒå¯¼å…¥ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é•œåƒåŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é•œåƒåŒ…ã€‚&lt;/td>
&lt;td>é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ°ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚&lt;br />é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚kubeclipper æä¾› Docker Registry æ–¹æ¡ˆï¼Œå¹¶ä½¿ç”¨ kcctl registry å‘½ä»¤è¡Œè¿›è¡Œç®¡ç†ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è‡ªæœ‰é•œåƒä»“åº“ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>
&lt;p>kubernetes ç‰ˆæœ¬ï¼šæŒ‡å®šé›†ç¾¤ kubernetes ç‰ˆæœ¬ã€‚å½“æ‚¨é€‰æ‹©ç¦»çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä»å½“å‰ç¯å¢ƒä¸­é…ç½®åŒ…çš„ kubernetes ç‰ˆæœ¬ä¸­é€‰æ‹©ï¼›å½“æ‚¨é€‰æ‹©åœ¨çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä» kubeclipper å®˜æ–¹æ¨èçš„ç‰ˆæœ¬ä¸­é€‰æ‹©ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ETCD æ•°æ®ç›®å½•ï¼šå¯æŒ‡å®š ETCD æ•°æ®ç›®å½•ï¼Œé»˜è®¤ä¸º/var/lib/etcdã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>kubelet æ•°æ®ç›®å½•ï¼šå¯æŒ‡å®š kubelet æ•°æ®ç›®å½•ï¼Œé»˜è®¤ä¸º /var/lib/kubeletã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>CertSANsï¼škubernetes é›†ç¾¤ ca è¯ä¹¦ç­¾åçš„ ip æˆ–è€…åŸŸåï¼Œå¯å¡«å†™å¤šä¸ªã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®¹å™¨è¿è¡Œæ—¶ï¼šæ ¹æ®æŒ‡å®š kubernetes ç‰ˆæœ¬ï¼Œkubernetes ç‰ˆæœ¬åœ¨ v1.20.0 ä¹‹å‰ï¼Œå®¹å™¨è¿è¡Œæ—¶é»˜è®¤ dockerï¼Œä¹‹åé»˜è®¤ containerdï¼›v1.24.0 ä¹‹åä¸æ”¯æŒ dockerã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®¹å™¨è¿è¡Œæ—¶ç‰ˆæœ¬ï¼šæŒ‡å®š containerd / docker ç‰ˆæœ¬ã€‚ä¸ kubernetes ç›¸åŒï¼Œå½“æ‚¨é€‰æ‹©ç¦»çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä»å½“å‰ç¯å¢ƒä¸­é…ç½®åŒ…çš„ç‰ˆæœ¬ä¸­é€‰æ‹©ï¼›å½“æ‚¨é€‰æ‹©åœ¨çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä» kubeclipper å®˜æ–¹æ¨èçš„ç‰ˆæœ¬ä¸­é€‰æ‹©ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Containerd æ•°æ®ç›®å½•ï¼šå¯å¡«å†™ config.toml é…ç½®ä¸­çš„ root dirï¼Œé»˜è®¤ä¸º/var/lib/containerdã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Docker æ•°æ®ç›®å½•ï¼šå¯å¡«å†™ daemon.json é…ç½®ä¸­çš„ root dirï¼Œé»˜è®¤ä¸º/var/lib/dockerã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Containerd é•œåƒä»“åº“ï¼šå­˜æ”¾ containerd é•œåƒçš„ä»“åº“åœ°å€ï¼Œconfig.toml é…ç½®ä¸­çš„ registry.mirrorsï¼Œå¯å¡«å†™å¤šä¸ªã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Docker é•œåƒä»“åº“ï¼šå­˜æ”¾ docker é•œåƒçš„ä»“åº“åœ°å€ï¼Œdaemon.json é…ç½®ä¸­çš„ insecure registry,å¯å¡«å†™å¤šä¸ªã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DNS åŸŸåï¼škubernetes é›†ç¾¤çš„åŸŸåï¼Œé»˜è®¤ä¸º cluster.localã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Worker è´Ÿè½½ IPï¼šç”¨äº worker èŠ‚ç‚¹åˆ°å¤š master çš„è´Ÿè½½å‡è¡¡ï¼Œå•ä¸€ master ä¸éœ€è¦è®¾ç½®ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¤–éƒ¨è®¿é—® IPï¼šå¯ä»¥å¡«å†™ä¸€ä¸ªæµ®åŠ¨ IP ç»™ç”¨æˆ·è®¿é—®ï¼Œå¯ä¸ºç©ºã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¤‡ä»½ç©ºé—´ï¼šé›†ç¾¤å¤‡ä»½æ–‡ä»¶å­˜å‚¨ä½ç½®ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="cni-é…ç½®">CNI é…ç½®&lt;/h3>
&lt;p>å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒ Calico ä½œä¸ºé›†ç¾¤ CNIã€‚&lt;/p>
&lt;p>Calico å°†ç”¨æˆ·è®¾ç½®çš„ pod cidr åˆ†ä¸ºè‹¥å¹²ä¸ª block (ç½‘æ®µ)ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€çš„åˆ†é…ç»™éœ€è¦çš„èŠ‚ç‚¹ï¼Œå¹¶åœ¨èŠ‚ç‚¹ä¸­é€šè¿‡ bgp peer ç»´æŠ¤é›†ç¾¤èŠ‚ç‚¹çš„è·¯ç”±è¡¨ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼šå®¹å™¨çš„åœ°å€æ± ï¼š172.25.0.0/16ï¼ŒåŠ¨æ€åˆ†é…çš„ç½‘æ®µæ± : 172.25.0.0 - 172.25.255.192 (172.25.0.0/26 å³ 10 ä¸ªæ¯”ç‰¹ä½)ï¼ŒåŠ¨æ€åˆ†é…çš„ç½‘æ®µæ•°: 1023ï¼Œæ¯ä¸ªç½‘æ®µçš„ pod æ•°é‡ä¸º: 61 (193-254)ï¼Œæ€» pod æ•°é‡ä¸º1023 * 61 = 62403ï¼Œç›¸å¯¹æœ€å¤§èŠ‚ç‚¹æ•°(æŒ‰ç…§200ä¸šåŠ¡ pod ä¸ºåŸºå‡†å€¼)ï¼š312ã€‚&lt;/p>
&lt;p>ç›®å‰ä¸å»ºè®®å¤§äº50ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ï¼Œå¤§äº50ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤å»ºè®®æ‰‹åŠ¨é…ç½® route reflectionï¼Œç”¨æ¥ä¼˜åŒ–é›†ç¾¤ä¸­çš„èŠ‚ç‚¹çš„è·¯ç”±è¡¨ç»´æŠ¤çš„ç¨³å®šæ€§ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ Calico ä½œä¸ºé›†ç¾¤ CNIï¼Œæ‚¨éœ€è¦è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Calico æ¨¡å¼ï¼šæ”¯æŒ5ç§ç½‘ç»œæ¨¡å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>Overlay-IPIP-All: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨åº•å±‚å¹³å°æ˜¯ iaas çš„ç¯å¢ƒä¹‹ä¸­,å½“ç„¶å¦‚æœä½ åº•å±‚ç½‘è·¯ç¯å¢ƒç›´æ¥æ˜¯ç‰©ç†è®¾å¤‡çš„ä¹Ÿå®Œå…¨å¯ä»¥ä½¿ç”¨åªä¸è¿‡æ•ˆç‡å’Œçµæ´»åº¦éƒ½ä¼šå¤§æ‰“æŠ˜æ‰£,éœ€è¦æ³¨æ„çš„æ˜¯ä½ éœ€è¦ç¡®è®¤åº•å±‚ç½‘ç»œç¯å¢ƒ(underlay)æ˜¯æ”¯æŒ IPIP åè®®çš„.(ä½¿ç”¨ overlay çš„ç½‘ç»œæ–¹å¼å¯¹ç½‘ç»œæ€§èƒ½é€ æˆä¸€å®šçš„å½±å“)ã€‚&lt;/li>
&lt;li>Overlay-Vxlan-All: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨åº•å±‚å¹³å°æ˜¯ iaas çš„ç¯å¢ƒä¹‹ä¸­,å½“ç„¶å¦‚æœä½ åº•å±‚ç½‘è·¯ç¯å¢ƒç›´æ¥æ˜¯ç‰©ç†è®¾å¤‡çš„ä¹Ÿå®Œå…¨å¯ä»¥ä½¿ç”¨åªä¸è¿‡æ•ˆç‡å’Œçµæ´»åº¦éƒ½ä¼šå¤§æ‰“æŠ˜æ‰£,ä»–ç†è®ºä¸Šå¯ä»¥åœ¨ä»»ä½•çš„ç½‘ç»œç¯å¢ƒä¸Šè¿è¡Œ,é€šå¸¸åœ¨åº•å±‚ç¯å¢ƒä¸æ”¯æŒ IPIP åè®®çš„æ—¶å€™æˆ‘ä»¬ä¼šä½¿ç”¨ä»–.(ä½¿ç”¨ overlay çš„ç½‘ç»œæ–¹å¼å¯¹ç½‘ç»œæ€§èƒ½é€ æˆä¸€å®šçš„å½±å“)ã€‚&lt;/li>
&lt;li>BGP: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨è£¸æœºçš„ç¯å¢ƒä¸Š,å½“ç„¶åº• Iaas å¹³å°æ”¯æŒ BGP çš„è¯ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„,è¿™ç§æ¨¡å¼ä¸‹ pod çš„ ip é€šä¿¡æ˜¯é€šè¿‡ é›†ç¾¤ä¸­çš„å„ä¸ªèŠ‚ç‚¹ä¸­äº’ç›¸äº¤æ¢è·¯ç”±è¡¨æ¥å®Œæˆ pod ä¹‹é—´çš„é€šä¿¡çš„,å¦‚æœä½ éœ€è¦æ‰‹åŠ¨æ‰“é€šå¤šä¸ªé›†ç¾¤ä¹‹é—´çš„ pod ç½‘ç»œéœ€è¦æ³¨æ„ä½ åˆ†é…çš„åœ°å€æ–­ä¸åº”è¯¥æœ‰å†²çªã€‚&lt;/li>
&lt;li>Overaly-IPIP-Cross-Subnet: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨åº•å±‚å¹³å°æ˜¯ iaas çš„ç¯å¢ƒä¹‹ä¸­,éœ€è¦æ³¨æ„çš„æ˜¯ä½ éœ€è¦ç¡®è®¤åº•å±‚ç½‘ç»œç¯å¢ƒ(underlay)æ˜¯æ”¯æŒ IPIP åè®®çš„.å’Œ Overlay-IPIP-All çš„ä¸åŒä¹‹å¤„åœ¨äº,å¦‚æœ 2 ä¸ªä¸åŒèŠ‚ç‚¹ä½†åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­çš„ä¸Š pod äº’ç›¸é€šä¿¡æ—¶æ˜¯é€šè¿‡è·¯ç”±è¡¨,è¿™æ ·å¯ä»¥æé«˜åœ¨ä¸åŒèŠ‚ç‚¹ä½†åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­çš„ä¸Š pod äº’ç›¸é€šä¿¡æ—¶çš„æ•ˆç‡ã€‚&lt;/li>
&lt;li>Overaly-Vxlan-Cross-Subnet: å’Œ Overaly-IPIP-Cross-Subnet é€»è¾‘ç›¸ä¼¼ä¸å†åšé‡å¤çš„è§£é‡Šã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Calico ç‰ˆæœ¬ï¼šæŒ‡å®š calico ç‰ˆæœ¬ã€‚ä¸ kubernetes ç›¸åŒï¼Œå½“æ‚¨é€‰æ‹©ç¦»çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä»å½“å‰ç¯å¢ƒä¸­é…ç½®åŒ…çš„ç‰ˆæœ¬ä¸­é€‰æ‹©ï¼›å½“æ‚¨é€‰æ‹©åœ¨çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä» kubeclipper å®˜æ–¹æ¨èçš„ç‰ˆæœ¬ä¸­é€‰æ‹©ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>IPç‰ˆæœ¬ï¼šå¯æŒ‡å®š IP ç‰ˆæœ¬ä¸º IPV4 æˆ– IPV4 IPV6 åŒæ ˆã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœåŠ¡å­ç½‘ï¼šå¡«å†™ service å­ç½‘ CIDRï¼Œv4 é»˜è®¤ä¸ºï¼š10.96.0.0/16ï¼Œv6 é»˜è®¤ä¸º fd03::/112ï¼Œæ³¨æ„ Service ç½‘ç»œä¸å¾—ä¸ä»»ä½•ä¸»æœºç½‘ç»œé‡å ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Pod CIDRï¼šå¡«å†™ Pod å­ç½‘ CIDRï¼Œv4 é»˜è®¤ï¼š172.25.0.0/24ï¼Œv6 é»˜è®¤ä¸º fd05::/120ï¼Œæ³¨æ„ Pod ç½‘ç»œä¸å¾—ä¸ä»»ä½•ä¸»æœºç½‘ç»œé‡å ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>podç½‘è·¯çš„åº•å±‚ï¼š&lt;/p>
&lt;ul>
&lt;li>first-foundï¼ˆé»˜è®¤ï¼‰ï¼šç¨‹åºä¼šæ ¹æ® ipfamily (v4 æˆ– v6)éå†æ‰€æœ‰çš„æœ‰æ•ˆçš„ ip åœ°å€ï¼ˆlocal,loop backï¼Œdocker bridgeç­‰ä¼šè¢«è‡ªåŠ¨æ’é™¤ï¼‰é€šå¸¸å¦‚æœæ˜¯å¤šç½‘å¡æ—¶ä¼šæ’é™¤é»˜è®¤ç½‘å…³ä»¥å¤–çš„ç½‘å¡çš„ ip ä½œä¸ºèŠ‚ç‚¹ä¹‹é—´çš„è·¯ç”±åœ°å€ã€‚&lt;/li>
&lt;li>can-reachï¼šé€šè¿‡æ£€æŸ¥åŸŸåæˆ–è€… ip çš„å¯è¾¾æ€§æ¥è®¾ç½®èŠ‚ç‚¹ä¹‹é—´çš„è·¯ç”±åœ°å€ã€‚&lt;/li>
&lt;li>interfaceï¼šæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼è·å–æ‰€æœ‰æ»¡è¶³çš„ç½‘å¡è®¾å¤‡åç§°å¹¶è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³è¡¨è¾¾å¼ç½‘å¡çš„åœ°å€ä½œä¸ºèŠ‚ç‚¹ä¹‹é—´çš„è·¯ç”±åœ°å€ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>MTUï¼šä¸º Calico ç¯å¢ƒé…ç½®æœ€å¤§ä¼ è¾“å•å…ƒ(MTU)ï¼Œå»ºè®®ä¸å¤§äº1440ï¼Œé»˜è®¤ä¸º1440ï¼Œè¯¦æƒ…è§ &lt;a href="https://docs.projectcalico.org/networking/mtu">https://docs.projectcalico.org/networking/mtu&lt;/a>ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="å­˜å‚¨é…ç½®">å­˜å‚¨é…ç½®&lt;/h3>
&lt;p>Kubeclipperå½“å‰ç‰ˆæœ¬å†…ç½®äº† NFS ä½œä¸ºé›†ç¾¤å¤–æ¥å­˜å‚¨ã€‚&lt;/p>
&lt;p>å¯¹æ¥ NFS ç±»å‹çš„å¤–æ¥å­˜å‚¨ï¼Œæ‚¨éœ€è¦è®¾ç½®ä»¥ä¸‹å†…å®¹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å­—æ®µ&lt;/th>
&lt;th>ä½œç”¨è¯´æ˜&lt;/th>
&lt;th>å¡«å†™è¯´æ˜/å¯é€‰é¡¹&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>æœåŠ¡åœ°å€&lt;/strong>&lt;/td>
&lt;td>ServerAddrï¼ŒNFSçš„æœåŠ¡åœ°å€&lt;/td>
&lt;td>å¿…å¡«&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>å…±äº«è·¯å¾„&lt;/strong>&lt;/td>
&lt;td>SharedPathï¼ŒNFSçš„æœåŠ¡æŒ‚è½½è·¯å¾„&lt;/td>
&lt;td>å¿…å¡«&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>å­˜å‚¨ç±»&lt;/strong>&lt;/td>
&lt;td>StorageClassNameï¼Œå­˜å‚¨ç±»çš„åç§°&lt;/td>
&lt;td>é»˜è®¤ä¸º nfs-scï¼Œå¯è‡ªå®šä¹‰åç§°ï¼Œä¸å¯ä¸é›†ç¾¤å…¶ä»–å­˜å‚¨ç±»é‡å¤&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>å›æ”¶ç­–ç•¥&lt;/strong>&lt;/td>
&lt;td>ReclaimPolicyï¼ŒVPCå›æ”¶ç­–ç•¥&lt;/td>
&lt;td>åˆ é™¤ Delete / ä¿ç•™ Retain&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>æŒ‚è½½é€‰é¡¹&lt;/strong>&lt;/td>
&lt;td>MountOptionsï¼ŒNFS çš„ options å‚æ•°ï¼Œå¦‚nfsvers=3&lt;/td>
&lt;td>é€‰å¡«ï¼Œå¯å¡«å†™å¤šä¸ª&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>å‰¯æœ¬æ•°&lt;/strong>&lt;/td>
&lt;td>Replicasï¼ŒNFS provisionerå‰¯æœ¬æ•°&lt;/td>
&lt;td>é»˜è®¤ä¸º1&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>è®¾ç½®å®Œå¤–æ¥å­˜å‚¨åï¼Œä¸‹æ–¹å¡ç‰‡ä¼šæ˜¾ç¤ºæ‚¨å·²ç»å¼€å¯çš„å­˜å‚¨ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä¸€ä¸ªå­˜å‚¨ç±»ä½œä¸ºé»˜è®¤å­˜å‚¨ï¼Œå¯¹äºæœªæŒ‡å®šç‰¹å®šStorageClass çš„ PVC ï¼Œä¼šç›´æ¥ä½¿ç”¨é»˜è®¤çš„å­˜å‚¨ç±»ã€‚&lt;/p>
&lt;h3 id="é…ç½®ç¡®è®¤">é…ç½®ç¡®è®¤&lt;/h3>
&lt;p>æ‚¨å¯ä»¥åœ¨é…ç½®ç¡®è®¤é¡µé¢æµè§ˆé›†ç¾¤çš„é…ç½®ä¿¡æ¯ï¼Œç¡®è®¤æ— è¯¯åï¼Œç‚¹å‡»â€œç¡®è®¤â€œæŒ‰é’®ã€‚ä¹Ÿå¯ä»¥ç‚¹å‡»å¡ç‰‡å³ä¾§çš„â€œç¼–è¾‘â€æŒ‰é’®ï¼Œè·³å›åˆ°ç›¸åº”æ­¥éª¤ä¿®æ”¹é›†ç¾¤ä¿¡æ¯ã€‚&lt;/p>
&lt;p>å®‰è£…é›†ç¾¤å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢æŸ¥çœ‹æ“ä½œæ—¥å¿—ï¼Œè·Ÿè¸ªé›†ç¾¤å®‰è£…çŠ¶æ€ã€‚&lt;/p>
&lt;h3 id="è®¾ç½®å›½å†…é•œåƒä»£ç†å¯é€‰">è®¾ç½®å›½å†…é•œåƒä»£ç†ï¼ˆå¯é€‰ï¼‰&lt;/h3>
&lt;blockquote>
&lt;p>Q: è®¾ç½®å›½å†…é•œåƒä»£ç†æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ&lt;/p>
&lt;p>A: è®¾ç½®äº†å›½å†…é•œåƒä»£ç†ï¼Œä½¿ç”¨åœ¨çº¿å®‰è£…åŠŸèƒ½æ—¶ï¼Œä¼šä»æŒ‡å®šä»£ç†æ‹‰å– kubernetes ç›¸å…³é•œåƒï¼Œé¿å…åœ¨å›½å†…æ— æ³•è®¿é—® gcr è€Œå¯¼è‡´é›†ç¾¤å®‰è£…å¤±è´¥é—®é¢˜ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ä»¥ä¸‹è®¾ç½®æ–¹æ³•éœ€åœ¨æ‰§è¡Œ &lt;code>kcctl deploy&lt;/code> éƒ¨ç½²å‘½ä»¤çš„æœºå™¨ä¸Šå®Œæˆï¼Œä»»é€‰å…¶ä¸€å³å¯ã€‚&lt;/p>
&lt;p>**æ–¹å¼ä¸€ï¼š**è®¾ç½® KC_IMAGE_REPO_MIRROR ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæ¨èä½¿ç”¨é˜¿é‡Œäº‘é•œåƒä»£ç†ï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªè¡Œè®¾å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">KC_IMAGE_REPO_MIRROR&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;registry.aliyuncs.com/google_containers&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>**æ–¹å¼äºŒï¼š**è®¾ç½® /etc/kc/kc.env ç¯å¢ƒå˜é‡æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># åˆ›å»º kc ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir -pv /etc/kc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># åˆ›å»º kc.env æ–‡ä»¶å¹¶ä¼ å…¥ç¯å¢ƒå˜é‡ä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF &amp;gt; /etc/kc/kc.env
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">KC_IMAGE_REPO_MIRROR=&amp;#34;registry.aliyuncs.com/google_containers&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: éƒ¨ç½² AIO</title><link>https://www.kubeclipper.io/docs/getting-started/aio-env/</link><pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/getting-started/aio-env/</guid><description>
&lt;p>å¯¹äºåˆæ¬¡æ¥è§¦ KubeClipper å¹¶æƒ³å¿«é€Ÿä¸Šæ‰‹çš„ç”¨æˆ·ï¼Œå»ºè®®ä½¿ç”¨ AIOï¼ˆå³ All-in-Oneï¼Œä½¿ç”¨å•ä¸ªèŠ‚ç‚¹å®‰è£… KubeClipperï¼‰æ¨¡å¼ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æ‚¨é›¶é…ç½®å¿«é€Ÿéƒ¨ç½² KubeClipperã€‚&lt;/p>
&lt;h2 id="éƒ¨ç½²-kubeclipper">éƒ¨ç½² KubeClipper&lt;/h2>
&lt;h3 id="ä¸‹è½½å¹¶å®‰è£…-kcctl">ä¸‹è½½å¹¶å®‰è£… kcctl&lt;/h3>
&lt;p>KubeClipper æä¾›äº†å‘½ä»¤è¡Œå·¥å…·ğŸ”§ kcctl ä»¥ç®€åŒ–è¿ç»´å·¥ä½œï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½æœ€æ–°ç‰ˆ kcctlï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># é»˜è®¤å®‰è£…æœ€æ–°çš„å‘è¡Œç‰ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/get-kubeclipper.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> bash -
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å®‰è£…æŒ‡å®šç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/get-kubeclipper.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_VERSION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>v1.3.1 bash -
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å¦‚æœæ‚¨åœ¨ä¸­å›½ï¼Œ æ‚¨å¯ä»¥åœ¨å®‰è£…æ—¶ä½¿ç”¨ cn ç¯å¢ƒå˜é‡, æ­¤æ—¶ KubeClipper ä¼šä½¿ç”¨ registry.aliyuncs.com/google_containers ä»£æ›¿ k8s.gcr.io&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/get-kubeclipper.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_REGION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>cn bash -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥åœ¨ &lt;a href="https://github.com/kubeclipper/kubeclipper/releases">GitHub Release Page&lt;/a> ä¸‹è½½æŒ‡å®šç‰ˆæœ¬ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯ kcctl æ˜¯å¦å®‰è£…æˆåŠŸ:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨å°†çœ‹åˆ° kcctl ç‰ˆæœ¬ä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¼€å§‹å®‰è£…">å¼€å§‹å®‰è£…&lt;/h3>
&lt;p>æ‚¨å¯ä»¥ä½¿ç”¨ &lt;code>kcctl deploy&lt;/code> å¿«é€Ÿå®‰è£…éƒ¨ç½² KubeClipperã€‚kcctl ä½¿ç”¨ SSH è®¿é—®æœ€ç»ˆéƒ¨ç½² KubeClipper çš„ç›®æ ‡èŠ‚ç‚¹ï¼Œå› æ­¤éœ€è¦æ‚¨æä¾› SSH è®¿é—®å‡­è¯ï¼Œä¼ é€’å‡­è¯çš„æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>Kcctl deploy &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>--user &amp;lt;username&amp;gt;&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>--passwd &amp;lt;password&amp;gt; &lt;span style="color:#000;font-weight:bold">|&lt;/span> --pk-file &amp;lt;private key path&amp;gt;&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># ä½¿ç”¨ç§é’¥&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl deploy --user root --pk-file /root/.ssh/id_rsa
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># ä½¿ç”¨å¯†ç &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl deploy --user root --passwd password
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰§è¡Œ &lt;code>kcctl deploy&lt;/code> å‘½ä»¤ kcctl å°†ä¼šæ£€æŸ¥æ‚¨çš„å®‰è£…ç¯å¢ƒï¼Œè‹¥æ»¡è¶³æ¡ä»¶å°†è‡ªåŠ¨è¿›å…¥å®‰è£…æµç¨‹ã€‚è‹¥æ‚¨çœ‹åˆ°å¦‚ä¸‹ KubeClipper banner åå³è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-console" data-lang="console">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic"> _ __ _ _____ _ _
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">| | / / | | / __ \ (_)
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">| |/ / _ _| |__ ___| / \/ |_ _ __ _ __ ___ _ __
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">| \| | | | &amp;#39;_ \ / _ \ | | | | &amp;#39;_ \| &amp;#39;_ \ / _ \ &amp;#39;__|
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">| |\ \ |_| | |_) | __/ \__/\ | | |_) | |_) | __/ |
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic">\_| \_/\__,_|_.__/ \___|\____/_|_| .__/| .__/ \___|_|
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic"> | | | |
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-style:italic"> |_| |_|
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥éƒ¨ç½² master ç‰ˆæœ¬çš„ KubeClipperï¼Œæ¥ä½“éªŒæœ€æ–°çš„åŠŸèƒ½ç‰¹æ€§ï¼ˆmaster ç‰ˆæœ¬æ²¡æœ‰ç»è¿‡ä¸¥æ ¼éªŒè¯ï¼Œå¯èƒ½åŒ…å«å½±å“ä½“éªŒçš„æœªçŸ¥é”™è¯¯ï¼‰&lt;/p>
&lt;ol>
&lt;li>å®‰è£… master ç‰ˆæœ¬ kcctl&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/get-kubeclipper.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_VERSION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>master bash -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>åœ¨å®‰è£…æœåŠ¡å™¨ä¸Šè®¾ç½®ç¯å¢ƒå˜é‡&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">export&lt;/span> &lt;span style="color:#000">KC_VERSION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="3">
&lt;li>ä»¥ AIO æ–¹å¼éƒ¨ç½² KubeClipper&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/blockquote>
&lt;h3 id="ç™»å½•æ§åˆ¶å°">ç™»å½•æ§åˆ¶å°&lt;/h3>
&lt;p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® &lt;code>http://&amp;lt;kc-server ip address&amp;gt;&lt;/code> å³å¯è¿›å…¥ KubeClipper æ§åˆ¶å°ã€‚(é€šå¸¸ kc-server ip æ˜¯æ‚¨éƒ¨ç½² kubeClipper èŠ‚ç‚¹çš„ ip)&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/console-login.png" alt="console">&lt;/p>
&lt;p>æ‚¨å¯ä»¥ä½¿ç”¨é»˜è®¤å¸å·å¯†ç  &lt;code>admin / Thinkbig1&lt;/code> è¿›è¡Œç™»å½•ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ‚¨å¯èƒ½éœ€è¦é…ç½®ç«¯å£è½¬å‘è§„åˆ™å¹¶åœ¨å®‰å…¨ç»„ä¸­å¼€æ”¾ç«¯å£ï¼Œä»¥ä¾¿å¤–éƒ¨ç”¨æˆ·è®¿é—®æ§åˆ¶å°ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="åˆ›å»º-kubernetes-é›†ç¾¤">åˆ›å»º Kubernetes é›†ç¾¤&lt;/h2>
&lt;p>éƒ¨ç½²æˆåŠŸåæ‚¨å¯ä»¥ä½¿ç”¨ &lt;strong>kcctl å·¥å…·&lt;/strong>æˆ–è€…é€šè¿‡&lt;strong>æ§åˆ¶å°&lt;/strong>åˆ›å»º Kubernetes é›†ç¾¤ã€‚åœ¨æœ¬å¿«é€Ÿå…¥é—¨æ•™ç¨‹ä¸­ä½¿ç”¨ kcctl å·¥å…·è¿›è¡Œåˆ›å»ºã€‚&lt;/p>
&lt;p>é¦–å…ˆä½¿ç”¨é»˜è®¤å¸å·å¯†ç è¿›è¡Œç™»å½•è·å– tokenï¼Œä¾¿äºåç»­ kcctl å’Œ kc-server è¿›è¡Œäº¤äº’ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl login -H https://&amp;lt;kc-server ip address&amp;gt;:8080 -u admin -p Thinkbig1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»º Kubernetes é›†ç¾¤:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">NODE&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>kcctl get node -o yaml&lt;span style="color:#000;font-weight:bold">|&lt;/span>grep ipv4DefaultIP:&lt;span style="color:#000;font-weight:bold">|&lt;/span>sed &lt;span style="color:#4e9a06">&amp;#39;s/ipv4DefaultIP: //&amp;#39;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl create cluster --master &lt;span style="color:#000">$NODE&lt;/span> --name demo --untaint-master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¤§æ¦‚ 3 åˆ†é’Ÿå·¦å³å³å¯å®Œæˆé›†ç¾¤åˆ›å»º,æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é›†ç¾¤çŠ¶æ€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl get cluster -o yaml&lt;span style="color:#000;font-weight:bold">|&lt;/span>grep status -A5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥è¿›å…¥æ§åˆ¶å°æŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>é›†ç¾¤å¤„äº Running çŠ¶æ€å³è¡¨ç¤ºé›†ç¾¤å®‰è£…å®Œæˆ,æ‚¨å¯ä»¥ä½¿ç”¨ &lt;code>kubectl get cs&lt;/code> å‘½ä»¤æ¥æŸ¥çœ‹é›†ç¾¤å¥åº·çŠ¶å†µã€‚&lt;/p></description></item><item><title>Docs: éƒ¨ç½²é«˜å¯ç”¨ KubeClipper</title><link>https://www.kubeclipper.io/docs/deployment-docs/ha-deploy/</link><pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/deployment-docs/ha-deploy/</guid><description>
&lt;blockquote>
&lt;p>å¯¹äºåˆæ¬¡æ¥è§¦ KubeClipperï¼Œå»ºè®®éƒ¨ç½² AIO ç¯å¢ƒï¼Œå¿«é€Ÿä¸Šæ‰‹ä½“éªŒ KubeClipper æä¾›çš„åŠŸèƒ½ç‰¹æ€§ã€‚
å¯¹äºæƒ³å°† KubeClipper åº”ç”¨åˆ°ç”Ÿæˆç¯å¢ƒï¼Œé‚£ä¹ˆæœ¬æ–‡æ¡£æˆ–è®¸å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="æ¦‚è¿°">æ¦‚è¿°&lt;/h2>
&lt;p>æ ¹æ® KubeClipper æ¶æ„è®¾è®¡å¯çŸ¥ï¼ŒKubeClipper æœ‰ä»¥ä¸‹ 4 ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>kc-serverï¼šä¸»è¦åŒ…æ‹¬ APISERVER ã€æ§åˆ¶å™¨ã€é™æ€èµ„æºæœåŠ¡ä»¥åŠå†…ç½®æ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼Œkc-server é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆæ”¯æŒå¤–ç½®ï¼‰ä¸ kc-agent é€šä¿¡ï¼›kc-server ä¹‹é—´æ— ä¸»ä»å…³ç³»ï¼Œä¸”ç›¸äº’ç‹¬ç«‹ï¼›é€šå¸¸éƒ¨ç½²åœ¨ç‹¬ç«‹çš„èŠ‚ç‚¹ï¼Œä»è€Œå¯¹å¤–æä¾›ç¨³å®šå¯é çš„æœåŠ¡ã€‚&lt;/li>
&lt;li>kc-agentï¼šä¸»è¦åŒ…æ‹¬ä»»åŠ¡å¤„ç†å™¨ï¼Œè´Ÿè´£æ¥æ”¶ kc-server æŠ•é€’çš„ä»»åŠ¡ï¼Œå¹¶åé¦ˆä»»åŠ¡å¤„ç†ç»“æœï¼›é€šå¸¸éƒ¨ç½²åœ¨éœ€è¦å®‰è£… kubernetes çš„èŠ‚ç‚¹ï¼Œæ˜¯ä¸€ä¸ªè¶…è½»é‡çº§çš„æœåŠ¡è¿›ç¨‹ã€‚&lt;/li>
&lt;li>kc-etcdï¼škc-server çš„åç«¯æ•°æ®åº“ï¼Œè·Ÿéš kc-server éƒ¨ç½²åœ¨åŒä¸€èŠ‚ç‚¹ä¸Šã€‚&lt;/li>
&lt;li>kc-dashboardï¼šå›¾å½¢åŒ–ç®¡ç†ç•Œé¢ï¼Œè·Ÿéš kc-server éƒ¨ç½²åœ¨åŒä¸€èŠ‚ç‚¹ã€‚
ç»¼ä¸Šï¼Œæˆ‘ä»¬å°†éƒ¨ç½² kc-server çš„èŠ‚ç‚¹ç§°ä¸º serverï¼Œéƒ¨ç½² kc-agent çš„èŠ‚ç‚¹ç§°ä¸º agentã€‚&lt;/li>
&lt;/ul>
&lt;p>é‚£ä¹ˆéƒ¨ç½²é«˜å¯ç”¨ KubeClipper é›†ç¾¤çš„å…³é”®ç‚¹ï¼Œå°±åœ¨äºå¦‚ä½•è§„åˆ’éƒ¨ç½² server èŠ‚ç‚¹åŒæ—¶ä¿è¯ kc-etcd çš„é«˜å¯ç”¨ã€‚
é€šå¸¸æ¥çœ‹ï¼Œå¯¹äºéƒ¨ç½²é«˜å¯ç”¨çš„åˆ†å¸ƒå¼åº”ç”¨é›†ç¾¤ï¼ŒåŸºæœ¬å»ºè®®èŠ‚ç‚¹è‡³å°‘ 3 ä¸ªï¼›åŒæ ·å¯¹äº KubeClipperï¼Œ3 ä¸ªèŠ‚ç‚¹èƒ½ä¿è¯ kc-server åœ¨å…¶ä¸­ 2 ä¸ªèŠ‚ç‚¹å®•æœºåä¾æ—§å¯ä»¥æä¾›æœåŠ¡ï¼ŒåŒæ—¶èƒ½ä¿è¯ kc-etcd ä¸ä¼šå‡ºç°è„‘è£‚å¼‚å¸¸ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä»¥ä¸Šç®€å•ä»‹ç»äº† KubeClipper æ¶æ„ä»¥åŠæ ¸å¿ƒç»„ä»¶ï¼Œæ˜¯ä¸ºäº†æ›´å¥½çš„ç†è§£è¯¥å¦‚ä½•éƒ¨ç½²é«˜å¯ç”¨ KubeClipper é›†ç¾¤ï¼Œä»è€Œå¼•å‡ºå…³äºå¯¹æœåŠ¡å™¨èŠ‚ç‚¹è§„åˆ’ä»¥åŠç¡¬ä»¶é…ç½®è¦æ±‚çš„æ€è€ƒã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="æ¨èé…ç½®">æ¨èé…ç½®&lt;/h2>
&lt;blockquote>
&lt;p>KubeClipper ä½œä¸ºä¸€ä¸ªæè½»é‡çš„ Kubernetes å¤šé›†ç¾¤å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†å·¥å…·ï¼Œæœ¬èº«ä¸ä¼šå ç”¨å¤ªå¤šèµ„æº&lt;/p>
&lt;/blockquote>
&lt;p>server èŠ‚ç‚¹&lt;/p>
&lt;ul>
&lt;li>æ•°é‡ï¼š3 ä¸ªåŠä»¥ä¸Š&lt;/li>
&lt;li>ç¡¬ä»¶è¦æ±‚ï¼šCPU &amp;gt;= 2 æ ¸ï¼Œå†…å­˜ &amp;gt;= 2GBï¼Œç¡¬ç›˜ &amp;gt;= 20GB&lt;/li>
&lt;li>ç³»ç»Ÿï¼šCentOS 7.x / Ubuntu 18.04 / Ubuntu 20.04&lt;/li>
&lt;/ul>
&lt;p>agent èŠ‚ç‚¹&lt;/p>
&lt;ul>
&lt;li>æ•°é‡ï¼šä»»æ„&lt;/li>
&lt;li>ç¡¬ä»¶è¦æ±‚ï¼šä¾æ®å®é™…éœ€æ±‚è€Œå®š&lt;/li>
&lt;li>ç³»ç»Ÿï¼šCentOS 7.x / Ubuntu 18.04 / Ubuntu 20.04&lt;/li>
&lt;/ul>
&lt;h2 id="ä»å®‰è£…-kcctl-å¼€å§‹">ä»å®‰è£… kcctl å¼€å§‹&lt;/h2>
&lt;blockquote>
&lt;p>kcctl æ˜¯ KubeClipper æä¾›çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒæ”¯æŒå¿«é€Ÿéƒ¨ç½² KubeClipper é›†ç¾¤ä»¥åŠå¤§éƒ¨åˆ† Kuberneters é›†ç¾¤ç®¡ç†åŠŸèƒ½ï¼Œç”¨ä»¥ç®€åŒ–è¿ç»´å·¥ä½œã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å®‰è£… kcctlï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># é»˜è®¤å®‰è£…æœ€æ–°å‘è¡Œç‰ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/get-kubeclipper.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> bash -
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å®‰è£…æŒ‡å®šç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/get-kubeclipper.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_VERSION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>v1.3.1 bash -
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å¦‚æœæ‚¨åœ¨ä¸­å›½ï¼Œæ‚¨å¯ä»¥åœ¨å®‰è£…æ—¶æŒ‡å®š KC_REGION ç¯å¢ƒå˜é‡ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ registry.aliyuncs.com/google_containers ä»£æ›¿ k8s.gcr.io&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># è¿™å¯¹äºåœ¨çº¿å®‰è£… k8s é›†ç¾¤éå¸¸æœ‰ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/get-kubeclipper.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_REGION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>cn bash -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®‰è£…æˆåŠŸåï¼Œä¼šè¾“å‡ºå®‰è£…ç‰ˆæœ¬ä»¥åŠå®‰è£…è·¯å¾„ç­‰ä¿¡æ¯ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥åœ¨ &lt;a href="https://github.com/kubeclipper/kubeclipper/releases">GitHub Release Page&lt;/a> ä¸‹è½½æŒ‡å®šçš„ kcctl ç‰ˆæœ¬&lt;/p>
&lt;/blockquote>
&lt;p>éªŒè¯å®‰è£…ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl version -o json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl version:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;major&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;1&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;minor&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;3&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;gitVersion&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;v1.3.1&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;gitCommit&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;5f19dcf78d3a9dc2d1035a779152fa993e0553df&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;gitTreeState&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;clean&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;buildDate&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;2022-12-02T10:12:36Z&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;goVersion&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;go1.19.2&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;compiler&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;gc&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;platform&amp;#34;&lt;/span>: &lt;span style="color:#4e9a06">&amp;#34;linux/amd64&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl -h
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="äº†è§£-kcctl-deploy-å‘½ä»¤">äº†è§£ kcctl deploy å‘½ä»¤&lt;/h2>
&lt;blockquote>
&lt;p>kcctl deploy å‘½ä»¤æ˜¯ä¸“é—¨ç”¨äºéƒ¨ç½² KubeClipper é›†ç¾¤ï¼Œæ›´å¤šç¤ºä¾‹ä»¥åŠå‚æ•°è§£é‡Šè¯·æ‰§è¡Œ kcctl deploy -h&lt;/p>
&lt;/blockquote>
&lt;p>å¸¸ç”¨å‚æ•°ç®€ä»‹&lt;/p>
&lt;ul>
&lt;li>&amp;ndash;server: server èŠ‚ç‚¹ IPï¼Œä¾‹å¦‚ 192.168.10.10,192.168.10.11ï¼Œå¤šä¸ª IP ä»¥é€—å·éš”å¼€ã€‚&lt;/li>
&lt;li>&amp;ndash;agent: agent èŠ‚ç‚¹ IPï¼Œä¾‹å¦‚ 192.168.10.10,192.168.10.11ï¼Œå¤šä¸ª IP ä»¥é€—å·éš”å¼€ã€‚&lt;/li>
&lt;li>&amp;ndash;pk-file: ssh å…å¯†ç™»å½•ç§é’¥ï¼Œæ¨èåœ¨å‘½ä»¤è¡Œä½¿ç”¨å…å¯†ç™»å½•ã€‚&lt;/li>
&lt;li>&amp;ndash;user: ssh ç™»å½•ç”¨æˆ·åï¼Œé»˜è®¤ä¸º rootã€‚&lt;/li>
&lt;li>&amp;ndash;passwd: ssh ç™»å½•å¯†ç ï¼Œä¸æ¨èåœ¨å‘½ä»¤è¡Œä½¿ç”¨å¯†ç ç™»å½•ã€‚&lt;/li>
&lt;li>&amp;ndash;pkg: å®‰è£…åŒ…è·¯å¾„ï¼Œæ”¯æŒæœ¬åœ°è·¯å¾„ä»¥åŠåœ¨çº¿é“¾æ¥ï¼›è·å–åœ¨çº¿å®‰è£…åŒ…é“¾æ¥è§„åˆ™ï¼šhttps://oss.kubeclipper.io/release/{KC_VERSION}/kc-{GOARCH}.tar.gz ã€‚KC_VERSION ä¸º Release Version é»˜è®¤è®¾ç½®å½“å‰ kcctl å¯¹åº”ç‰ˆæœ¬ï¼ŒGOARCH ä¸º amd64 æˆ– arm64ï¼Œé»˜è®¤è®¾ç½®å½“å‰ kcctl çš„ç¼–è¯‘æ¶æ„ã€‚&lt;/li>
&lt;li>&amp;ndash;ip-detect: èŠ‚ç‚¹ ip å‘ç°è§„åˆ™ï¼Œæ”¯æŒå¤šç§è§„åˆ™ï¼Œä¾‹å¦‚æŒ‡å®šç½‘å¡åç§°ç­‰ï¼Œå¯¹äºå¤šç½‘å¡èŠ‚ç‚¹éå¸¸æœ‰ç”¨ï¼Œé»˜è®¤ä¸º &amp;ldquo;first-found&amp;rdquo;ã€‚&lt;/li>
&lt;/ul>
&lt;p>äº†è§£å®Œ kcctl deploy çš„åŸºç¡€ä½¿ç”¨ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±å¼€å§‹éƒ¨ç½² KubeClipper é›†ç¾¤å§ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨-kcctl-éƒ¨ç½²-kubeclipper">ä½¿ç”¨ kcctl éƒ¨ç½² KubeClipper&lt;/h2>
&lt;blockquote>
&lt;p>æˆ‘ä»¬æ¨èåœ¨å¤šèŠ‚ç‚¹å®‰è£…åœºæ™¯ä¸­ï¼Œå°†æ¶‰åŠåˆ°çš„æœåŠ¡å™¨èŠ‚ç‚¹éƒ½ç»Ÿä¸€è®¾ç½®å…å¯†ç™»å½•ï¼Œé¿å…å¯†ç æ˜æ–‡æ³„éœ²ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç§é’¥æ–¹å¼éƒ¨ç½² 3 server èŠ‚ç‚¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy --pk-file&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>~/.ssh/id_rsa &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--server SERVER_IPS &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--pkg https://oss.kubeclipper.io/release/&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>KC_VERSION&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>/kc-&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>GOARCH&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç§é’¥æ–¹å¼éƒ¨ç½² 3 server + 3 agent èŠ‚ç‚¹ï¼ŒæŒ‡å®š pkgï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy --pk-file&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>~/.ssh/id_rsa &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--server SERVER_IPS &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--agent AGENT_IPS &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--pkg https://oss.kubeclipper.io/release/&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>KC_VERSION&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>/kc-&lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>GOARCH&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç§é’¥æ–¹å¼éƒ¨ç½² 3 server + 3 agent èŠ‚ç‚¹ï¼ŒæœªæŒ‡å®š pkgï¼Œé»˜è®¤ä¸ kcctl å®‰è£…ç‰ˆæœ¬ä¸€è‡´ï¼ˆæ¨èï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy --pk-file&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>~/.ssh/id_rsa &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--server SERVER_IPS &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--agent AGENT_IPS
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç§é’¥æ–¹å¼éƒ¨ç½² 3 server + 3 agent èŠ‚ç‚¹ï¼ŒæŒ‡å®š etcd ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º client-12379 | peer-12380 | metrics-12381ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl deploy --pk-file&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>~/.ssh/id_rsa &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--server SERVER_IPS &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--agent AGENT_IPS &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--etcd-port &lt;span style="color:#0000cf;font-weight:bold">12379&lt;/span> --etcd-peer-port &lt;span style="color:#0000cf;font-weight:bold">12380&lt;/span> --etcd-metric-port &lt;span style="color:#0000cf;font-weight:bold">12381&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>å‚æ•°è¾“å…¥ç¤ºä¾‹ï¼š&lt;br>
SERVER_IPS: 192.168.10.20,192.168.10.21&lt;br>
AGENT_IPS: 192.168.10.30,192.168.10.31&lt;br>
KC_VERSION: KubeClipper çš„ release versionï¼ŒæŸ¥çœ‹ &lt;a href="https://github.com/kubeclipper/kubeclipper/releases">GitHub Release Page&lt;/a> è·å–&lt;br>
GOARCHï¼šç³»ç»Ÿæ¶æ„ï¼Œamd64 ï¼ˆåˆå x84_64ï¼‰ï¼Œarm64ï¼ˆåˆå aarch64ï¼‰&lt;/p>
&lt;/blockquote>
&lt;p>kcctl deploy æ”¯æŒå¤šç§å‚æ•°ï¼Œèƒ½å¤Ÿæ»¡è¶³æ‚¨å¯¹éƒ¨ç½² KubeClipper é›†ç¾¤çš„ç‰¹å®šéœ€æ±‚ï¼Œæ›´å¤šåŠŸèƒ½ç­‰æ‚¨æ¢ç´¢ã€‚&lt;br>
åœ¨æ‰§è¡Œ kcctl deploy å‘½ä»¤åï¼Œå‘½ä»¤ä¼šæ£€æµ‹æ‚¨çš„ç¯å¢ƒæ˜¯å¦ç¬¦åˆå®‰è£…è¦æ±‚ï¼Œä¼šå°†è­¦å‘Šä¿¡æ¯ã€å®‰è£…è¿›åº¦ç­‰åŒæ­¥è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œæœ€ååœ¨å®‰è£…æˆåŠŸåä¼šæ‰“å°å¦‚ä¸‹ KubeClipper bannerï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span> _ __ _ _____ _ _
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> / / &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> / __ &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">(&lt;/span>_&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>/ / _ _&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>__ ___&lt;span style="color:#000;font-weight:bold">|&lt;/span> / &lt;span style="color:#4e9a06">\/&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>_ _ __ _ __ ___ _ __
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#4e9a06">\|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;_ \ / _ \ | | | | &amp;#39;&lt;/span>_ &lt;span style="color:#4e9a06">\|&lt;/span> &lt;span style="color:#4e9a06">&amp;#39;_ \ / _ \ &amp;#39;&lt;/span>__&lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>&lt;span style="color:#4e9a06">\ &lt;/span> &lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#000;font-weight:bold">|&lt;/span>_&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>_&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> __/ &lt;span style="color:#4e9a06">\_&lt;/span>_/&lt;span style="color:#4e9a06">\ &lt;/span>&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>_&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>_&lt;span style="color:#ce5c00;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> __/ &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">\_&lt;/span>&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#4e9a06">\_&lt;/span>/&lt;span style="color:#4e9a06">\_&lt;/span>_,_&lt;span style="color:#000;font-weight:bold">|&lt;/span>_.__/ &lt;span style="color:#4e9a06">\_&lt;/span>__&lt;span style="color:#000;font-weight:bold">|&lt;/span>&lt;span style="color:#4e9a06">\_&lt;/span>___/_&lt;span style="color:#000;font-weight:bold">|&lt;/span>_&lt;span style="color:#000;font-weight:bold">|&lt;/span> .__/&lt;span style="color:#000;font-weight:bold">|&lt;/span> .__/ &lt;span style="color:#4e9a06">\_&lt;/span>__&lt;span style="color:#000;font-weight:bold">|&lt;/span>_&lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>_&lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000;font-weight:bold">|&lt;/span>_&lt;span style="color:#000;font-weight:bold">|&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç³»ç»Ÿé»˜è®¤ç®¡ç†è´¦å·ï¼š&lt;code>admin / Thinkbig1&lt;/code>&lt;/p>
&lt;p>ç™»å½•æ§åˆ¶å°ï¼š
æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® &lt;code>http://SERVER_IP&lt;/code> ï¼ˆé€šè¿‡ä»»æ„ä¸€ä¸ª Server èŠ‚ç‚¹å‡å¯è®¿é—®ï¼‰å³å¯è¿›å…¥ KubeClipper æ§åˆ¶å°&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/console-login.png" alt="console">&lt;/p>
&lt;p>ç™»å½•å‘½ä»¤è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl login -H http://SERVER_IP -u admin -p Thinkbig1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>å¤§å¤šæ•° kcctl å‘½ä»¤éƒ½ä¾èµ–ç™»å½•çŠ¶æ€ï¼Œå› æ­¤æœ€å¥½åœ¨æ‰§è¡Œ cli å‘½ä»¤æ—¶æå‰ç™»å½•ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä½¿ç”¨-kcctl-æ·»åŠ -agent-èŠ‚ç‚¹åˆ°-kubeclipper">ä½¿ç”¨ kcctl æ·»åŠ  agent èŠ‚ç‚¹åˆ° KubeClipper&lt;/h2>
&lt;blockquote>
&lt;p>å½“å‰ kcctl join å‘½ä»¤ä»…æ”¯æŒæ·»åŠ  agent èŠ‚ç‚¹ï¼Œåç»­ä¼šé€æ­¥æ”¯æŒæ·»åŠ  server èŠ‚ç‚¹ã€‚
æ–°åŠ å…¥çš„ agent èŠ‚ç‚¹ä¹Ÿåº”è¯¥ç»Ÿä¸€è®¾ç½®å…å¯†ç™»å½•ï¼Œä¸”ç§é’¥ç›¸åŒã€‚&lt;/p>
&lt;/blockquote>
&lt;p>Join agent èŠ‚ç‚¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl join --agent&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>AGENT_IPS
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ä½¿ç”¨-kcctl-ä»-kubeclipper-ä¸­åˆ é™¤-agent-èŠ‚ç‚¹">ä½¿ç”¨ kcctl ä» KubeClipper ä¸­åˆ é™¤ agent èŠ‚ç‚¹&lt;/h2>
&lt;blockquote>
&lt;p>å½“å‰ kcctl drain å‘½ä»¤ä»…æ”¯æŒåˆ é™¤ agent èŠ‚ç‚¹ï¼Œåç»­ä¼šé€æ­¥æ”¯æŒåˆ é™¤ server èŠ‚ç‚¹ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>Drain agent èŠ‚ç‚¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl drain --agent&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>AGENT_IPS
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å¼ºåˆ¶ drain èŠ‚ç‚¹ï¼Œå¿½ç•¥é”™è¯¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl drain --agent&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>AGENT_IPS --force
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æœæ‚¨å‘ç°æ ¹æ®æœ¬æ–‡æ¡£æ— æ³•æˆåŠŸéƒ¨ç½² KubeClipperï¼Œè¯·ç§»æ­¥ &lt;a href="https://github.com/kubeclipper/kubeclipper/issues">KubeClipper Github Issue&lt;/a>ï¼Œæå‡ºæ‚¨çš„æ„è§æˆ–åé¦ˆã€‚&lt;/p></description></item><item><title>Docs: é›†ç¾¤æ‰˜ç®¡</title><link>https://www.kubeclipper.io/docs/tutorials/cluster-hosting/</link><pubDate>Tue, 29 Nov 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/tutorials/cluster-hosting/</guid><description>
&lt;h2 id="kubeadm-é›†ç¾¤æ‰˜ç®¡">Kubeadm é›†ç¾¤æ‰˜ç®¡&lt;/h2>
&lt;p>æ‰˜ç®¡ç”± kubeadm åˆ›å»ºå’Œç®¡ç†çš„ kubernetes é›†ç¾¤ï¼Œkubeclipper ä¼šé€šè¿‡ kubeconfig æ–‡ä»¶ï¼Œè·å–é›†ç¾¤å’ŒèŠ‚ç‚¹ä¿¡æ¯ï¼Œå¹¶å¯¼å…¥åˆ° kubeclipper å¹³å°ä¸­ã€‚&lt;/p>
&lt;p>ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé›†ç¾¤æ‰˜ç®¡â€æŒ‰é’®è¿›å…¥é›†ç¾¤æ‰˜ç®¡é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œæ·»åŠ â€æŒ‰é’®ï¼Œåœ¨æ·»åŠ æä¾›å•†å¼¹çª—ä¸­ï¼Œå¡«å†™æä¾›å•†åç§°ï¼ˆå¦‚ kubeadm-demoï¼‰å’Œæè¿°åï¼Œå¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š&lt;/p>
&lt;ul>
&lt;li>åŒºåŸŸï¼šæä¾›å•†ä¸‹çš„é›†ç¾¤å’ŒèŠ‚ç‚¹åœ¨ kubeclipper å¹³å°ä¸­çš„æ‰€å±åŒºåŸŸã€‚&lt;/li>
&lt;li>æä¾›å•†ç±»å‹ï¼šé€‰æ‹© kubeadmã€‚&lt;/li>
&lt;li>èŠ‚ç‚¹è¿æ¥æ–¹å¼ï¼šé›†ç¾¤èŠ‚ç‚¹çš„è¿æ¥æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©â€œç§é’¥â€æˆ–è€…â€œå¯†ç â€ï¼Œæ‚¨éœ€è¦ç¡®ä¿å¯ä»¥é€šè¿‡æ‰€é€‰æ–¹å¼ ssh åˆ°é›†ç¾¤èŠ‚ç‚¹ã€‚
&lt;ul>
&lt;li>é€‰æ‹©â€œç§é’¥â€ï¼Œéœ€è¦è¾“å…¥èŠ‚ç‚¹ç”¨æˆ·åå’Œç§é’¥ä¿¡æ¯ã€‚&lt;/li>
&lt;li>é€‰æ‹©â€œå¯†ç â€ï¼Œéœ€è¦è¾“å…¥èŠ‚ç‚¹ç”¨æˆ·åå’Œå¯†ç ä¿¡æ¯ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>é›†ç¾¤åç§°ï¼šä½œä¸ºåœ¨æœ¬å¹³å°çš„å±•ç¤ºåç§°ï¼Œä¸èƒ½ä¸å…¶ä»–é›†ç¾¤é‡å¤ã€‚&lt;/li>
&lt;li>KubeConfigï¼šæ‰˜ç®¡é›†ç¾¤çš„ KubeConfig æ–‡ä»¶ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¡«å†™å®Œæˆåç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ï¼Œå°†é›†ç¾¤å’ŒèŠ‚ç‚¹å¯¼å…¥åˆ°å¹³å°ä¸­ã€‚ç‚¹å‡»æä¾›å•†åç§°ï¼ˆkubeadm-demoï¼‰ï¼Œè¿›å…¥æä¾›å•†è¯¦æƒ…é¡µï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æä¾›å•†ä¸‹çš„é›†ç¾¤ï¼Œå¹¶å¯¹æä¾›å•†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>åŒæ­¥ï¼šç³»ç»Ÿå°†æ¯éš”4å°æ—¶å®šæœŸåŒæ­¥é›†ç¾¤ä¿¡æ¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç‚¹å‡»â€œåŒæ­¥â€æŒ‰é’®æ‰‹åŠ¨æ‰§è¡Œã€‚&lt;/li>
&lt;li>ç¼–è¾‘ï¼šç¼–è¾‘æä¾›å•†çš„åç§°ã€æè¿°ã€è®¿é—®ä¿¡æ¯ã€èŠ‚ç‚¹è¿æ¥æ–¹å¼ã€‚&lt;/li>
&lt;li>ç§»é™¤ï¼šç§»é™¤é›†ç¾¤ä¿¡æ¯ï¼Œä½†é›†ç¾¤ä¸ä¼šè¢«å¸è½½ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="æ‰˜ç®¡é›†ç¾¤ç®¡ç†">æ‰˜ç®¡é›†ç¾¤ç®¡ç†&lt;/h2>
&lt;p>æ‚¨å¯ä»¥ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé›†ç¾¤â€è¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼ŒæŸ¥çœ‹åŒ…æ‹¬æ‰˜ç®¡é›†ç¾¤å’Œæœ¬åœ°é›†ç¾¤åœ¨å†…çš„æ‰€æœ‰é›†ç¾¤åˆ—è¡¨ï¼Œå¯¹äºä¸åŒé›†ç¾¤ï¼Œæ”¯æŒçš„ç®¡ç†æ“ä½œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š&lt;/p>
&lt;p>æ³¨æ„ï¼šæ‰˜ç®¡çš„ kubeadm é›†ç¾¤å®‰è£…æ’ä»¶æˆ–å¤–æ¥å­˜å‚¨çš„é•œåƒæ¥æºä¼šé»˜è®¤ä½¿ç”¨ docker.ioï¼Œå¦‚æœæ‚¨å¤„äºç¦»çº¿ç¯å¢ƒï¼Œéœ€è¦åœ¨å®‰è£…æ’ä»¶æ—¶å¡«å†™å¯è®¿é—®çš„ç¦»çº¿é•œåƒä»“åº“åœ°å€ï¼Œè¯¥ç¦»çº¿é•œåƒä»“åº“çš„åœ°å€éœ€è¦é¢„å…ˆæ·»åŠ åˆ° cri çš„ç§æœ‰é•œåƒä»“åº“é…ç½®ï¼Œå‚è§ &lt;a href="https://www.kubeclipper.io/docs/tutorials/cluster-management/#cri-%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE">CRI é•œåƒä»“åº“é…ç½®&lt;/a> ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>åŠŸèƒ½&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Kubeclipper åˆ›å»ºçš„é›†ç¾¤&lt;/strong>&lt;/th>
&lt;th>&lt;strong>æ‰˜ç®¡çš„ kubeadm é›†ç¾¤&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>æŸ¥çœ‹æ—¥å¿—&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ä»»åŠ¡å¤±è´¥åé‡è¯•&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>è®¿é—® kubectl&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç¼–è¾‘&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ä¿å­˜ä¸ºæ¨¡ç‰ˆ&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ˜&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CRI é•œåƒä»“åº“é…ç½®&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ·»åŠ /ç§»é™¤é›†ç¾¤èŠ‚ç‚¹&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å¤‡ä»½å’Œæ¢å¤ç®¡ç†&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç‰ˆæœ¬å‡çº§&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ˜&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>åˆ é™¤é›†ç¾¤&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ˜&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç§»é™¤é›†ç¾¤ï¼ˆæä¾›å•†ï¼‰&lt;/td>
&lt;td>/&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>é‡ç½®çŠ¶æ€&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>é›†ç¾¤æ’ä»¶ç®¡ç†&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ›´æ–°é›†ç¾¤è¯ä¹¦&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æŸ¥çœ‹ kubeconfig&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;td>âœ”ï¸&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Docs: ä½¿ç”¨ Kubeclipper ç¦»çº¿åˆ›å»º kubernetes é›†ç¾¤</title><link>https://www.kubeclipper.io/docs/getting-started/carete-k8s-cluster-offline/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/getting-started/carete-k8s-cluster-offline/</guid><description>
&lt;h2 id="1-è¿›å…¥åˆ›å»ºç•Œé¢">1. è¿›å…¥åˆ›å»ºç•Œé¢&lt;/h2>
&lt;p>ç™»å½• Kubeclipper å¹³å°åç‚¹å‡»å¦‚å›¾æ‰€ç¤ºæŒ‰é’®ï¼Œè¿›å…¥é›†ç¾¤åˆ›å»ºç•Œé¢&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-begin.png" alt="">&lt;/p>
&lt;h2 id="2-é…ç½®é›†ç¾¤èŠ‚ç‚¹">2. é…ç½®é›†ç¾¤èŠ‚ç‚¹&lt;/h2>
&lt;p>æŒ‰ç…§æ–‡å­—æç¤ºå®Œæˆè¾“å…¥é›†ç¾¤åç§°ã€é€‰æ‹©èŠ‚ç‚¹ç­‰æ­¥éª¤&lt;/p>
&lt;p>æ³¨æ„: master èŠ‚ç‚¹æ•°é‡ä¸èƒ½ä¸ºå¶æ•°&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-node-config.png" alt="">&lt;/p>
&lt;h2 id="3-é…ç½®é›†ç¾¤">3. é…ç½®é›†ç¾¤&lt;/h2>
&lt;p>æ­¤æ­¥éª¤ç”¨äºé…ç½®é›†ç¾¤ç½‘ç»œä»¥åŠæ•°æ®åº“ã€å®¹å™¨è¿è¡Œæ—¶ç­‰ç»„ä»¶&lt;/p>
&lt;p>é€‰æ‹©ç¦»çº¿å®‰è£…å¹¶å¡«å†™é¦–å…ˆæ­å»ºå¥½çš„é•œåƒä»“åº“åœ°å€&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-config.png" alt="">&lt;/p>
&lt;h2 id="4-é…ç½®å­˜å‚¨">4. é…ç½®å­˜å‚¨&lt;/h2>
&lt;p>é€‰æ‹© nfs å­˜å‚¨ï¼ŒæŒ‰ç…§æ–‡å­—æç¤ºå¡«å†™ç›¸åº”å†…å®¹&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-storage-config.png" alt="">&lt;/p>
&lt;h2 id="5-å®‰è£…å®Œæˆ">5. å®‰è£…å®Œæˆ&lt;/h2>
&lt;p>å®Œæˆæ‰€æœ‰é…ç½®ç¡®è®¤å®‰è£…&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-finish.png" alt="">&lt;/p>
&lt;p>å®‰è£…æˆåŠŸï¼Œé›†ç¾¤æ­£å¸¸è¿è¡Œ&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-quickstart/cluster-successful.png" alt="">&lt;/p></description></item><item><title>Docs: é›†ç¾¤ç®¡ç†</title><link>https://www.kubeclipper.io/docs/tutorials/cluster-management/</link><pubDate>Tue, 29 Nov 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/tutorials/cluster-management/</guid><description>
&lt;h2 id="é›†ç¾¤æ“ä½œæ—¥å¿—æŸ¥çœ‹">é›†ç¾¤æ“ä½œæ—¥å¿—æŸ¥çœ‹&lt;/h2>
&lt;p>åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢ï¼Œç‚¹å‡»â€œæ“ä½œæ—¥å¿—â€æ ‡ç­¾é¡µï¼Œå¯ä»¥æŸ¥çœ‹é›†ç¾¤æ“ä½œæ—¥å¿—åˆ—è¡¨ã€‚ç‚¹å‡»æ“ä½œæ—¥å¿—å³ä¾§â€œæŸ¥çœ‹æ—¥å¿—â€æŒ‰é’®ï¼Œå¯ä»¥åœ¨å¼¹çª—ä¸­æŸ¥çœ‹å…¨éƒ¨æ­¥éª¤å’ŒèŠ‚ç‚¹çš„è¯¦ç»†æ—¥å¿—ã€‚ç‚¹å‡»å·¦ä¾§æ­¥éª¤åç§°ï¼Œå¯æŸ¥çœ‹æ‰§è¡Œæ­¥éª¤è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºã€‚&lt;/p>
&lt;p>åœ¨é›†ç¾¤æ“ä½œæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç‚¹å‡»æŸ¥çœ‹æ—¥å¿—ï¼Œæ‚¨å¯ä»¥å®æ—¶æŸ¥çœ‹åˆ°æ—¥å¿—æ›´æ–°æ¥è·Ÿè¸ªæ“ä½œæ‰§è¡Œæƒ…å†µã€‚å¯¹äºæ‰§è¡Œå¤±è´¥çš„ä»»åŠ¡ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹æ—¥å¿—ï¼Œæ‰¾åˆ°çº¢è‰²åœ†ç‚¹æ ‡æ³¨çš„æ‰§è¡Œæ­¥éª¤å’ŒèŠ‚ç‚¹ï¼Œå¿«é€Ÿå®šä½é”™è¯¯ï¼Œæ’æŸ¥æ“ä½œå¤±è´¥åŸå› ã€‚&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/log.png" alt="">&lt;/p>
&lt;h3 id="ä»»åŠ¡å¤±è´¥åé‡è¯•">ä»»åŠ¡å¤±è´¥åé‡è¯•&lt;/h3>
&lt;p>å¯¹äºä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œä½†æ’æŸ¥é”™è¯¯åŸå› åä¸éœ€è¦ä¿®æ”¹ä»»åŠ¡å‚æ•°çš„æƒ…å†µï¼Œæ‚¨å¯ä»¥ç‚¹å‡»æ“ä½œæ—¥å¿—å³ä¾§çš„â€œä»æ–­ç‚¹å¤„é‡è¯•â€æŒ‰é’®ï¼Œä»æ–­ç‚¹å¤„é‡æ–°æ‰§è¡Œä»»åŠ¡ã€‚&lt;/p>
&lt;p>æ³¨æ„ï¼šé‡è¯•æ“ä½œå¹¶ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œæ‚¨éœ€è¦è‡ªè¡Œåˆ¤æ–­ä»»åŠ¡æ‰§è¡Œå¤±è´¥çš„åŸå› ï¼Œå¤„ç†åå¦‚æœä¸éœ€è¦æ›´æ”¹æ‰§è¡Œä»»åŠ¡æ—¶å¡«å†™çš„å‚æ•°ï¼Œå°±å¯ä»¥ç‚¹å‡»é‡è¯•æŒ‰é’®ï¼Œä»é”™è¯¯å¤„é‡æ–°å¼€å§‹æ‰§è¡Œã€‚&lt;/p>
&lt;p>é›†ç¾¤æ“ä½œï¼ˆå¦‚åˆ›å»ºã€æ¢å¤ã€å‡çº§ç­‰ï¼‰æ‰§è¡Œå¤±è´¥ï¼Œå¯èƒ½ä¼šå¯¼è‡´é›†ç¾¤çŠ¶æ€æ˜¾ç¤ºä¸ºâ€œxxå¤±è´¥â€å¹¶æ— æ³•æ­£å¸¸æ‰§è¡Œå…¶ä»–æ“ä½œï¼Œå¦‚æœä»æ–­ç‚¹å¤„é‡è¯•ä¹Ÿæ— æ³•æ‰§è¡ŒæˆåŠŸï¼Œæ‚¨å¯ä»¥å‚è€ƒè¿ç»´æ–‡æ¡£ï¼Œæ‰‹åŠ¨ä¿®å¤é›†ç¾¤é—®é¢˜ã€‚é—®é¢˜ä¿®å¤åï¼Œæ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤å³ä¾§â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤çŠ¶æ€â€&amp;gt;â€œé‡ç½®çŠ¶æ€â€æŒ‰é’®ï¼Œé‡ç½®é›†ç¾¤è‡³æ­£å¸¸çŠ¶æ€ã€‚&lt;/p>
&lt;h2 id="è®¿é—®é›†ç¾¤-kubectl">è®¿é—®é›†ç¾¤ kubectl&lt;/h2>
&lt;p>Kubectl æ˜¯ Kubernetes å‘½ä»¤è¡Œå·¥å…·ï¼Œæ‚¨å¯ä»¥ç”¨å®ƒåœ¨ Kubernetes é›†ç¾¤ä¸Šè¿è¡Œå‘½ä»¤ã€‚Kubectl å¯ç”¨äºéƒ¨ç½²åº”ç”¨ã€æŸ¥çœ‹å’Œç®¡ç†é›†ç¾¤èµ„æºã€æŸ¥çœ‹æ—¥å¿—ç­‰ã€‚&lt;/p>
&lt;p>æ‚¨å¯ä»¥è®¿é—®è¿è¡Œä¸­é›†ç¾¤çš„ kubectlï¼Œç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€œ&amp;gt;â€è®¿é—® kubectlâ€ï¼Œå°±å¯ä»¥åœ¨é›†ç¾¤ kuebectl å¼¹çª—ä¸­æ‰§è¡Œ kubectl å‘½ä»¤è¡Œæ“ä½œã€‚&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/kubectl.png" alt="">&lt;/p>
&lt;h2 id="é›†ç¾¤è®¾ç½®">é›†ç¾¤è®¾ç½®&lt;/h2>
&lt;h3 id="ç¼–è¾‘">ç¼–è¾‘&lt;/h3>
&lt;p>æ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤åˆ—è¡¨å³ä¾§â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤è®¾ç½®â€&amp;gt;â€œç¼–è¾‘â€æŒ‰é’®ï¼Œç¼–è¾‘é›†ç¾¤æè¿°ã€å¤‡ä»½ç©ºé—´ã€å¤–éƒ¨è®¿é—® IPã€é›†ç¾¤æ ‡ç­¾ä¿¡æ¯ã€‚&lt;/p>
&lt;h3 id="ä¿å­˜ä¸ºæ¨¡ç‰ˆ">ä¿å­˜ä¸ºæ¨¡ç‰ˆ&lt;/h3>
&lt;p>æ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤åˆ—è¡¨å³ä¾§â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤è®¾ç½®â€&amp;gt;â€œä¿å­˜ä¸ºæ¨¡ç‰ˆâ€æŒ‰é’®ï¼Œå°†é›†ç¾¤ä¿¡æ¯ä¿å­˜ä¸ºæ¨¡ç‰ˆï¼Œä»¥ä¾¿å†æ¬¡åˆ›å»ºç›¸ä¼¼é…ç½®çš„é›†ç¾¤æ—¶ä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="cri-é•œåƒä»“åº“é…ç½®">CRI é•œåƒä»“åº“é…ç½®&lt;/h3>
&lt;p>Docker å’Œ Containerd ä½¿ç”¨ dockerhub ä½œä¸ºé»˜è®¤é•œåƒä»“åº“ï¼Œå¦‚æœæ‚¨éœ€è¦ä½¿ç”¨å…¶ä»–é•œåƒä»“åº“ï¼ˆç‰¹åˆ«æ˜¯ä½¿ç”¨è‡ªç­¾å https ä»“åº“æˆ–è€… http ä»“åº“ï¼‰ï¼Œæ‚¨éœ€è¦é…ç½® CRI é•œåƒä»“åº“ã€‚&lt;/p>
&lt;p>ç‚¹å‡»é›†ç¾¤å³ä¾§â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤è®¾ç½®â€&amp;gt;â€œCRI é•œåƒä»“åº“â€æŒ‰é’®ï¼Œåœ¨ CRI é•œåƒä»“åº“å¼¹çª—ä¸­ï¼Œé…ç½®æ‚¨éœ€è¦çš„é•œåƒä»“åº“ï¼Œæ‚¨å¯ä»¥é€‰æ‹©å¹³å°ä¸­å·²å­˜åœ¨çš„é•œåƒä»“åº“ï¼Œä¹Ÿå¯ä»¥ä¸´æ—¶å¡«å†™é•œåƒä»“åº“åœ°å€ã€‚å¯¹äºè‡ªç­¾å https ä»“åº“æˆ–è€… http ä»“åº“ï¼Œå»ºè®®æ‚¨å…ˆåœ¨â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œé•œåƒä»“åº“â€é¡µé¢æ·»åŠ ä»“åº“ä¿¡æ¯ï¼Œå†åœ¨æ­¤æ“ä½œä¸­é…ç½®ã€‚&lt;/p>
&lt;h2 id="é›†ç¾¤èŠ‚ç‚¹ç®¡ç†">é›†ç¾¤èŠ‚ç‚¹ç®¡ç†&lt;/h2>
&lt;p>åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„â€œèŠ‚ç‚¹â€åˆ—è¡¨é¡µé¢ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å½“å‰é›†ç¾¤ä¸­çš„èŠ‚ç‚¹åˆ—è¡¨ï¼ŒèŠ‚ç‚¹çš„è§„æ ¼ã€çŠ¶æ€å’Œè§’è‰²ä¿¡æ¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/cluster.png" alt="">&lt;/p>
&lt;h3 id="æ·»åŠ é›†ç¾¤èŠ‚ç‚¹">æ·»åŠ é›†ç¾¤èŠ‚ç‚¹&lt;/h3>
&lt;p>å½“é›†ç¾¤è´Ÿè½½è¾ƒé«˜æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸ºé›†ç¾¤æ·»åŠ èŠ‚ç‚¹æ¥è¾¾åˆ°ä¸»åŠ¨æ‰©å®¹çš„ç›®çš„ï¼Œæ·»åŠ æ–°çš„â€œèŠ‚ç‚¹â€ä¸ä¼šå½±å“ç°æœ‰çš„ä¸šåŠ¡çš„è¿è¡Œã€‚&lt;/p>
&lt;p>åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„èŠ‚ç‚¹åˆ—è¡¨æ ‡ç­¾é¡µä¸‹ï¼Œç‚¹å‡»å·¦ä¾§çš„â€œæ·»åŠ èŠ‚ç‚¹â€æŒ‰é’®ï¼Œåœ¨å¼¹çª—ä¸­é€‰æ‹©å¯ç”¨èŠ‚ç‚¹ï¼Œè®¾ç½®èŠ‚ç‚¹æ ‡ç­¾ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒæ·»åŠ å·¥ä½œèŠ‚ç‚¹ã€‚&lt;/p>
&lt;h3 id="ç§»é™¤é›†ç¾¤èŠ‚ç‚¹">ç§»é™¤é›†ç¾¤èŠ‚ç‚¹&lt;/h3>
&lt;p>åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„èŠ‚ç‚¹åˆ—è¡¨æ ‡ç­¾é¡µä¸‹ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»èŠ‚ç‚¹å³ä¾§çš„ â€œç§»é™¤â€æŒ‰é’®ç§»é™¤èŠ‚ç‚¹ã€‚å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒç§»é™¤å·¥ä½œèŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>æ³¨æ„ï¼šç§»é™¤é›†ç¾¤èŠ‚ç‚¹ï¼Œæ‚¨éœ€è¦æ³¨æ„ç”Ÿäº§ä¸­çš„å®‰å…¨é—®é¢˜ï¼Œé¿å…åº”ç”¨å‘ç”Ÿä¸­æ–­ã€‚&lt;/p>
&lt;h2 id="é›†ç¾¤å¤‡ä»½å’Œæ¢å¤">é›†ç¾¤å¤‡ä»½å’Œæ¢å¤&lt;/h2>
&lt;p>KubeClipper å¯¹ kubernetes é›†ç¾¤çš„å¤‡ä»½ä¸»è¦ä¸ºå¤‡ä»½ ETCD æ•°æ®åº“æ•°æ®ï¼Œä»¥åŠ kubernetes çš„èµ„æºå¯¹è±¡å¤‡ä»½ï¼Œå¦‚ namespaceï¼Œdeploymentã€configMapã€‚å¯¹èµ„æºè‡ªèº«äº§ç”Ÿçš„æ–‡ä»¶å’Œæ•°æ®ä¸åšå¤‡ä»½ï¼Œä¾‹å¦‚å¯¹é›†ç¾¤ä¸­è¿è¡Œçš„ mysql podï¼Œè¯¥ mysql pod äº§ç”Ÿçš„æ•°æ®å’Œæ–‡ä»¶ï¼Œä¸ä¼šä¸ºä¹‹å¤‡ä»½ï¼ŒåŒç†ï¼Œæ–‡ä»¶ç±»çš„ pv å¯¹è±¡ä¸‹çš„æ–‡ä»¶ï¼Œä¹Ÿä¸åšå¤‡ä»½ï¼Œä»…ä»…å¤‡ä»½ pv è¿™ä¸ªå¯¹è±¡ã€‚KubeClipper æä¾›çš„å¤‡ä»½åŠŸèƒ½æ˜¯çƒ­å¤‡ä»½ï¼Œå¤‡ä»½æœŸé—´ä¸å½±å“é›†ç¾¤çš„ä½¿ç”¨ã€‚KubeClipper è™½ç„¶ä¸åå¯¹åœ¨é›†ç¾¤ &amp;ldquo;ç¹å¿™æœŸ&amp;rdquo; å¤‡ä»½ï¼Œä½†ä¹Ÿå¼ºçƒˆä¸èµæˆåœ¨é›†ç¾¤ &amp;ldquo;ç¹å¿™æœŸ&amp;rdquo; å¤‡ä»½ã€‚&lt;/p>
&lt;h3 id="åˆ›å»ºå¤‡ä»½ç©ºé—´">åˆ›å»ºå¤‡ä»½ç©ºé—´&lt;/h3>
&lt;p>æ‰§è¡Œå¤‡ä»½ä¹‹å‰ï¼Œæ‚¨éœ€è¦å…ˆä¸ºé›†ç¾¤è®¾ç½®å¤‡ä»½ç©ºé—´ï¼Œå³è®¾ç½®å¤‡ä»½æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ã€‚å¤‡ä»½ç©ºé—´çš„å­˜å‚¨ç±»å‹å¯ä»¥æ˜¯ FS å­˜å‚¨æˆ– S3 å­˜å‚¨ï¼Œä¸‹é¢ä»¥èŠ‚ç‚¹æœ¬åœ°å­˜å‚¨ã€NFS å­˜å‚¨å’Œ MINIO å­˜å‚¨ä¸ºä¾‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>èŠ‚ç‚¹æœ¬åœ°å­˜å‚¨ï¼ˆä»…é€‚ç”¨å•èŠ‚ç‚¹å®éªŒé›†ç¾¤ï¼‰ï¼š&lt;/strong>&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>åˆ›å»ºå­˜å‚¨ç›®å½•ã€‚è¿æ¥é›†ç¾¤ master èŠ‚ç‚¹ç»ˆç«¯ï¼ˆå¯å‚è§&lt;a href="https://www.kubeclipper.io/docs/tutorials/node-management/#%E8%BF%9E%E6%8E%A5%E7%BB%88%E7%AB%AF">è¿æ¥èŠ‚ç‚¹ç»ˆç«¯&lt;/a>ï¼‰ï¼Œä½¿ç”¨ mkdir å‘½ä»¤ï¼Œåœ¨ master èŠ‚ç‚¹ä¸­åˆ›å»ºâ€œ/root/backupâ€ç›®å½•ã€‚&lt;/li>
&lt;li>åˆ›å»ºå¤‡ä»½ç©ºé—´ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œå¤‡ä»½ç©ºé—´â€ï¼Œè¿›å…¥å¤‡ä»½ç©ºé—´åˆ—è¡¨é¡µï¼Œç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨åˆ›å»ºå¤‡ä»½ç©ºé—´å¼¹çª—ä¸­ï¼Œè¾“å…¥â€œå¤‡ä»½ç©ºé—´åç§°â€ï¼Œå¦‚ â€œlocalâ€ï¼Œé€‰æ‹©â€œå­˜å‚¨ç±»å‹â€ä¸º â€œFSâ€ï¼Œå¡«å†™â€œå¤‡ä»½è·¯å¾„â€ï¼Œå¦‚ â€œ/root/backupâ€ã€‚&lt;/li>
&lt;li>è®¾ç½®é›†ç¾¤å¤‡ä»½ç©ºé—´ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢é€‰æ‹©â€œå¤‡ä»½ç©ºé—´â€ä¸º â€œlocalâ€ï¼Œæˆ–è€…ç¼–è¾‘å·²æœ‰é›†ç¾¤ï¼Œåœ¨ç¼–è¾‘é›†ç¾¤å¼¹çª—ä¸­çš„â€œå¤‡ä»½ç©ºé—´â€ä¸­é€‰æ‹© â€œlocalâ€ã€‚&lt;/li>
&lt;/ol>
&lt;p>æ³¨æ„ï¼šä½¿ç”¨æœ¬åœ°èŠ‚ç‚¹å­˜å‚¨å¤‡ä»½æ–‡ä»¶ï¼Œä¸éœ€è¦å¼•å…¥å¤–éƒ¨å­˜å‚¨ï¼Œç¼ºç‚¹æ˜¯å¦‚æœæœ¬åœ°èŠ‚ç‚¹é­åˆ°ç ´åï¼Œå¤‡ä»½æ–‡ä»¶ä¹Ÿä¼šä¸¢å¤±ï¼Œæ‰€ä»¥å¼ºçƒˆä¸èµæˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>NFSï¼š&lt;/strong>&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>
&lt;p>å‡†å¤‡ NFS å­˜å‚¨ã€‚å‡†å¤‡ä¸€å° NFS æœåŠ¡ï¼Œå¹¶åœ¨ NFS æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªç”¨äºå­˜æ”¾å¤‡ä»½æ–‡ä»¶çš„ç›®å½•ï¼Œå¦‚ â€œ/data/kubeclipper/cluster-backupsâ€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æŒ‚è½½å­˜å‚¨ç›®å½•ã€‚è¿æ¥é›†ç¾¤ master èŠ‚ç‚¹ç»ˆç«¯ï¼ˆå¯å‚è§&lt;a href="https://www.kubeclipper.io/docs/tutorials/node-management/#%E8%BF%9E%E6%8E%A5%E7%BB%88%E7%AB%AF">è¿æ¥èŠ‚ç‚¹ç»ˆç«¯&lt;/a>ï¼‰ï¼Œä½¿ç”¨ mkdir å‘½ä»¤ï¼Œåœ¨æ¯ä¸ª master èŠ‚ç‚¹ä¸­åˆ›å»º â€œ/data/kubeclipper/cluster-backupsâ€ ç›®å½•ï¼Œå¹¶ mount åˆ° NFS æœåŠ¡å™¨çš„ /data/kubeclipper/cluster-backups ç›®å½•å³å¯ã€‚&lt;/p>
&lt;p>å‘½ä»¤ç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>mount -t nfs &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span> NFS_IP &lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span>:/data/kubeclipper/cluster-backups /opt/kubeclipper/cluster-backups -o &lt;span style="color:#000">proto&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>tcp -o nolock
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>åˆ›å»ºå¤‡ä»½ç©ºé—´ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œå¤‡ä»½ç©ºé—´â€ï¼Œè¿›å…¥å¤‡ä»½ç©ºé—´åˆ—è¡¨é¡µï¼Œç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨åˆ›å»ºå¤‡ä»½ç©ºé—´å¼¹çª—ä¸­ï¼Œè¾“å…¥â€œå¤‡ä»½ç©ºé—´åç§°â€ï¼Œå¦‚ â€œnfsâ€ï¼Œé€‰æ‹©â€œå­˜å‚¨ç±»å‹â€ä¸º â€œFSâ€ï¼Œå¡«å†™â€œå¤‡ä»½è·¯å¾„â€ä¸º â€œ/opt/kubeclipper/cluster-backupsâ€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è®¾ç½®é›†ç¾¤å¤‡ä»½ç©ºé—´ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢é€‰æ‹©â€œå¤‡ä»½ç©ºé—´â€ä¸º â€œnfsâ€ï¼Œæˆ–è€…ç¼–è¾‘å·²æœ‰é›†ç¾¤ï¼Œåœ¨ç¼–è¾‘é›†ç¾¤å¼¹çª—ä¸­çš„â€œå¤‡ä»½ç©ºé—´â€ä¸­é€‰æ‹© â€œnfsâ€ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>&lt;strong>MINIOï¼š&lt;/strong>&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>å‡†å¤‡ MINIO å­˜å‚¨ã€‚æ­å»º MINIO æœåŠ¡ï¼Œéƒ¨ç½²è¿‡ç¨‹å‚è€ƒå®˜ç½‘ &lt;a href="https://docs.min.io/docs/minio-quickstart-guide.html">https://docs.min.io/docs/minio-quickstart-guide.html&lt;/a>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å·²æœ‰ MINIO æœåŠ¡ã€‚&lt;/li>
&lt;li>åˆ›å»ºå¤‡ä»½ç©ºé—´ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€&amp;gt;â€œå¤‡ä»½ç©ºé—´â€ï¼Œè¿›å…¥å¤‡ä»½ç©ºé—´åˆ—è¡¨é¡µï¼Œç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨åˆ›å»ºå¤‡ä»½ç©ºé—´å¼¹çª—ä¸­ï¼Œè¾“å…¥â€œå¤‡ä»½ç©ºé—´åç§°â€ï¼Œå¦‚ â€œminioâ€ï¼Œé€‰æ‹©â€œå­˜å‚¨ç±»å‹â€ä¸º â€œS3â€ï¼Œå¡«å†™ â€œbucket åç§°â€ï¼Œå¦‚ â€œkubeclipper-backupsâ€ï¼Œè¯¥ bucket å°†ç”± kubeclipper è‡ªåŠ¨åˆ›å»ºï¼Œâ€œEndpointâ€ ä¸­å¡«å†™ç¬¬ä¸€æ­¥ MINIO å­˜å‚¨æœåŠ¡çš„ ip å’Œç«¯å£å·ï¼Œå¡«å†™æœåŠ¡ç”¨æˆ·åå’Œå¯†ç ï¼Œç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚&lt;/li>
&lt;li>è®¾ç½®é›†ç¾¤å¤‡ä»½ç©ºé—´ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢é€‰æ‹©â€œå¤‡ä»½ç©ºé—´â€ä¸º â€œminioâ€ï¼Œæˆ–è€…ç¼–è¾‘å·²æœ‰é›†ç¾¤ï¼Œåœ¨ç¼–è¾‘é›†ç¾¤å¼¹çª—ä¸­çš„â€œå¤‡ä»½ç©ºé—´â€ä¸­é€‰æ‹©â€œminioâ€ã€‚&lt;/li>
&lt;/ol>
&lt;p>æ‚¨å¯ä»¥åœ¨â€œé›†ç¾¤ç®¡ç†â€çš„â€œå¤‡ä»½ç©ºé—´â€é¡µé¢æŸ¥çœ‹æ‰€æœ‰å¤‡ä»½ç©ºé—´åˆ—è¡¨å’Œè¯¦ç»†ä¿¡æ¯ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘å¤‡ä»½ç©ºé—´æè¿°ï¼Œå’Œ S3 ç±»å‹å¤‡ä»½ç©ºé—´çš„ç”¨æˆ·å/å¯†ç ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤å¤‡ä»½ç©ºé—´ï¼Œå¤‡ä»½ç©ºé—´ä¸‹å­˜åœ¨å¤‡ä»½æ–‡ä»¶çš„ï¼Œä¸å…è®¸åˆ é™¤ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="é›†ç¾¤å¤‡ä»½">é›†ç¾¤å¤‡ä»½&lt;/h3>
&lt;p>æ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œå¤‡ä»½å’Œæ¢å¤â€&amp;gt; â€œé›†ç¾¤å¤‡ä»½â€æŒ‰é’®ï¼Œå¤‡ä»½é›†ç¾¤ ETCD æ•°æ®ã€‚&lt;/p>
&lt;p>æ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢çš„å¤‡ä»½æ ‡ç­¾é¡µä¸‹ï¼ŒæŸ¥çœ‹å½“å‰é›†ç¾¤çš„æ‰€æœ‰å¤‡ä»½æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å¯¹å¤‡ä»½æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘å¤‡ä»½æè¿°ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ¢å¤ï¼šæ‰§è¡Œé›†ç¾¤æ¢å¤æ“ä½œï¼Œå°†é›†ç¾¤æ¢å¤è‡³æŒ‡å®šå¤‡ä»½çŠ¶æ€ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤æŒ‡å®šå¤‡ä»½æ–‡ä»¶ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="å®šæ—¶å¤‡ä»½">å®šæ—¶å¤‡ä»½&lt;/h3>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥ä¸ºé›†ç¾¤åˆ›å»ºå®šæ—¶å¤‡ä»½ï¼Œç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œå¤‡ä»½å’Œæ¢å¤â€&amp;gt; â€œå®šæ—¶å¤‡ä»½â€æŒ‰é’®ï¼Œåœ¨å®šæ—¶å¤‡ä»½å¼¹çª—ä¸­ï¼Œè¾“å…¥å®šæ—¶å¤‡ä»½åç§°ã€æ‰§è¡Œç±»å‹ï¼ˆé‡å¤æ‰§è¡Œ/ä»…æ‰§è¡Œä¸€æ¬¡ï¼‰å’Œæ‰§è¡Œæ—¶é—´ï¼Œå¹¶ä¸ºé‡å¤æ‰§è¡Œçš„å®šæ—¶å¤‡ä»½è®¾ç½®æœ‰æ•ˆå¤‡ä»½ä¸ªæ•°ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚&lt;/p>
&lt;p>kubeClipper ä¼šåœ¨æ‚¨è®¾ç½®çš„æ‰§è¡Œæ—¶é—´ä¸ºé›†ç¾¤æ‰§è¡Œå¤‡ä»½ä»»åŠ¡ï¼Œå¤‡ä»½æ–‡ä»¶ä¼šè‡ªåŠ¨å‘½åä¸ºâ€œé›†ç¾¤åç§°-å®šæ—¶å¤‡ä»½åç§°-éšæœºç â€ï¼Œå¯¹äºé‡å¤æ‰§è¡Œçš„å®šæ—¶å¤‡ä»½ï¼ŒkubeClipper ä¼šåœ¨è¯¥å®šæ—¶ä»»åŠ¡ä¸‹çš„å¤‡ä»½æ–‡ä»¶è¶…è¿‡æœ‰æ•ˆå¤‡ä»½ä¸ªæ•°æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤è¶…å‡ºä¸ªæ•°çš„è¾ƒæ—©çš„å¤‡ä»½æ–‡ä»¶ã€‚&lt;/p>
&lt;p>å®šæ—¶å¤‡ä»½æ·»åŠ å®Œæˆåï¼Œå¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„â€œå®šæ—¶å¤‡ä»½â€æ ‡ç­¾é¡µæŸ¥çœ‹å®šæ—¶å¤‡ä»½ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥åœ¨â€œå¤‡ä»½â€æ ‡ç­¾é¡µæŸ¥çœ‹å®šæ—¶å¤‡ä»½äº§ç”Ÿçš„å¤‡ä»½æ–‡ä»¶ã€‚&lt;/p>
&lt;p>å¯¹äºå®šæ—¶å¤‡ä»½ä»»åŠ¡ï¼Œæ‚¨è¿˜å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘å®šæ—¶å¤‡ä»½ä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼Œå’Œé‡å¤æ‰§è¡Œçš„å®šæ—¶å¤‡ä»½çš„æœ‰æ•ˆå¤‡ä»½ä¸ªæ•°ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¯ç”¨/ç¦ç”¨ï¼šç¦ç”¨çš„å®šæ—¶å¤‡ä»½ä»»åŠ¡å°†æš‚æ—¶åœæ­¢æ‰§è¡Œã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤å®šæ—¶å¤‡ä»½ä»»åŠ¡ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="é›†ç¾¤å¤‡ä»½æ¢å¤">é›†ç¾¤å¤‡ä»½æ¢å¤&lt;/h3>
&lt;p>å¦‚æœæ‚¨åœ¨é›†ç¾¤æ­£å¸¸è¿è¡ŒæœŸé—´æ‰§è¡Œæ¢å¤æ“ä½œï¼Œåˆ™ KubeClipper å°†å¯¹è¯¥é›†ç¾¤è¿›è¡Œè¦†ç›–å¼æ¢å¤ï¼Œå°±æ˜¯å¤‡ä»½æ–‡ä»¶é‡Œé¢çš„ etcd æ•°æ®ï¼Œè¦†ç›–ç°æœ‰çš„æ•°æ®ã€‚&lt;/p>
&lt;p>æ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„å¤‡ä»½æ ‡ç­¾é¡µä¸‹ï¼Œç‚¹å‡»å¤‡ä»½å³ä¾§çš„ â€œæ¢å¤â€æŒ‰é’®ï¼›æˆ–ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œå¤‡ä»½å’Œæ¢å¤â€&amp;gt;â€œæ¢å¤é›†ç¾¤â€æŒ‰é’®ï¼Œåœ¨æ¢å¤é›†ç¾¤å¼¹çª—ä¸­é€‰æ‹©éœ€è¦æ¢å¤çš„å¤‡ä»½ï¼Œå¯ä»¥å°†å½“å‰é›†ç¾¤æ¢å¤è‡³æŒ‡å®šå¤‡ä»½çŠ¶æ€ã€‚&lt;/p>
&lt;p>æ³¨æ„ï¼šé›†ç¾¤å‡çº§åï¼Œå°†æ— æ³•å†æ¢å¤åˆ°å‡çº§å‰ç‰ˆæœ¬çš„å¤‡ä»½ã€‚&lt;/p>
&lt;h2 id="é›†ç¾¤çŠ¶æ€">é›†ç¾¤çŠ¶æ€&lt;/h2>
&lt;h3 id="é›†ç¾¤ç‰ˆæœ¬å‡çº§">é›†ç¾¤ç‰ˆæœ¬å‡çº§&lt;/h3>
&lt;p>å¦‚å½“é›†ç¾¤ç‰ˆæœ¬ä¸æ»¡è¶³éœ€è¦ï¼Œæ‚¨å¯ä»¥ä¸ºé›†ç¾¤å‡çº§ kubernetes ç‰ˆæœ¬ã€‚ä¸åˆ›å»ºé›†ç¾¤ä¸€æ ·ï¼Œæ‚¨éœ€è¦å‡†å¤‡å¥½é›†ç¾¤ç‰ˆæœ¬æ‰€éœ€é…ç½®åŒ…å’Œç›®æ ‡ç‰ˆæœ¬çš„ kubernetes é•œåƒå¹¶ä¸Šä¼ è‡³æŒ‡å®šä½ç½®ï¼Œè¯¦æƒ…å‚è§&lt;a href="https://www.kubeclipper.io/docs/tutorials/create-clusters/#%E5%88%9B%E5%BB%BA%E9%9B%86%E7%BE%A4%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">åˆ›å»ºé›†ç¾¤å‡†å¤‡å·¥ä½œ&lt;/a>ã€‚&lt;/p>
&lt;p>ç‚¹å‡»é›†ç¾¤æ“ä½œçš„â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤çŠ¶æ€â€&amp;gt; â€œé›†ç¾¤å‡çº§â€æŒ‰é’®ï¼Œåœ¨é›†ç¾¤å‡çº§å¼¹çª—ä¸­é€‰æ‹©å®‰è£…æ–¹å¼å’Œé•œåƒä»“åº“ï¼Œé€‰æ‹©å‡çº§çš„ç›®æ ‡ç‰ˆæœ¬ï¼Œå‡çº§çš„å®‰è£…æ–¹å¼å’Œ kubernetes ç‰ˆæœ¬çš„é…ç½®ä¸åˆ›å»ºé›†ç¾¤ç›¸åŒï¼Œè¯¦æƒ…å‚è§&lt;a href="https://www.kubeclipper.io/docs/tutorials/create-clusters/#%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE">é›†ç¾¤é…ç½®æŒ‡å—&lt;/a>ã€‚&lt;/p>
&lt;p>é›†ç¾¤å‡çº§å¯ä»¥è·¨å°ç‰ˆæœ¬ï¼Œä½†ä¸æ”¯æŒç•¥è¿‡æ¬¡ç‰ˆæœ¬çš„å‡çº§ï¼Œå¦‚æ‚¨å¯ä»¥ä» v1.20.2 å‡çº§åˆ° v1.20.13ï¼Œæˆ–ç”± v1.20.x å‡çº§åˆ° v1.21.xï¼Œä½†ä¸æ”¯æŒä» v1.20.x å‡çº§åˆ° v1.22.xã€‚å¯¹äº 1.23.x ç‰ˆæœ¬ï¼Œæš‚ä¸æ”¯æŒå‡çº§åˆ° 1.24.x ç‰ˆæœ¬ã€‚&lt;/p>
&lt;p>å‡çº§é›†ç¾¤æ“ä½œå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢æŸ¥çœ‹æ“ä½œæ—¥å¿—ï¼Œè·Ÿè¸ªé›†ç¾¤å‡çº§çŠ¶æ€ã€‚&lt;/p>
&lt;h3 id="åˆ é™¤é›†ç¾¤">åˆ é™¤é›†ç¾¤&lt;/h3>
&lt;p>æ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤åˆ—è¡¨å³ä¾§â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤çŠ¶æ€â€&amp;gt; â€œåˆ é™¤â€æŒ‰é’®ï¼Œåˆ é™¤é›†ç¾¤ã€‚&lt;/p>
&lt;p>æ³¨æ„åˆ é™¤åé›†ç¾¤ä¸å¯æ¢å¤ã€‚è¯·è°¨æ…æ“ä½œã€‚å¦‚æœé›†ç¾¤å¯¹æ¥äº†å¤–éƒ¨å­˜å‚¨ï¼Œå›æ”¶ç­–ç•¥ä¸ºâ€œä¿ç•™â€çš„å­˜å‚¨ç±»ä¸­çš„æ•°æ®å·ä¼šè¢«ä¿ç•™ï¼Œæ‚¨å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼è®¿é—®ï¼Œæˆ–æ‰‹åŠ¨åˆ é™¤ï¼›å›æ”¶ç­–ç•¥ä¸ºâ€œåˆ é™¤â€çš„å­˜å‚¨ç±»ä¸­çš„æ•°æ®å·ï¼Œä¼šåœ¨åˆ é™¤é›†ç¾¤æ—¶è‡ªåŠ¨åˆ é™¤ã€‚&lt;/p>
&lt;h3 id="é‡ç½®çŠ¶æ€">é‡ç½®çŠ¶æ€&lt;/h3>
&lt;p>é›†ç¾¤æ“ä½œï¼ˆå¦‚åˆ›å»ºã€æ¢å¤ã€å‡çº§ç­‰ï¼‰æ‰§è¡Œå¤±è´¥ï¼Œå¯èƒ½ä¼šå¯¼è‡´é›†ç¾¤çŠ¶æ€æ˜¾ç¤ºä¸ºâ€œxxå¤±è´¥â€å¹¶æ— æ³•æ­£å¸¸æ‰§è¡Œå…¶ä»–æ“ä½œï¼Œå¦‚æœä»æ–­ç‚¹å¤„é‡è¯•ä¹Ÿæ— æ³•æ‰§è¡ŒæˆåŠŸï¼Œæ‚¨å¯ä»¥å‚è€ƒè¿ç»´æ–‡æ¡£ï¼Œæ‰‹åŠ¨ä¿®å¤é›†ç¾¤é—®é¢˜ã€‚é—®é¢˜ä¿®å¤åï¼Œæ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤å³ä¾§â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤çŠ¶æ€â€&amp;gt;â€œé‡ç½®çŠ¶æ€â€æŒ‰é’®ï¼Œé‡ç½®é›†ç¾¤è‡³æ­£å¸¸çŠ¶æ€ã€‚&lt;/p>
&lt;h2 id="é›†ç¾¤æ’ä»¶ç®¡ç†">é›†ç¾¤æ’ä»¶ç®¡ç†&lt;/h2>
&lt;p>é™¤äº†åœ¨åˆ›å»ºé›†ç¾¤æ—¶å®‰è£…æ’ä»¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¸ºè¿è¡Œä¸­çš„é›†ç¾¤å®‰è£…å­˜å‚¨å’Œå…¶ä»–è‡ªå®šä¹‰æ’ä»¶ã€‚ä»¥å®‰è£…å­˜å‚¨æ’ä»¶ä¸ºä¾‹ï¼Œç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œæ’ä»¶ç®¡ç†â€&amp;gt;â€œæ·»åŠ å­˜å‚¨é¡¹â€æŒ‰é’®ï¼Œè¿›å…¥æ·»åŠ å­˜å‚¨é¡¹é¡µé¢ï¼Œå¯ä»¥ä¸ºé›†ç¾¤å®‰è£…å­˜å‚¨æ’ä»¶ï¼Œå®‰è£…é…ç½®ä¸åˆ›å»ºé›†ç¾¤ä¸­çš„é…ç½®ç›¸åŒã€‚&lt;/p>
&lt;p>å¯¹äºå·²å®‰è£…çš„æ’ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µæŸ¥çœ‹æ’ä»¶ä¿¡æ¯ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ä¿å­˜ä¸ºæ¨¡ç‰ˆï¼šå°†æ’ä»¶ä¿¡æ¯ä¿å­˜ä¸ºæ¨¡ç‰ˆï¼Œä»¥ä¾¿ä¸ºå…¶ä»–é›†ç¾¤ä½¿ç”¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç§»é™¤æ’ä»¶ï¼šå¸è½½é›†ç¾¤æ’ä»¶ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="é›†ç¾¤è¯ä¹¦ç®¡ç†">é›†ç¾¤è¯ä¹¦ç®¡ç†&lt;/h2>
&lt;h3 id="æ›´æ–°é›†ç¾¤è¯ä¹¦">æ›´æ–°é›†ç¾¤è¯ä¹¦&lt;/h3>
&lt;p>kubernetes é›†ç¾¤è¯ä¹¦é»˜è®¤æœ‰æ•ˆæœŸä¸ºä¸€å¹´ï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„åŸºæœ¬ä¿¡æ¯ä¸­æŸ¥çœ‹è¯ä¹¦è¿‡æœŸæ—¶é—´ï¼Œè¯ä¹¦è¿‡æœŸå‰ä¸€å¤©ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨é›†ç¾¤åˆ—è¡¨çœ‹åˆ°è¯ä¹¦è¿‡æœŸçš„æé†’ã€‚æ›´æ–°é›†ç¾¤è¯ä¹¦ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤è¯ä¹¦â€&amp;gt;â€œæ›´æ–°é›†ç¾¤è¯ä¹¦â€æŒ‰é’®ï¼Œæ›´æ–°é›†ç¾¤å…¨éƒ¨è¯ä¹¦ã€‚&lt;/p>
&lt;h3 id="è·å–-kubeconfig-æ–‡ä»¶">è·å– kubeconfig æ–‡ä»¶&lt;/h3>
&lt;p>æ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€&amp;gt;â€œé›†ç¾¤è¯ä¹¦â€&amp;gt;â€œæŸ¥çœ‹ kubeconfig æ–‡ä»¶â€æŒ‰é’®ï¼ŒæŸ¥çœ‹é›†ç¾¤ kubeconfig æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»å¼¹çª—ä¸­çš„â€œä¸‹è½½â€æŒ‰é’®ï¼Œä¸‹è½½ kubeconfig æ–‡ä»¶ã€‚&lt;/p></description></item><item><title>Docs: é€šè¿‡ kcctl å‘½ä»¤åˆ›å»ºé›†ç¾¤é”™è¯¯</title><link>https://www.kubeclipper.io/docs/faq/kcctl-create-cluster-error/</link><pubDate>Thu, 03 Nov 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/faq/kcctl-create-cluster-error/</guid><description>
&lt;h2 id="é—®é¢˜å¤ç°">é—®é¢˜å¤ç°&lt;/h2>
&lt;p>å®‰è£… v1.2.1 ç‰ˆæœ¬çš„ kcctl&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -sfL https://oss.kubeclipper.io/get-kubeclipper.sh &lt;span style="color:#000;font-weight:bold">|&lt;/span> &lt;span style="color:#000">KC_VERSION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>v1.2.1 bash -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é€šè¿‡ kcctl deploy å‘½ä»¤éƒ¨ç½² KubeClipper é›†ç¾¤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å®‰è£… AIO ç¯å¢ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl deploy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é€šè¿‡ kcctl create cluster å‘½ä»¤åˆ›å»º kubernetes é›†ç¾¤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># éœ€è¦å…ˆç™»å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl login --host http://127.0.0.1 --username admin --password Thinkbig1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># åˆ›å»ºé›†ç¾¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl create cluster --name &lt;span style="color:#204a87">test&lt;/span> --master 192.168.10.98 --untaint-master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç™»å½• KubeClipper ç®¡ç†ç•Œé¢ï¼ŒæŸ¥çœ‹åˆ›å»ºé›†ç¾¤æ“ä½œæ—¥å¿—ï¼Œæ—¥å¿—æ˜¾ç¤ºåœ¨å®‰è£… cni è¿‡ç¨‹ä¸­å‘ç°ä¸‹è½½ calico v3.21.2 404 æ— æ³•æ‰¾åˆ°&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-faq/create-cluster-error.png" alt="">&lt;/p>
&lt;h2 id="é—®é¢˜ä¿®å¤-pr">é—®é¢˜ä¿®å¤ PR&lt;/h2>
&lt;p>æäº¤å·²ç»åˆå¹¶åˆ°äº† masterï¼ŒPRï¼šhttps://github.com/kubeclipper/kubeclipper/commit/7e6eb0ed199ff1cb00fde0c2624c62cdc5ca0b9c&lt;/p>
&lt;p>ä½† v1.2.1 å·²ç»å‘å¸ƒäº†ï¼ŒæŒ‰ç…§å‘ç‰ˆè§„èŒƒæ— æ³•åœ¨è¯¥ç‰ˆæœ¬æ‰“è¡¥ä¸ï¼Œéœ€è¦ç­‰åˆ°åç»­ v1.2.2 å‘å¸ƒè§£å†³ï¼Œå› æ­¤æˆ‘ä»¬æä¾›ä¸€ç§ä¸´æ—¶æ–¹æ¡ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;h2 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•&lt;/h2>
&lt;p>åˆ¶ä½œç¦»çº¿èµ„æºåŒ…
ä¸‹è½½ calico v3.21.2 çš„å®‰è£…åŒ…ï¼Œæ‰“åŒ…ä¸ºæŒ‡å®šæ ¼å¼çš„ç¦»çº¿èµ„æºåŒ…&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># åˆ›å»ºèµ„æºç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir -pv calico/v3.21.2/amd64
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># ä¸‹è½½ v3.21.2 ç‰ˆæœ¬çš„ calico&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>wget -P calico/v3.21.2/amd64 https://oss.kubeclipper.io/packages/calico/v3.21.2/amd64/images.tar.gz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>wget -P calico/v3.21.2/amd64 https://oss.kubeclipper.io/packages/calico/v3.21.2/amd64/manifest.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># å‹ç¼©æ–‡ä»¶ä¸ºæŒ‡å®šå‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tar -zcvf calico-v3.21.2-amd64.tar.gz calico
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¨é€ç¦»çº¿èµ„æºåŒ…&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># æ¨é€&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl resource push --pkg calico-v3.21.2-amd64.tar.gz --type cni
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># éªŒè¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kcctl resource list&lt;span style="color:#000;font-weight:bold">|&lt;/span>grep v3.21.2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>å¦‚æœåœ¨æ‰§è¡Œ &lt;code>kcctl resource push&lt;/code> æŠ¥äº†å¦‚ä¸‹é”™è¯¯ï¼š
&lt;img src="https://www.kubeclipper.io/images/docs-faq/need-login.png" alt="">
è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>ç¼–è¾‘ /root/.kc/deploy-config.yaml æ–‡ä»¶ã€‚&lt;/li>
&lt;li>æ‰¾åˆ° ssh é…ç½®é¡¹ï¼Œæ·»åŠ  pkFile å­—æ®µé…ç½®ï¼Œå€¼ä¸ºå½“å‰æœåŠ¡å™¨çš„ ssh å…¬é’¥æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚&lt;br>
&lt;img src="https://www.kubeclipper.io/images/docs-faq/add-key.png" alt="">&lt;/li>
&lt;/ol>
&lt;/blockquote>
&lt;p>é€šè¿‡å‘½ä»¤è¡Œå®‰è£… kubernetes é›†ç¾¤ï¼Œåœ¨ KubeClipper ç®¡ç†åå°æŸ¥çœ‹æ“ä½œæ—¥å¿—&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kcctl create cluster --name &lt;span style="color:#204a87">test&lt;/span> --master 192.168.10.98 --untaint-master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹ kubernetes é›†ç¾¤ pods è¿è¡ŒçŠ¶æ€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get pods -A
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: èŠ‚ç‚¹ç®¡ç†</title><link>https://www.kubeclipper.io/docs/tutorials/node-management/</link><pubDate>Tue, 29 Nov 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/tutorials/node-management/</guid><description>
&lt;h2 id="åŒºåŸŸç®¡ç†">åŒºåŸŸç®¡ç†&lt;/h2>
&lt;p>å¹³å°æ”¯æŒå¤šåŒºåŸŸç®¡ç†ï¼Œå³ä¸ºå¹³å°ç®¡ç†çš„æ‰€æœ‰èŠ‚ç‚¹å’Œé›†ç¾¤è¿›è¡Œç‰©ç†æˆ–é€»è¾‘çš„åŒºåŸŸåˆ’åˆ†ã€‚æ‚¨å¯ä»¥åœ¨â€œåŒºåŸŸç®¡ç†â€é¡µé¢æŸ¥çœ‹å¹³å°å†…ç®¡ç†çš„æ‰€æœ‰åŒºåŸŸï¼Œç‚¹å‡»åŒºåŸŸåç§°ï¼Œè¿›å…¥åŒºåŸŸè¯¦æƒ…é¡µé¢ï¼Œå¯ä»¥æŸ¥çœ‹åŒºåŸŸä¸‹çš„æ‰€æœ‰é›†ç¾¤åˆ—è¡¨å’ŒèŠ‚ç‚¹åˆ—è¡¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/region.png" alt="">&lt;/p>
&lt;h2 id="èŠ‚ç‚¹ç®¡ç†">èŠ‚ç‚¹ç®¡ç†&lt;/h2>
&lt;p>æ‚¨å¯ä»¥åœ¨â€œèŠ‚ç‚¹ä¿¡æ¯â€é¡µé¢æŸ¥çœ‹å¹³å°ä¸­ç®¡ç†çš„å…¨éƒ¨èŠ‚ç‚¹åˆ—è¡¨ï¼Œå’ŒèŠ‚ç‚¹è§„æ ¼ã€çŠ¶æ€ç­‰ä¿¡æ¯ã€‚ç‚¹å‡»èŠ‚ç‚¹åç§°è¿›å…¥èŠ‚ç‚¹è¯¦æƒ…é¡µé¢ï¼Œå¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„èŠ‚ç‚¹åŸºæœ¬ä¿¡æ¯å’Œç³»ç»Ÿä¿¡æ¯ã€‚&lt;/p>
&lt;p>KubeClipper ä¸­çš„èŠ‚ç‚¹çŠ¶æ€è¡¨ç¤º kc-agent å¯¹èŠ‚ç‚¹çš„ç®¡ç†çŠ¶æ€ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹çŠ¶æ€æ˜¾ç¤ºä¸ºâ€œå°±ç»ªâ€ï¼Œå½“èŠ‚ç‚¹å¤±è”4åˆ†é’Ÿï¼ˆè¯¯å·®æ—¶é—´ 10s å†…ï¼‰åï¼ŒçŠ¶æ€ä¼šæ›´æ–°ä¸ºâ€œæœªçŸ¥â€ï¼ŒæœªçŸ¥çŠ¶æ€çš„èŠ‚ç‚¹æ— æ³•è¿›è¡Œä»»ä½•æ“ä½œï¼Œä¹Ÿæ— æ³•åˆ›å»ºé›†ç¾¤æˆ–ä¸ºé›†ç¾¤æ·»åŠ /ç§»é™¤èŠ‚ç‚¹ã€‚&lt;/p>
&lt;h3 id="æ·»åŠ èŠ‚ç‚¹">æ·»åŠ èŠ‚ç‚¹&lt;/h3>
&lt;p>åœ¨éƒ¨ç½² KubeClipper æ—¶ï¼Œæ‚¨å°±å¯ä»¥æ·»åŠ åˆå§‹çš„ server èŠ‚ç‚¹å’Œ agent èŠ‚ç‚¹ï¼Œå…¶ä¸­ï¼Œserver èŠ‚ç‚¹ç”¨äºéƒ¨ç½² KubeClipper è‡ªèº«æœåŠ¡ï¼Œagent èŠ‚ç‚¹å¯ç”¨äºéƒ¨ç½² kubernetes é›†ç¾¤ã€‚åœ¨ç”¨äºå®éªŒæˆ–å¼€å‘çš„ KubeClipper ç¯å¢ƒï¼Œæ‚¨å¯ä»¥å°† server èŠ‚ç‚¹åŒæ—¶æ·»åŠ ä¸º agent èŠ‚ç‚¹ã€‚ä½†å¦‚æœç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®ä¸è¦å°† server èŠ‚ç‚¹å¤ç”¨ä¸º agent èŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ kcctl join å‘½ä»¤ä¸º KubeClipper æ·»åŠ  agent èŠ‚ç‚¹ã€‚åŒæ—¶ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯ä¸ª agent èŠ‚ç‚¹æ ‡è®°ä¸€ä¸ªåŒºåŸŸï¼ŒåŒºåŸŸå¯ä»¥æ˜¯ç‰©ç†çš„æˆ–é€»è¾‘çš„ä½ç½®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨åŒä¸€åŒºåŸŸçš„èŠ‚ç‚¹åˆ›å»º kubernetes é›†ç¾¤ï¼Œä½†ä¸å¯ä»¥ä½¿ç”¨è·¨åŒºåŸŸçš„èŠ‚ç‚¹åˆ›å»ºé›†ç¾¤ã€‚æœªæ ‡è®°åŒºåŸŸçš„èŠ‚ç‚¹é»˜è®¤å±äº default åŒºåŸŸã€‚&lt;/p>
&lt;p>å‘½ä»¤è¡Œç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>kcctl join --agent beijing:1.2.3.4 --agent shanghai:2.3.4.5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç§»é™¤èŠ‚ç‚¹">ç§»é™¤èŠ‚ç‚¹&lt;/h3>
&lt;p>å½“æ‚¨ä¸å†éœ€è¦æŸäº›èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ kcctl drain å‘½ä»¤å°†èŠ‚ç‚¹ä»å¹³å°ä¸­ç§»é™¤ã€‚&lt;/p>
&lt;p>å‘½ä»¤è¡Œç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>kcctl drain --agent 192.168.10.19
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="è¿æ¥ç»ˆç«¯">è¿æ¥ç»ˆç«¯&lt;/h3>
&lt;p>åœ¨èŠ‚ç‚¹åˆ—è¡¨é¡µé¢ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»ç›®æ ‡èŠ‚ç‚¹å³ä¾§çš„â€œè¿æ¥ç»ˆç«¯â€æŒ‰é’®ï¼Œåœ¨è¿æ¥ç»ˆç«¯çš„å¼¹çª—ä¸­è¾“å…¥èŠ‚ç‚¹ç«¯å£å’Œç”¨æˆ·åå¯†ç ä¿¡æ¯åï¼Œè®¿é—®èŠ‚ç‚¹ SSH æ§åˆ¶å°å¹¶æ‰§è¡Œå‘½ä»¤ã€‚&lt;/p>
&lt;h3 id="å¯ç”¨ç¦ç”¨èŠ‚ç‚¹">å¯ç”¨/ç¦ç”¨èŠ‚ç‚¹&lt;/h3>
&lt;p>æ‚¨å¯ä»¥ç‚¹å‡»èŠ‚ç‚¹å³ä¾§â€œç¦ç”¨â€æŒ‰é’®æš‚æ—¶ç¦ç”¨èŠ‚ç‚¹ï¼Œç¦ç”¨çŠ¶æ€ä¸‹çš„èŠ‚ç‚¹ä¸å…è®¸åˆ›å»ºæˆ–æ·»åŠ åˆ°é›†ç¾¤ã€‚&lt;/p></description></item><item><title>Docs: è®¿é—®æ§åˆ¶</title><link>https://www.kubeclipper.io/docs/tutorials/access-control/</link><pubDate>Tue, 29 Nov 2022 00:00:00 +0000</pubDate><guid>https://www.kubeclipper.io/docs/tutorials/access-control/</guid><description>
&lt;h2 id="ç”¨æˆ·ç®¡ç†">ç”¨æˆ·ç®¡ç†&lt;/h2>
&lt;p>å®‰è£… KubeClipper ä¹‹åï¼Œæ‚¨éœ€è¦åˆ›å»ºæ‰€éœ€è§’è‰²çš„ç”¨æˆ·ã€‚ä¸€å¼€å§‹ï¼Œç³»ç»Ÿé»˜è®¤åªæœ‰ä¸€ä¸ªç”¨æˆ· adminï¼Œå…·æœ‰å¹³å°ç®¡ç†å‘˜è§’è‰²ã€‚&lt;/p>
&lt;p>ç‚¹å‡»â€œè®¿é—®æ§åˆ¶â€&amp;gt;â€œç”¨æˆ·â€ï¼Œè¿›å…¥ç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºç”¨æˆ·â€æŒ‰é’®ï¼Œåœ¨å¼¹çª—ä¸­å¡«å†™ç”¨æˆ·åã€å¯†ç ã€æ‰‹æœºå·ç ã€é‚®ç®±ç­‰ä¿¡æ¯ï¼Œå¹¶æŒ‡å®šç”¨æˆ·è§’è‰²ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚ç³»ç»Ÿå†…ç½®å››ä¸ªè§’è‰²å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>å¹³å°ç®¡ç†å‘˜ï¼šæ‹¥æœ‰é›†ç¾¤ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€å®¡è®¡ç®¡ç†ç­‰å…¨éƒ¨å¹³å°æŸ¥çœ‹å’Œæ“ä½œæƒé™ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é›†ç¾¤ç®¡ç†å‘˜ï¼šæ‹¥æœ‰æ‰€æœ‰é›†ç¾¤ç®¡ç†æƒé™ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç”¨æˆ·ç®¡ç†å‘˜ï¼šæ‹¥æœ‰æ‰€æœ‰ç”¨æˆ·ç®¡ç†æƒé™ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¹³å°åªè¯»ç”¨æˆ·ï¼šæ‹¥æœ‰å…¨éƒ¨å¹³å°æŸ¥çœ‹æƒé™ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ç”¨æˆ·åˆ›å»ºå®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨ç”¨æˆ·è¯¦æƒ…é¡µé¢æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…ä¿¡æ¯ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘ç”¨æˆ·åˆ«åã€è§’è‰²ã€æ‰‹æœºå·ã€é‚®ç®±ä¿¡æ¯ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¼–è¾‘å¯†ç ï¼šç¼–è¾‘ç”¨æˆ·ç™»å½•å¯†ç ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤ç”¨æˆ·ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>åœ¨ç”¨æˆ·è¯¦æƒ…é¡µé¢ï¼Œæ‚¨è¿˜å¯ä»¥æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„ç™»å½•æ—¥å¿—åˆ—è¡¨ã€‚&lt;/p>
&lt;p>æ‚¨å¯ä»¥ç¼–è¾‘å¹³å° /etc/kubeclipper-server/kubeclipper-server.yaml æ–‡ä»¶ï¼Œæ ¹æ®éœ€è¦è®¾ç½®ç”¨æˆ·ç™»å½•æ—¥å¿—çš„æœ€å¤§ä¿ç•™æ¡æ•°å’Œä¿ç•™æœŸé™ï¼Œæ¯ä¸ªç”¨æˆ·çš„ç™»å½•æ—¥å¿—è¶…è¿‡æœ€å¤§æ¡æ•°åï¼Œè¶…è¿‡æœ€å¤§æ¡æ•°å’ŒæœŸé™çš„æ—¥å¿—ä¼šè¢«è‡ªåŠ¨åˆ é™¤ï¼Œä»…è¶…è¿‡ä¿ç•™æœŸé™ä½†æœªè¶…è¿‡æœ€å¤§æ¡æ•°çš„æ—¥å¿—æ•°æ®å°†ä¸ä¼šè¢«åˆ é™¤ã€‚&lt;/p>
&lt;h2 id="è‡ªå®šä¹‰è§’è‰²">è‡ªå®šä¹‰è§’è‰²&lt;/h2>
&lt;p>é™¤äº†ç³»ç»Ÿå†…ç½®è§’è‰²ï¼Œæ‚¨ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰è§’è‰²ï¼Œä»¥æ»¡è¶³ä¸šåŠ¡éœ€è¦ã€‚&lt;/p>
&lt;p>ç‚¹å‡»â€œè®¿é—®æ§åˆ¶â€&amp;gt;â€œè§’è‰²â€ï¼Œè¿›å…¥è§’è‰²ç®¡ç†é¡µé¢ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºè§’è‰²â€æŒ‰é’®ï¼Œåˆ›å»ºè‡ªå®šä¹‰è§’è‰²ã€‚&lt;/p>
&lt;p>åœ¨åˆ›å»ºè§’è‰²é¡µé¢ï¼Œæ‚¨éœ€è¦å¡«å†™è§’è‰²åç§°å’Œæè¿°ï¼Œå¹¶å‹¾é€‰è‡ªå®šä¹‰è§’è‰²æ‰€éœ€æƒé™ï¼Œä¸€äº›æƒé™ä¾èµ–äºå…¶ä»–æƒé™ï¼Œåœ¨é€‰æ‹©è¿™äº›æƒé™æ—¶ï¼Œå°†è‡ªåŠ¨é€‰ä¸­ä¾èµ–çš„æƒé™ã€‚&lt;/p>
&lt;p>åˆ›å»ºè‡ªå®šä¹‰è§’è‰²å®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨è§’è‰²è¯¦æƒ…é¡µé¢æŸ¥çœ‹è§’è‰²åŸºæœ¬ä¿¡æ¯ã€è§’è‰²æƒé™åˆ—è¡¨ã€æˆæƒç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶å¯¹è‡ªå®šä¹‰è§’è‰²æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ç¼–è¾‘ï¼šç¼–è¾‘è‡ªå®šä¹‰è§’è‰²åˆ«åã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¼–è¾‘æƒé™ï¼šç¼–è¾‘è‡ªå®šä¹‰è§’è‰²ä¸‹çš„æƒé™ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ï¼šåˆ é™¤è‡ªå®šä¹‰è§’è‰²ï¼Œéœ€ç¡®ä¿æ²¡æœ‰ç”¨æˆ·ä½¿ç”¨å¾…åˆ é™¤è§’è‰²ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="æ¥å…¥å¤–éƒ¨ç”¨æˆ·">æ¥å…¥å¤–éƒ¨ç”¨æˆ·&lt;/h2>
&lt;p>KubeClipper å¯ä»¥é€šè¿‡ OIDC åè®®ä½¿ç”¨å¤–éƒ¨ç”¨æˆ·ç™»å½•ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œå¹³å°ç®¡ç†å‘˜éœ€è¦ç™»å½•å¹³å° server èŠ‚ç‚¹ï¼Œåœ¨ kubeclipepr-server.yaml æ–‡ä»¶ä¸­çš„ authentication ä¸‹æ’å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-undefined" data-lang="undefined">oauthOptions:
identityProviders:
- name: keycloak
type: OIDC
mappingMethod: auto
provider:
clientID: kc
clientSecret: EErn729BB1bKawdRtnZgrqj9Bx0]mzUs
issuer: http://172.20.163.233:7777/auth/realms/kubeclipper
scopes:
- openid
- email
redirectURL: http://{kc-console-address}/oatuh2/redirect/{IDP-Name}
&lt;/code>&lt;/pre>&lt;p>å…¶ä¸­ï¼Œâ€œproviderâ€ ä¸‹éœ€è¦æ‚¨å¡«å†™è‡ªå·±çš„ OAuth2 æœåŠ¡çš„&lt;code>clientID&lt;/code>ã€&lt;code>clientSecret&lt;/code>ã€&lt;code>issuer&lt;/code>ä¿¡æ¯ï¼Œä»¥ keycloack ä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/keycloak-clients.png" alt="">&lt;/p>
&lt;p>&lt;img src="https://www.kubeclipper.io/images/docs-tutorials/keycloak-secret.png" alt="">&lt;/p>
&lt;p>&lt;code>redirectURL&lt;/code>ç¤ºä¾‹ï¼šhttp://172.0.0.90/oauth2/redirect/keycloack&lt;/p>
&lt;p>OAuth2 ç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤è®¿é—®å’Œä½¿ç”¨ KubeClipper å¹³å°ï¼š&lt;/p>
&lt;ol>
&lt;li>ç‚¹å‡»ç™»å½•é¡µçš„ â€œOAuth2 ç™»å½•â€æŒ‰é’®ï¼Œè¿›å…¥ OAuth2 ç™»å½•é¡µé¢ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ç™»å½•ï¼Œè¿›å…¥ KubeClipper å¹³å°ï¼Œé¦–æ¬¡ç™»å½•ï¼Œæ‚¨ä¼šå› æœªè¢«æˆäºˆæƒé™è€Œæ— æ³•è®¿é—®å¹³å°ã€‚&lt;/li>
&lt;li>å¹³å°ç®¡ç†å‘˜æˆ–å…¶ä»–æ‹¥æœ‰ç”¨æˆ·ç®¡ç†æƒé™çš„ç”¨æˆ·ç™»å½• KubeClipperï¼Œåœ¨ç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œæ‰¾åˆ°ç›®æ ‡ OAuth2 ç”¨æˆ·ï¼Œé€šè¿‡ç¼–è¾‘ç”¨æˆ·æŒ‡å®šç”¨æˆ·è§’è‰²ã€‚&lt;/li>
&lt;li>OAuth2 ç”¨æˆ·é‡å¤ç¬¬ä¸€æ­¥ï¼Œç™»å½• KubeClipperï¼Œå°±å¯ä»¥æ­£å¸¸è®¿é—®å¹³å°å¹¶æ‰§è¡Œè§’è‰²æƒé™å†…æ“ä½œã€‚&lt;/li>
&lt;/ol></description></item></channel></rss>