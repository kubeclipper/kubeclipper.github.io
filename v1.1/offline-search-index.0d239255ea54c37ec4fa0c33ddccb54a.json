[{"body":"Create a kubernetes cluster You can create a kubernetes cluster through the wizard-style page, and install the required plugins such as CNI and CSI. You can also save the cluster template in advance, and create a cluster quickly after selecting the template.\nPrepare to create a cluster You need to have enough available nodes. To add nodes, refer to \"Add Nodes\".\nPrepare the image or binary files of K8S, CRI, calico, CSI and other plug-ins that need to be installed. You can choose online/offline according to the network environment of the platform, and then choose the recommended K8S version on page. You can also upload the image required for deployment to your own image repository in advance, and specify the image repository during deployment. For more installation configuration, refer to \"Cluster Configuration Guide\".\nCreate a single-node experimental cluster Click \"Cluster Management\" \u003e \"Cluster\" to enter the cluster list page, and click the \"Create Cluster\" button in the upper left corner.\nEnter the \"Node Configuration\" page of the Create Cluster Wizard page. Fill in the \"Cluster Name\", such as \"test\", without selecting \"Cluster Template\". Select an available node, add it as a control node, and remove the taint from the master node in the taint management list. Click the \"Next\" button.\nEnter the \"Cluster Configuration\" page of the Create Cluster Wizard page. Select \"Offline Installation\", no need to specify \"Mirror Repository\", retain the default values for other configurations, click the \"Quick Create\" button, jump to the configuration confirmation page, and click the \"OK\" button.\nThe experimental cluster of a single node is created. You can view the cluster details on the cluster details page, or click the \"ViewLog\" button to view the real-time log during the cluster creation process.\nCreate a cluster using a mirror repository If you create a cluster that contains large images, it is recommended that you upload all images to a specific image repository, the creating process will be faster and smoother.\nAdd a mirror repository. Click \"Cluster Management\" \u003e \"Mirror Repository\" to enter the mirror repository list page, and click the \"Add\" button in the upper left corner. Enter the IP address of the repository where the mirror is stored in the pop-up window of adding a mirror repository, and click the \"OK\" button.\nCreate a cluster. Click \"Cluster Management\" \u003e \"Cluster\" to enter the cluster list page, and click the \"Create Cluster\" button in the upper left corner. Configure the cluster nodes as needed. In the \"Mirror Repository\" of the \"Cluster Configuration\" page, select the mirror repository added in the first step, and create the cluster after completing other configurations of the cluster as needed.\nCreate a cluster using the cluster template You can use cluster templates to simplify the cluster creation process.\nAdd a template. There are two ways to save a template. You can add a cluster template on the \"Cluster Management\" \u003e \"Template Management\" page, and select the template when creating a new cluster. You can also save the existing cluster configuration as a template by clicking \"More\" \u003e \"Save as Template\" in the cluster operation, so as to create a K8S cluster with the same configuration as the former cluster.\nCreate a cluster. Click \"Cluster Management\" \u003e \"Cluster\" to enter the cluster list page, click the \"Create Cluster\" button in the upper left corner, enter the cluster creation page, fill in the \"cluster name\", such as \"demo\", select the cluster template saved in the first step, Add the required nodes, click the \"Quick Create\" button in the lower right corner, jump to the \"Configuration Confirmation\" page, after checking the template information, click the \"OK\" button to create a cluster.\nCluster Configuration Guide Node configuration steps On the node configuration page, you can configure the node as follows:\nRegion: The region to which the cluster belongs. When adding a node, a physical or logical region can be specified for the node. The K8S cluster created by the node under this area also belongs to this region. Creating a cluster using multiple regional nodes is not supported.\nControl Nodes: Specify an odd number of control nodes for the cluster. The production environments generally use 3 control nodes to achieve high availability.\nWorker nodes: Add worker nodes to the new cluster according to the business size.\nTaint management: You can configure taint for added nodes, kubeclipper will automatically add no schedule taint to the control nodes, and you can also make changes as needed.\nNode Labels: You can configure labels for added cluster nodes as needed.\nYou can configure the required nodes according to your business needs. If you need to create a non-highly available experimental cluster, you can also add only one control node, and remove the taint automatically added for the control node. For details, see \"Creating a Single-Node Experimental Cluster\".\nCluster configuration steps On the cluster configuration page, you can configure the cluster as follows:\nInstallation method and mirror repository:\nPage configuration Configure Package/Image Sources Online (public network environment)Mirror repository is empty Configuration package source: Download from kubeclipper.io.Image pull method: The image is pulled from the official image repository by default, such as k8s image pulled from k8s.gcr.io, calico pulled from docker.io. Online (public network environment)Mirror repository specification Configuration package source: Download from kubeclipper.io.Image pull method: Pull from the filled mirror repository. The components will inherit the repository address by default. Please ensure that the repository has the related component images. You can also set an independent mirror repository for a specific component, and the component image will be pulled from this address. Offline (intranet environment)Mirror repository is empty Configuration package source: Download from the local kubeclipper cluster server node, you can use the â€œkcctl resource listâ€ command to check the available configuration packages, or use the â€œkcctl resource pushâ€ command to upload the required configuration packages.Image pull method: Download from the local kubeclipper cluster server node. CRI will import the image after downloading. You can use the â€œkcctl resource listâ€ command to check the available image packages, or use the â€œkcctl resource pushâ€ command to upload the required image packages. Offline (intranet environment)Mirror repository specification Configuration package source: Download from the local kubeclipper cluster server node, you can use the â€œkcctl resource listâ€ command to check the available configuration packages, or use the â€œkcctl resource pushâ€ command to upload the required configuration packages.Image pull method: Pull from the filled mirror repository. The components will inherit the repository address by default. Please ensure that the repository has the related component images. You can also set an independent mirror repository for a specific component, and the component image will be pulled from this address. kubeclipper provides the Docker Registry and uses the kcctl registry command for management. You can also use your own image repositories. K8S version: Specify the cluster K8S version. When you choose to install offline, you can choose from the K8S version of the configuration package in the current environment; when you choose to install online, you can choose from the officially recommended version of kubeclipper.\nETCD Data Dir: You can specify the ETCD data directory, the default is /var/lib/etcd.\nCertSANs: The IP address or domain name of the k8s cluster ca certificate signature, more than one can be filled in.\nContainer Runtime: According to the specified K8S version, the default container runtime is Docker for K8S version before v1.20.0, the default container runtime is Contianerd after v1.20.0; Docker is not supported after v1.24.0.\nContainer Runtime version: Specify the containerd/docker version. As with K8S, when you choose to install offline, you can choose from the version of the configuration package in the current environment; when you choose to install online, you can choose from the officially recommended version of kubeclipper.\nContainerd data Path: The \"root dir\" in the config.toml configuration can be filled in. The default is /var/lib/containerd.\nDocker data Path: The \"root dir\" in the daemon.json configuration can be filled in . The default is /var/lib/docker.\nContainerd image repository: The repository address where the containerd image is stored, the \"registry.mirrors\" in the config.toml configuration, more than one can be filled in.\nDocker image repository: The repository address where the Docker image is stored, the insecure registry in the daemon.json configuration, more than one can be filled in.\nDNS domain name: The domain name of the k8s cluster, the default is cluster.local.\nWorker load IP: Used for load balancing from worker nodes to multiple masters, a single master does not need to be set.\nExternal access IP: You can fill in a floating IP for user access, which can be empty.\nCNI configuration The current version kubeclipper only supports Calico as cluster CNI.\nCalico divides the pod CIDR set by users into several blocks (network segments), dynamically allocates them to the required nodes according to business requirements, and maintains the routing table of the cluster nodes through the bgp peer in the nodes.\nFor example: container address pool: 172.25.0.0/16, dynamically allocated network segment pool: 172.25.0.0 - 172.25.255.192 (172.25.0.0/26 i.e. 10 bits), the number of dynamically allocated network segments: 1023, the number of pods per network segment: 61 (193-254), the total number of pods is 1023 * 61 = 62403, the relative maximum number of nodes (according to the 200 service pod as the reference value): 312.\nClusters larger than 50 nodes are currently not recommended. Clusters larger than 50 nodes are recommended to manually configure route reflection to optimize the stability of routing table maintenance for nodes in the cluster.\nTo use Calico as the cluster CNI, you need the following configuration:\nCalico mode: 5 network modes are supported:\nOverlay-IPIP-All: Use IP-in-IP technology to open up the network of pods of different nodes. Usually, this method is used in the environment where the underlying platform is IaaS. Of course, if your underlying network environment is directly a physical device, it is also completely can be used, but the efficiency and flexibility will be greatly reduced. It should be noted that you need to confirm that the underlying network environment (underlay) supports the IPIP protocol. (The network method using overlay will have a certain impact on network performance). Overlay-Vxlan-All: Use IP-in-IP technology to open up the network of pods of different nodes. Usually, this method is used in the environment where the underlying platform is IaaS. Of course, if your underlying network environment is directly a physical device, it is also completely can be used, but the efficiency and flexibility will be greatly reduced. In theory, it can run on any network environment. Usually, we will use it when the underlying environment does not support the IPIP protocol. (The network method using overlay has a certain impact on network performance). BGP : Use IP-in-IP technology to open up the network of pods of different nodes. Usually this method is used in a bare metal environment. Of course, if the Iaas platform supports BGP, it can also be used. In this mode, the IP communication of pods is accomplished by exchanging routing tables among nodes in the cluster. If you need to manually open up the pod network between multiple clusters, you need to pay attention that the addresses you assign should not conflict. Overly-IPIP-Cross-Subnet: Use IP-in-IP technology to open up the network of pods of different nodes. Usually this method is used in the environment where the underlying platform is IaaS . It should be noted that you need to confirm the underlying network environment (underlay) supports the IPIP protocol. The difference with Overlay-IPIP-All is that if two upper Pods of different nodes in the same network segment communicate with each other through the routing table, the efficiency of upper Pods of different nodes in the same network segment can be improved. Overly-Vxlan-Cross-Subnet: The logic is similar to that of Overly-IPIP-Cross-Subnet. IP version: The IP version can be specified as IPV4 or IPV4 IPV6 dual stack.\nService subnet: Fill in the service subnet CIDR, v4 defaults to: 10.96.0.0/16, v6 defaults to fd03::/112, note that the Service network must not overlap with any host network.\nPod CIDR: Fill in the pod subnet CIDR, v4 default: 172.25.0.0/24, v6 default is fd05::/120, note that the Pod network must not overlap with any host network.\nThe bottom layer of the pod network:\nFirst-found (default): The program will traverse all valid IP addresses (local, loop back, docker bridge, etc. will be automatically excluded) according to ipfamily (v4 or v6). Usually, if it is a multi-network interface card, it will exclude the default gateway. The network interface card ip other than the gateway will be used as the routing address between nodes. Can-reach: Set the routing address between nodes by checking the reachability of the domain names or IP addresses. Interface: Get all network interface card device names that satisfy the regular expression and return the address of the first network interface card as the routing address between nodes. MTU: Configure the maximum transmission unit (MTU) for the Calico environment. It is recommended to be no larger than 1440. The default is 1440. See https://docs.projectcalico.org/networking/mtu for details.\nStorage configuration The current version of Kubeclipper supports NFS as external storage types.\nConnect to NFS storage For NFS type external storage, you need to set the following:\nField Function description description/optional ServerAddr ServerAddr, the service address of NFS Required SharedPath SharedPath, the service mount path for NFS Required StorageClassName StorageClassName, the name of the storage class The default is nfs-sc, the name can be customized, and it cannot be repeated with other storage classes in the cluster ReclaimPolicy ReclaimPolicy, VPC recovery strategy Delete/Retain ArchiveOnDelete ArchiveOnDelete, whether to archive PVC after deletion Yes/No MountOptions MountOptions, the options parameter of NFS, such as nfsvers = 4.1 Optional, you can fill in several Replicas Replicas, number of NFS provisioners Default is 1 By default, multiple NFS storage types can be connected. Click the \"Continue to add\" button below to add another NFS storage. Note that the storage class name cannot be repeated.\nAfter setting up the external storage, the card below will show the storages you have enabled. You can choose a storage class as the default storage. For PVCs that do not specify a specific StorageClass, the default storage class will be used.\nCluster operation log view On the cluster details page, click the \"operation log\" tab to view the cluster operation log list. Click the \"View Log\" button on the right side of an operation log to view the detailed logs of all steps and nodes in the pop-up window. Click the step name on the left to view the detailed log output of the execution steps.\nDuring the execution of cluster operations, click View Log, you can view real-time log updates to trace the operation execution. For tasks that fail to execute, you can also view the log to find the execution steps and nodes marked with red dots, quickly locate errors, and troubleshoot the cause of operation failure.\nAccess cluster kubectl You can access the kubectl of the running cluster, click \"More\" \u003e \"Connect Terminal\" in the cluster operation, and you can execute the kubectl command line operation in the cluster kuebectl pop-up window.\nCluster plugin management In addition to installing plugins when creating a cluster, you can also install plugins for a running cluster. Taking the installation of storage plugins as an example, click the \"More\" \u003e \"Add Storage Item\" button in the cluster operation to enter the Add Storage Item page. You can install NFS plugins for the cluster. The installation configuration is the same as the configuration in cluster creation.\nFor installed plugins, you can view the plugin information on the cluster details page. You can click the \"Save as Template\" button in the upper right corner of the plugin card to save the plugin information as a template. You can also uninstall the cluster plugin by clicking the \"Remove\" button in the upper right corner of the plugin card.\nCluster node management On the \"Nodes\" list page of the cluster detail page, you can view the list of nodes in the current cluster, their specifications, status and role information.\nAdd cluster node When the cluster load is high, you can add nodes to the cluster to expand capacity. Adding nodes does not affect the running services.\nOn the cluster details page, under the Node List tab, click the \"Add Node\" button on the left, select the available nodes in the pop-up window, set the node labels, and click the \"OK\" button. The current version only supports adding worker nodes.\nRemove cluster node On the cluster details page, under the Node List tab, you can remove a node by clicking the \"Remove\" button on the right of the node. The current version only supports removing worker nodes.\nNote: To remove cluster nodes, you need to pay attention to security issues in production to avoid application interruptions.\nCluster version upgrade If the cluster version does not meet the requirements, you can upgrade the K8S version for the cluster. Similar to creating a cluster, you need to prepare the configuration package required for the cluster version and the K8S image of the target version and upload it to the specified location. For details, see \"Preparing to Create a Cluster\".\nClick the \"More\" \u003e \"Cluster Upgrade\" button of the cluster operation. In the cluster upgrade pop-up window, select the installation mode and mirror repository, and select the target version of the upgrade. The installation method of the upgrade and the configuration of the K8S version are the same as those of creating a cluster. For details, please refer to \"Cluster Configuration Guide\".\nCluster upgrades can be performed across minor versions, but upgrades skipped over later versions are not supported. For example, you can upgrade from v1.20.2 to v1.20.13, or from v1.20.x to v1.21.x, but not from v1.20.x to v1.22.x. For version 1.23.x, upgrading to version 1.24.x is not currently supported.\nThe cluster upgrade operation may take a long time. You can view the operation log on the cluster details page to track the cluster upgrade status.\nCluster Backup and Recovery The backup of K8S cluster by KubeClipper mainly backs up ETCD database data, and k8s resource object, such as namespaces, deployments, configMaps. The files and data generated by the resource itself are not backed up. For example, the data and files generated by the mysql pod will not be backed up. Similarly, the files under the PV object of the file class are not backed up, only the pv object is backed up. The backup function provided by KubeClipper is hot backup, which does not affect cluster usage during backup. While KubeClipper is not against backing up during the \"busy period\" of the cluster, it also strongly disapproves of backing up during the \"busy period\" of the cluster.\nCreate a backup point Before performing a backup, you need to set a backup point for the cluster, that is, set the storage location of the backup files. The storage type of the backup point can be FS storage or S3 storage . The following are node local storage , NFS storage and MINIO storage as examples:\nNode local storage (only for single-node experimental clusters): Create a storage directory. Connect to the cluster master node terminal (see Connect Nodes Terminal) and use the mkdir command to create the \"/root/backup\" directory in the master node.\nCreate a backup point. Click \"Cluster Management\" \u003e \"Backup Point\" to enter the backup point list page, click the \"Create\" button in the upper left corner, in the Create Backup Point pop-up window, enter \"Backup Point Name\", such as \"local\", select \"Storage Type\" as \"FS\", fill in \"Backup Path\", such as \"/root/backup\".\nSet up a cluster backup point. When creating a cluster, select \"Backup Point\" as \"local\" on the \"Cluster Configuration\" page, or edit an existing cluster and select \"local\" in the \"Backup Point\" pop-up.\nNote: Using a local node to store backup files does not require the introduction of external storage. The disadvantage is that if the local node is damaged, the backup files will also be lost, so it is strongly disapproved in a production environment .\nNFSï¼š Prepare NFS storage. Prepare an NFS service and create a directory on the NFS server to store backup files, such as \"/data/kubeclipper/cluster-backups\".\nMount the storage directory. Connect the cluster master node terminal (see Connect node Terminal), use the mkdir command to create the \"/data/kubeclipper/cluster-backups\" directory in each master node, and mount it to the /data/kubeclipper/cluster-backups directory of the NFS server. Command example: mount -t nfs {NFS_IP}:/data/kubeclipper/cluster-backups /opt/kubeclipper/cluster-backups -o proto = tcp -o nolock.\nCreate a backup point. Click \"Cluster Management\" \u003e \"Backup Point\" to enter the backup point list page, click the \"Create\" button in the upper left corner, in the Create Backup Point pop-up window, enter \"Backup Point Name\", such as \"nfs\", select \"Storage Type\" as \"FS\", fill in \"Backup Path\" as \"/opt/kubeclipper/cluster-backups\".\nSet up a cluster backup point. When creating a cluster, select \"Backup Point\" as \"nfs\" on the \"Cluster Configuration\" page, or edit an existing cluster and select \"nfs\" in the \"Backup Point\" pop-up.\nMINIOï¼š Prepare MINIO storage. Build MINIO services, refer to the official website https://docs.min.io/docs/minio-quickstart-guide.html for the deployment process, or use existing MINIO services.\nCreate a backup point. Click \"Cluster Management\" \u003e \"Backup Point\" to enter the backup point list page, click the \"Create\" button in the upper left corner, in the Create Backup Point pop-up window, enter \"Backup Point Name\", such as \"minio\", select \"Storage Type\" as \"S3\", fill in \"bucket name\", such as \"kubeclipper-backups\", the bucket will be automatically created by kubeclipper, fill in the IP and port number of the MINIO storage service in the first step in \"Endpoint\", fill in the service username and password, click the \"OK\" button.\nSet up a cluster backup point. When creating a cluster, select \"backup point\" as \"minio\" on the \"Cluster Configuration\" page, or edit an existing cluster and select \"minio\" in the \"Backup Point\" pop-up.\nYou can view the list and details of all backup points on the \"Backup Points\" page of \"Cluster Management\" and do the following:\nEdit: Edit the backup point description, and the username/password of the S3 type backup point.\nDelete: Delete the backup point. If there are backup files under the backup point, deletion is not allowed.\nCluster backup You can back up your cluster ETCD data by clicking the \"More\" \u003e \"Cluster Backup\" button in the cluster operation.\nYou can view all backup files for the current cluster under the Backup tab on the cluster details page, and you can also perform the following operations for backups:\nEdit: Edit the backup description.\nRestore: Performs a cluster restore operation to restore the cluster to the specified backup state.\nDelete: Deletes the backup file.\nScheduled backup You can also create a timed backup for the cluster, click the \"More\" \u003e \"Scheduled Backup\" button in the cluster operation, in the timed backup pop-up window, enter the timed backup name, execution type ( repeat / only once) and execution time, and set the number of valid backups for repeated timed backups, and click the \"OK\" button.\nkubeClipper will perform backup tasks for the cluster at the execution time you set, and the backup file will be automatically named \"Cluster Name - Timed Backup Name - Random Code\". For repeated timed backups, when the number of backup files exceeds the number of valid backup files, kubeClipper will automatically delete the later backup files.\nAfter the scheduled backup is added, you can view the scheduled backup information on the \"Scheduled Backup\" tab of the cluster details page, and you can also view the backup files generated by the scheduled backup on the \"Backup\" tab.\nFor scheduled backup tasks, you can also perform the following operations:\nEdit: Edit the execution time of the scheduled backup task and the number of valid backups for repeated scheduled backups.\nEnable/Disable: Disabled scheduled backup tasks are temporarily stopped.\nDelete: Deletes a scheduled backup task.\nCluster Backup Restore If you perform restore operation while the cluster is running, KubeClipper will perform overlay recovery on the cluster, that is, backup the ETCD data in the file, overwriting the existing data .\nYou can click the \"Restore\" button on the right side of the backup under the Backup tab of the cluster details page; or click the \"More\" \u003e \"Restore Cluster\" button in the cluster operation, and select the backup to be restored in the Restore Cluster pop-up window. The current cluster can be restored to the specified backup state.\nNote: After the K8S version of the cluster is upgraded, it will no longer be possible to restore the backup to the pre-upgrade version.\n","categories":"","description":"A short lead description about this content page. It can be **bold** or _italic_ and can be split over multiple paragraphs.\n","excerpt":"A short lead description about this content page. It can be **bold** or _italic_ and can be split over multiple paragraphs.\n","ref":"/v1.1/en/docs/tutorials/cluster-manage/","tags":"","title":"Cluster management"},{"body":"For users who are new to KubeClipper and want to get started quickly, it is recommended to use the All-in-One installation mode, which can help you quickly deploy KubeClipper with zero configuration.\nDeploy KubeClipper Download kcctl KubeClipper provides a command line tool ğŸ”§ kcctl to simplify operation and maintenance. You can download the latest version of kcctl directly with the following command:\n#curl -sfL https://oss.kubeclipper.io/kcctl.sh | sh - #If you are in China, you can use cn environment variables during installation, in this case we will use registry.aliyuncs.com/google_containers instead of k8s.gcr.io Curl -sfL https://oss.kubeclipper.io/kcctl.sh | KC_REGION = en sh - You can also download the specified version from the [GitHub Release Page] ( https://github.com/kubeclipper/kubeclipper/releases ) .\nCheck if the installation was successful with the following command:\nKcctl version Start installation In this quickstart tutorial, you only need to execute one command to install KubeClipper with a template like this:\nKcctl deploy [--user root] (--passwd SSH_PASSWD | --pk-file SSH_PRIVATE_KEY) If you use the ssh passwd method, the command is as follows:\nKcctl deploy --user root --passwd $SSH_PASSWD The private key is as follows:\nKcctl deploy --user root --pk-file $SSH_PRIVATE_KEY You only need to provide the ssh user and ssh passwd or ssh private key to deploy KubeClipper natively.\nAfter executing this command, Kcctl will check your installation environment, and if the conditions are met, it will enter the installation process. After printing the following KubeClipper banner, the installation is complete.\n_ __ _ _____ _ _ | | / / | | / __ \\ ( _) | |/ / _ _ | |__ ___| / \\/ | _ _ _ __ _ __ ___ _ __ | \\| | | | ' _\\/_ \\ | | | | ' _\\ | '_\\/_ \\ '__| | |\\ \\ | _ | | | _ ) | __/ \\__/\\ | | | _ ) | | _ ) | __/ | \\ _ |\\ _ /\\__, _ | _ .__/ \\___|\\____/ _ | _ | .__/| .__/ \\___| _ | | | | | | _ | | _ | Login to console After the installation is complete, open a browser and visit http://$IP to enter the KubeClipper console.\nYou can use the default account password \" admin/Thinkbig1 \" to log in.\nYou may need to configure port forwarding rules and open ports in security groups for external users to access the console.\nCreate k8s cluster After successful deployment you can create a k8s cluster using the ** kcctl tool ** or via the ** console ** . Use the kcctl tool to create it in this quickstart tutorial.\nFirst, use the default account password to log in and obtain the token, which is convenient for subsequent interaction between kcctl and kc-server.\nKcctl login -H http://localhost -u admin -p Thinkbig1 Then create a k8s cluster with the following command:\nNODE = $ (kcctl get node -o yaml | grep ipv4DefaultIP: | sed's/ipv4DefaultIP : //') Kcctl create cluster --master $NODE --name demo --untaint-master It takes about 3 minutes to complete the cluster creation, or you can use the following command to view the cluster status\nKcctl get cluster -o yaml | grep status -A5 You can also go to the console to view the real-time log.\nEntering the Running state means that the cluster installation is complete, you can use the kubectl get cs command to view the cluster health.\n","categories":["QuickStart"],"description":"Deploying the AIO environment\n","excerpt":"Deploying the AIO environment\n","ref":"/v1.1/en/docs/getting-started/aio_env/","tags":["aio","sample","docs"],"title":"Deploying AIO"},{"body":"å¯¹äºåˆæ¬¡æ¥è§¦ KubeClipper å¹¶æƒ³å¿«é€Ÿä¸Šæ‰‹çš„ç”¨æˆ·ï¼Œå»ºè®®ä½¿ç”¨ All-in-One å®‰è£…æ¨¡å¼ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æ‚¨é›¶é…ç½®å¿«é€Ÿéƒ¨ç½² KubeClipperã€‚\nå‡†å¤‡å·¥ä½œ KubeClipper æœ¬èº«å¹¶ä¸ä¼šå ç”¨å¤ªå¤šèµ„æºï¼Œä½†æ˜¯ä¸ºäº†åç»­æ›´å¥½çš„è¿è¡Œ Kubernetes å»ºè®®ç¡¬ä»¶é…ç½®ä¸ä½äºæœ€ä½è¦æ±‚ã€‚\næ‚¨ä»…éœ€å‚è€ƒä»¥ä¸‹å¯¹æœºå™¨ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„è¦æ±‚å‡†å¤‡ä¸€å°ä¸»æœºã€‚\nç¡¬ä»¶æ¨èé…ç½® ç¡®ä¿æ‚¨çš„æœºå™¨æ»¡è¶³æœ€ä½ç¡¬ä»¶è¦æ±‚ï¼šCPU \u003e= 2 æ ¸ï¼Œå†…å­˜ \u003e= 2GBã€‚ æ“ä½œç³»ç»Ÿï¼šCentOS 7.x / Ubuntu 18.04 / Ubuntu 20.04ã€‚ èŠ‚ç‚¹è¦æ±‚ èŠ‚ç‚¹å¿…é¡»èƒ½å¤Ÿé€šè¿‡ SSH è¿æ¥ã€‚ èŠ‚ç‚¹ä¸Šå¯ä»¥ä½¿ç”¨ sudo / curl / wget / tar å‘½ä»¤ã€‚ å»ºè®®æ‚¨çš„æ“ä½œç³»ç»Ÿå¤„äºå¹²å‡€çŠ¶æ€ï¼ˆä¸å®‰è£…ä»»ä½•å…¶ä»–è½¯ä»¶ï¼‰ï¼Œå¦åˆ™å¯èƒ½ä¼šå‘ç”Ÿå†²çªã€‚\néƒ¨ç½² KubeClipper ä¸‹è½½ kcctl KubeClipper æä¾›äº†å‘½ä»¤è¡Œå·¥å…·ğŸ”§ kcctl ä»¥ç®€åŒ–è¿ç»´å·¥ä½œï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½æœ€æ–°ç‰ˆ kcctlï¼š\n# curl -sfL https://oss.kubeclipper.io/kcctl.sh | sh - # å¦‚æœä½ åœ¨ä¸­å›½ï¼Œ ä½ å¯ä»¥åœ¨å®‰è£…æ—¶ä½¿ç”¨ cn ç¯å¢ƒå˜é‡, æ­¤æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ registry.aliyuncs.com/google_containers ä»£æ›¿ k8s.gcr.io curl -sfL https://oss.kubeclipper.io/kcctl.sh | KC_REGION=cn sh - æ‚¨ä¹Ÿå¯ä»¥åœ¨ GitHub Release Page ä¸‹è½½æŒ‡å®šç‰ˆæœ¬ã€‚\né€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ:\nkcctl version å¼€å§‹å®‰è£… åœ¨æœ¬å¿«é€Ÿå…¥é—¨æ•™ç¨‹ä¸­ï¼Œæ‚¨åªéœ€æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å³å¯å®‰è£… KubeClipperï¼Œå…¶æ¨¡æ¿å¦‚ä¸‹æ‰€ç¤ºï¼š\nkcctl deploy [--user root] (--passwd SSH_PASSWD | --pk-file SSH_PRIVATE_KEY) è‹¥ä½¿ç”¨ ssh passwd æ–¹å¼åˆ™å‘½ä»¤å¦‚ä¸‹æ‰€ç¤º:\nkcctl deploy --user root --passwd $SSH_PASSWD ç§é’¥æ–¹å¼å¦‚ä¸‹ï¼š\nkcctl deploy --user root --pk-file $SSH_PRIVATE_KEY æ‚¨åªéœ€è¦æä¾› ssh user ä»¥åŠ ssh passwd æˆ–è€… ssh ç§é’¥å³å¯åœ¨æœ¬æœºéƒ¨ç½² KubeClipperã€‚\næ‰§è¡Œè¯¥å‘½ä»¤åï¼ŒKcctl å°†æ£€æŸ¥æ‚¨çš„å®‰è£…ç¯å¢ƒï¼Œè‹¥æ»¡è¶³æ¡ä»¶å°†ä¼šè¿›å…¥å®‰è£…æµç¨‹ã€‚åœ¨æ‰“å°å‡ºå¦‚ä¸‹çš„ KubeClipper banner åå³è¡¨ç¤ºå®‰è£…å®Œæˆã€‚\n_ __ _ _____ _ _ | | / / | | / __ \\ (_) | |/ / _ _| |__ ___| / \\/ |_ _ __ _ __ ___ _ __ | \\| | | | '_ \\ / _ \\ | | | | '_ \\| '_ \\ / _ \\ '__| | |\\ \\ |_| | |_) | __/ \\__/\\ | | |_) | |_) | __/ | \\_| \\_/\\__,_|_.__/ \\___|\\____/_|_| .__/| .__/ \\___|_| | | | | |_| |_| ç™»å½•æ§åˆ¶å° å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® http://$IP å³å¯è¿›å…¥ KubeClipper æ§åˆ¶å°ã€‚\næ‚¨å¯ä»¥ä½¿ç”¨é»˜è®¤å¸å·å¯†ç  admin / Thinkbig1 è¿›è¡Œç™»å½•ã€‚\næ‚¨å¯èƒ½éœ€è¦é…ç½®ç«¯å£è½¬å‘è§„åˆ™å¹¶åœ¨å®‰å…¨ç»„ä¸­å¼€æ”¾ç«¯å£ï¼Œä»¥ä¾¿å¤–éƒ¨ç”¨æˆ·è®¿é—®æ§åˆ¶å°ã€‚\nåˆ›å»º k8s é›†ç¾¤ éƒ¨ç½²æˆåŠŸåæ‚¨å¯ä»¥ä½¿ç”¨ kcctl å·¥å…·æˆ–è€…é€šè¿‡æ§åˆ¶å°åˆ›å»º k8s é›†ç¾¤ã€‚åœ¨æœ¬å¿«é€Ÿå…¥é—¨æ•™ç¨‹ä¸­ä½¿ç”¨ kcctl å·¥å…·è¿›è¡Œåˆ›å»ºã€‚\né¦–å…ˆä½¿ç”¨é»˜è®¤å¸å·å¯†ç è¿›è¡Œç™»å½•è·å– tokenï¼Œä¾¿äºåç»­ kcctl å’Œ kc-server è¿›è¡Œäº¤äº’ã€‚\nkcctl login -H http://localhost -u admin -p Thinkbig1 ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»º k8s é›†ç¾¤:\nNODE=$(kcctl get node -o yaml|grep ipv4DefaultIP:|sed 's/ipv4DefaultIP: //') kcctl create cluster --master $NODE --name demo --untaint-master å¤§æ¦‚ 3 åˆ†é’Ÿå·¦å³å³å¯å®Œæˆé›†ç¾¤åˆ›å»º,ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é›†ç¾¤çŠ¶æ€\nkcctl get cluster -o yaml|grep status -A5 æ‚¨ä¹Ÿå¯ä»¥è¿›å…¥æ§åˆ¶å°æŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚\nè¿›å…¥ Running çŠ¶æ€å³è¡¨ç¤ºé›†ç¾¤å®‰è£…å®Œæˆ,æ‚¨å¯ä»¥ä½¿ç”¨ kubectl get cs å‘½ä»¤æ¥æŸ¥çœ‹é›†ç¾¤å¥åº·çŠ¶å†µã€‚\n","categories":["QuickStart"],"description":"å¿«é€Ÿæ­å»ºå¹³å°ä½¿ç”¨åŠŸèƒ½\n","excerpt":"å¿«é€Ÿæ­å»ºå¹³å°ä½¿ç”¨åŠŸèƒ½\n","ref":"/v1.1/docs/getting-started/","tags":["docs"],"title":"å¿«é€Ÿå¼€å§‹"},{"body":"åˆ›å»ºé›†ç¾¤ æ‚¨å¯ä»¥é€šè¿‡å‘å¯¼å¼çš„é¡µé¢åˆ›å»º K8S é›†ç¾¤ï¼Œå¹¶å®‰è£…CNIã€CSIç­‰æ‰€éœ€æ’ä»¶ã€‚ä¹Ÿå¯ä»¥æå‰ä¿å­˜å¥½é›†ç¾¤æ¨¡ç‰ˆï¼Œé€‰æ‹©æ¨¡ç‰ˆåå¿«é€Ÿåˆ›å»ºé›†ç¾¤ã€‚\nåˆ›å»ºé›†ç¾¤å‡†å¤‡å·¥ä½œ æ‚¨éœ€è¦å‡†å¤‡å……è¶³çš„å¯ç”¨èŠ‚ç‚¹ï¼Œå¦‚éœ€æ·»åŠ èŠ‚ç‚¹ï¼Œå‚è§â€œæ·»åŠ èŠ‚ç‚¹â€æ•™ç¨‹ã€‚\nå‡†å¤‡å¥½éœ€è¦éƒ¨ç½²çš„ K8Sã€CRIã€calicoã€CSI å’Œå…¶ä»–æ’ä»¶çš„é•œåƒæˆ–äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œkubeclipper æä¾›äº†æ¨èçš„ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥æ ¹æ®å¹³å°æ‰€å¤„ç½‘ç»œç¯å¢ƒï¼Œé€‰æ‹©åœ¨çº¿ / ç¦»çº¿åï¼Œç›´æ¥åœ¨é¡µé¢ä¸Šé€‰å–ä½¿ç”¨ã€‚æ‚¨ä¹Ÿå¯ä»¥å°†éƒ¨ç½²æ‰€éœ€çš„é•œåƒä¸Šä¼ è‡³è‡ªå·±çš„é•œåƒä»“åº“ï¼Œå¹¶åœ¨éƒ¨ç½²æ—¶æŒ‡å®šã€‚æ›´å¤šå®‰è£…é…ç½®ï¼Œå‚è€ƒä»¥ä¸‹è¡¨æ ¼ï¼š\né¡µé¢é…ç½® é…ç½®åŒ…/é•œåƒæ¥æº åœ¨çº¿ï¼ˆå…¬ç½‘ç¯å¢ƒï¼‰\né•œåƒä»“åº“ä¸ºç©º 1. é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚\n2. é•œåƒæ‹‰å–æ–¹å¼ï¼šé•œåƒé»˜è®¤ä»å®˜æ–¹é•œåƒä»“åº“æ‹‰å–ï¼Œå¦‚k8sé•œåƒä» k8s.gcr.io æ‹‰å–ã€calico ä» docker.io æ‹‰å–ã€‚ åœ¨çº¿ï¼ˆå…¬ç½‘ç¯å¢ƒï¼‰\né•œåƒä»“åº“æŒ‡å®š 1. é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚\n2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚ ç¦»çº¿ï¼ˆå†…ç½‘ç¯å¢ƒï¼‰\né•œåƒä»“åº“ä¸ºç©º\n1. é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤serverèŠ‚ç‚¹ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚\n2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤serverèŠ‚ç‚¹ä¸‹è½½ï¼Œä¸‹è½½åç”±CRIè¿›è¡Œé•œåƒå¯¼å…¥ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é•œåƒåŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é•œåƒåŒ…ã€‚ ç¦»çº¿ï¼ˆå†…ç½‘ç¯å¢ƒï¼‰\né•œåƒä»“åº“æŒ‡å®š\n1. é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ°ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚\n2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚kubeclipper æä¾› Docker Registry æ–¹æ¡ˆï¼Œå¹¶ä½¿ç”¨ kcctl registry å‘½ä»¤è¡Œè¿›è¡Œç®¡ç†ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è‡ªæœ‰é•œåƒä»“åº“ã€‚ åˆ›å»ºå•èŠ‚ç‚¹å®éªŒé›†ç¾¤ ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€\u003eâ€œé›†ç¾¤â€ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºé›†ç¾¤â€æŒ‰é’®ã€‚\nè¿›å…¥åˆ›å»ºé›†ç¾¤å‘å¯¼é¡µé¢çš„â€œèŠ‚ç‚¹é…ç½®â€é¡µé¢ã€‚å¡«å†™â€œé›†ç¾¤åç§°â€ï¼Œå¦‚â€œtestâ€ï¼Œä¸éœ€é€‰æ‹©â€œé›†ç¾¤æ¨¡ç‰ˆâ€ã€‚é€‰æ‹©ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹ï¼Œæ·»åŠ ä¸ºæ§åˆ¶èŠ‚ç‚¹ï¼Œå¹¶åœ¨æ±¡ç‚¹ç®¡ç†åˆ—è¡¨ä¸­ï¼Œå°† master èŠ‚ç‚¹çš„æ±¡ç‚¹ç§»é™¤ã€‚ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€æŒ‰é’®ã€‚\nè¿›å…¥åˆ›å»ºé›†ç¾¤å‘å¯¼é¡µé¢çš„â€œé›†ç¾¤é…ç½®â€é¡µé¢ã€‚é€‰æ‹©â€œç¦»çº¿å®‰è£…â€ï¼Œâ€œé•œåƒä»“åº“â€ä¸éœ€å¡«å†™ï¼Œå…¶ä»–é…ç½®éƒ½å¯ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œç‚¹å‡»â€œå¿«é€Ÿåˆ›å»ºâ€æŒ‰é’®ï¼Œè·³è½¬é…ç½®ç¡®è®¤é¡µé¢ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚\nå•èŠ‚ç‚¹çš„å®éªŒé›†ç¾¤åˆ›å»ºå®Œæˆï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µæŸ¥çœ‹é›†ç¾¤è¯¦æƒ…ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»â€œæŸ¥çœ‹æ—¥å¿—â€æŒ‰é’®ï¼ŒæŸ¥çœ‹é›†ç¾¤åˆ›å»ºè¿‡ç¨‹ä¸­çš„å®æ—¶æ—¥å¿—ã€‚\nä½¿ç”¨é•œåƒä»“åº“åˆ›å»ºé›†ç¾¤ å¦‚æœåˆ›å»ºçš„é›†ç¾¤ä¸­åŒ…å«è¾ƒå¤§çš„é•œåƒï¼Œæ¨èæ‚¨å°†æ‰€æœ‰é•œåƒä¸Šä¼ åˆ°ç‰¹å®šçš„é•œåƒä»“åº“ï¼Œåˆ›å»ºé›†ç¾¤ä¼šæ›´å¿«é€Ÿæ›´é¡ºç•…ã€‚\næ·»åŠ é•œåƒä»“åº“ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€\u003eâ€œé•œåƒä»“åº“â€ï¼Œè¿›å…¥é•œåƒä»“åº“åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œæ·»åŠ â€æŒ‰é’®ã€‚åœ¨æ·»åŠ é•œåƒä»“åº“çš„å¼¹çª—ä¸­è¾“å…¥å­˜æ”¾æœ‰é•œåƒçš„ä»“åº“ IP åœ°å€ï¼Œç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚\nåˆ›å»ºé›†ç¾¤ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€\u003eâ€œé›†ç¾¤â€ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºé›†ç¾¤â€æŒ‰é’®ã€‚æŒ‰éœ€é…ç½®é›†ç¾¤èŠ‚ç‚¹ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢çš„â€œé•œåƒä»“åº“â€ä¸­ï¼Œé€‰æ‹©ç¬¬ä¸€æ­¥æ·»åŠ çš„é•œåƒä»“åº“ï¼Œæ ¹æ®éœ€è¦å®Œæˆé›†ç¾¤å…¶ä»–é…ç½®ååˆ›å»ºé›†ç¾¤ã€‚\nä½¿ç”¨é›†ç¾¤æ¨¡ç‰ˆåˆ›å»ºé›†ç¾¤ æ‚¨å¯ä»¥ä½¿ç”¨é›†ç¾¤æ¨¡ç‰ˆï¼Œç®€åŒ–é›†ç¾¤åˆ›å»ºæµç¨‹ã€‚\næ·»åŠ æ¨¡ç‰ˆã€‚ä¿å­˜æ¨¡ç‰ˆæœ‰ä¸¤ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥åœ¨â€œé›†ç¾¤ç®¡ç†â€\u003eâ€œæ¨¡ç‰ˆç®¡ç†â€é¡µé¢ï¼Œæ·»åŠ é›†ç¾¤æ¨¡ç‰ˆï¼Œä»¥å¤‡åˆ›å»ºé›†ç¾¤æ—¶ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€\u003eâ€œä¿å­˜ä¸ºæ¨¡ç‰ˆâ€ï¼Œå°†å·²å­˜åœ¨çš„é›†ç¾¤é…ç½®ä¿å­˜ä¸ºæ¨¡ç‰ˆï¼Œä»¥ä¾¿åˆ›å»ºå‡ºå’Œè¯¥é›†ç¾¤åŒç­‰é…ç½®çš„ K8S é›†ç¾¤ã€‚\nåˆ›å»ºé›†ç¾¤ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€\u003eâ€œé›†ç¾¤â€ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºé›†ç¾¤â€æŒ‰é’®ï¼Œè¿›å…¥åˆ›å»ºé›†ç¾¤é¡µé¢ï¼Œå¡«å†™â€œé›†ç¾¤åç§°â€ï¼Œå¦‚â€œdemoâ€ï¼Œé€‰æ‹©ç¬¬ä¸€æ­¥ä¸­ä¿å­˜çš„é›†ç¾¤æ¨¡ç‰ˆï¼Œæ·»åŠ æ‰€éœ€èŠ‚ç‚¹ï¼Œç‚¹å‡»å³ä¸‹è§’â€œå¿«é€Ÿåˆ›å»ºâ€æŒ‰é’®ï¼Œè·³è½¬è‡³â€œé…ç½®ç¡®è®¤â€é¡µé¢ï¼Œæ ¸å¯¹æ¨¡ç‰ˆä¿¡æ¯æ— è¯¯åï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ï¼Œåˆ›å»ºé›†ç¾¤ã€‚\né›†ç¾¤é…ç½®æŒ‡å— èŠ‚ç‚¹é…ç½®æ­¥éª¤ åœ¨èŠ‚ç‚¹é…ç½®é¡µé¢ï¼Œæ‚¨å¯ä»¥å¯¹èŠ‚ç‚¹è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š\nåŒºåŸŸï¼šé›†ç¾¤æ‰€å±åŒºåŸŸï¼Œæ·»åŠ èŠ‚ç‚¹æ—¶å¯ä¸ºèŠ‚ç‚¹æŒ‡å®šç‰©ç†çš„æˆ–é€»è¾‘çš„åŒºåŸŸï¼Œä½¿ç”¨è¯¥åŒºåŸŸä¸‹èŠ‚ç‚¹åˆ›å»ºçš„ K8S é›†ç¾¤ä¹Ÿå±äºè¯¥åŒºåŸŸï¼Œä¸æ”¯æŒä½¿ç”¨è·¨åŒºåŸŸçš„å¤šä¸ªèŠ‚ç‚¹åˆ›å»ºé›†ç¾¤ã€‚\næ§åˆ¶èŠ‚ç‚¹ï¼šä¸ºé›†ç¾¤æŒ‡å®šå¥‡æ•°ä¸ªçš„æ§åˆ¶èŠ‚ç‚¹ï¼Œç”Ÿäº§ç¯å¢ƒä¸€èˆ¬ä½¿ç”¨3ä¸ªæ§åˆ¶èŠ‚ç‚¹ä»¥å®ç°é«˜å¯ç”¨ã€‚\nå·¥ä½œèŠ‚ç‚¹ï¼šæ ¹æ®ä¸šåŠ¡è§„æ¨¡ï¼Œä¸ºæ–°é›†ç¾¤æ·»åŠ å·¥ä½œèŠ‚ç‚¹ã€‚\næ±¡ç‚¹ç®¡ç†ï¼šæ‚¨å¯ä»¥ä¸ºå·²æ·»åŠ çš„èŠ‚ç‚¹é…ç½®æ±¡ç‚¹ï¼Œkubeclipper ä¼šè‡ªåŠ¨ä¸ºæ§åˆ¶èŠ‚ç‚¹æ·»åŠ ä¸å…è®¸è°ƒåº¦ï¼ˆnoscheduleï¼‰çš„æ±¡ç‚¹ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ›´æ”¹ã€‚\nèŠ‚ç‚¹æ ‡ç­¾ï¼šæ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä¸ºå·²æ·»åŠ çš„é›†ç¾¤èŠ‚ç‚¹é…ç½®æ ‡ç­¾ã€‚\næ‚¨å¯ä»¥æŒ‰ä¸šåŠ¡éœ€è¦é…ç½®æ‰€éœ€èŠ‚ç‚¹ã€‚å¦‚æœéœ€è¦åˆ›å»ºéé«˜å¯ç”¨çš„å®éªŒé›†ç¾¤ï¼Œä¹Ÿå¯ä»¥ä»…æ·»åŠ ä¸€ä¸ªæ§åˆ¶èŠ‚ç‚¹ï¼Œå¹¶å°†æ§åˆ¶èŠ‚ç‚¹è‡ªåŠ¨æ·»åŠ çš„æ±¡ç‚¹ç§»é™¤ï¼Œè¯¦ç»†æ“ä½œå‚è§â€œåˆ›å»ºå•èŠ‚ç‚¹å®éªŒé›†ç¾¤â€ã€‚\né›†ç¾¤é…ç½®æ­¥éª¤ åœ¨é›†ç¾¤é…ç½®é¡µé¢ï¼Œæ‚¨å¯ä»¥å¯¹é›†ç¾¤è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š\nå®‰è£…æ–¹å¼å’Œé•œåƒä»“åº“ï¼š é¡µé¢é…ç½® é…ç½®åŒ…/é•œåƒæ¥æº åœ¨çº¿ï¼ˆå…¬ç½‘ç¯å¢ƒï¼‰\né•œåƒä»“åº“ä¸ºç©º 1. é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚\n2. é•œåƒæ‹‰å–æ–¹å¼ï¼šé•œåƒé»˜è®¤ä»å®˜æ–¹é•œåƒä»“åº“æ‹‰å–ï¼Œå¦‚k8sé•œåƒä» k8s.gcr.io æ‹‰å–ã€calico ä» docker.io æ‹‰å–ã€‚ åœ¨çº¿ï¼ˆå…¬ç½‘ç¯å¢ƒï¼‰\né•œåƒä»“åº“æŒ‡å®š 1. é…ç½®åŒ…æ¥æºï¼šä» kubeclipper.io ä¸‹è½½ã€‚\n2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚ ç¦»çº¿ï¼ˆå†…ç½‘ç¯å¢ƒï¼‰\né•œåƒä»“åº“ä¸ºç©º 1. é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤serverèŠ‚ç‚¹ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚\n2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»æœ¬åœ° kubeclipper é›†ç¾¤serverèŠ‚ç‚¹ä¸‹è½½ï¼Œä¸‹è½½åç”±CRIè¿›è¡Œé•œåƒå¯¼å…¥ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é•œåƒåŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é•œåƒåŒ…ã€‚ ç¦»çº¿ï¼ˆå†…ç½‘ç¯å¢ƒï¼‰\né•œåƒä»“åº“æŒ‡å®š\n1. é…ç½®åŒ…æ¥æºï¼šä»æœ¬åœ°ä¸‹è½½ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kcctl resource list å‘½ä»¤æŸ¥çœ‹æœ¬åœ°å¯ç”¨é…ç½®åŒ…ï¼Œæˆ–ä½¿ç”¨ kcctl resource push å‘½ä»¤ä¸Šä¼ æ‰€éœ€é…ç½®åŒ…ã€‚\n2. é•œåƒæ‹‰å–æ–¹å¼ï¼šä»å¡«å†™çš„é•œåƒä»“åº“æ‹‰å–ï¼Œç»„ä»¶å°†é»˜è®¤ç»§æ‰¿è¯¥ä»“åº“åœ°å€ï¼Œè¯·ç¡®ä¿è¯¥ä»“åº“å­˜åœ¨ç›¸å…³ç»„ä»¶é•œåƒï¼›ç»„ä»¶ä¹Ÿä¼šæä¾›ç‹¬ç«‹çš„é•œåƒä»“åº“å‚æ•°ï¼Œè®¾ç½®åç»„ä»¶é•œåƒä»è¯¥åœ°å€æ‹‰å–ã€‚kubeclipper æä¾› Docker Registry æ–¹æ¡ˆï¼Œå¹¶ä½¿ç”¨ kcctl registry å‘½ä»¤è¡Œè¿›è¡Œç®¡ç†ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è‡ªæœ‰é•œåƒä»“åº“ã€‚ K8Sç‰ˆæœ¬ï¼šæŒ‡å®šé›†ç¾¤K8Sç‰ˆæœ¬ã€‚å½“æ‚¨é€‰æ‹©ç¦»çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä»å½“å‰ç¯å¢ƒä¸­é…ç½®åŒ…çš„K8Sç‰ˆæœ¬ä¸­é€‰æ‹©ï¼›å½“æ‚¨é€‰æ‹©åœ¨çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä» kubeclipper å®˜æ–¹æ¨èçš„ç‰ˆæœ¬ä¸­é€‰æ‹©ã€‚\nETCDæ•°æ®ç›®å½•ï¼šå¯æŒ‡å®šETCD æ•°æ®ç›®å½•ï¼Œé»˜è®¤ä¸º/var/lib/etcdã€‚\nCertSANsï¼šk8s é›†ç¾¤ ca è¯ä¹¦ç­¾åçš„ ip æˆ–è€…åŸŸåï¼Œå¯å¡«å†™å¤šä¸ªã€‚\nå®¹å™¨è¿è¡Œæ—¶ï¼šæ ¹æ®æŒ‡å®š K8S ç‰ˆæœ¬ï¼ŒK8S ç‰ˆæœ¬åœ¨ v1.20.0 ä¹‹å‰ï¼Œå®¹å™¨è¿è¡Œæ—¶é»˜è®¤ dockerï¼Œä¹‹åé»˜è®¤ containerdï¼›v1.24.0 ä¹‹åä¸æ”¯æŒ dockerã€‚\nå®¹å™¨è¿è¡Œæ—¶ç‰ˆæœ¬ï¼šæŒ‡å®šcontainerd / dockerç‰ˆæœ¬ã€‚ä¸ K8S ç›¸åŒï¼Œå½“æ‚¨é€‰æ‹©ç¦»çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä»å½“å‰ç¯å¢ƒä¸­é…ç½®åŒ…çš„ç‰ˆæœ¬ä¸­é€‰æ‹©ï¼›å½“æ‚¨é€‰æ‹©åœ¨çº¿å®‰è£…çš„æ—¶å€™ï¼Œå¯ä»¥ä» kubeclipper å®˜æ–¹æ¨èçš„ç‰ˆæœ¬ä¸­é€‰æ‹©ã€‚\nContainerd æ•°æ®ç›®å½•ï¼šå¯å¡«å†™config.toml é…ç½®ä¸­çš„ root dirï¼Œé»˜è®¤ä¸º/var/lib/containerdã€‚\nDockeræ•°æ®ç›®å½•ï¼šå¯å¡«å†™daemon.json é…ç½®ä¸­çš„ root dirï¼Œé»˜è®¤ä¸º/var/lib/dockerã€‚\nContainerd é•œåƒä»“åº“ï¼šå­˜æ”¾containerdé•œåƒçš„ä»“åº“åœ°å€ï¼Œconfig.toml é…ç½®ä¸­çš„ registry.mirrorsï¼Œå¯å¡«å†™å¤šä¸ªã€‚\nDockeré•œåƒä»“åº“ï¼šå­˜æ”¾dockeré•œåƒçš„ä»“åº“åœ°å€ï¼Œdaemon.json é…ç½®ä¸­çš„ insecure registry,å¯å¡«å†™å¤šä¸ªã€‚\nDNS åŸŸåï¼šk8s é›†ç¾¤çš„åŸŸåï¼Œé»˜è®¤ä¸ºcluster.localã€‚\nWorker è´Ÿè½½ IPï¼šç”¨äº worker èŠ‚ç‚¹åˆ°å¤šmasterçš„è´Ÿè½½å‡è¡¡ï¼Œå•ä¸€masterä¸éœ€è¦è®¾ç½®ã€‚\nå¤–éƒ¨è®¿é—®IPï¼šå¯ä»¥å¡«å†™ä¸€ä¸ªæµ®åŠ¨ IP ç»™ç”¨æˆ·è®¿é—®ï¼Œå¯ä¸ºç©ºã€‚\nCNIé…ç½® å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒCalicoä½œä¸ºé›†ç¾¤CNIã€‚\nCalicoå°†ç”¨æˆ·è®¾ç½®çš„pod cidråˆ†ä¸ºè‹¥å¹²ä¸ªblock(ç½‘æ®µ)ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€çš„åˆ†é…ç»™éœ€è¦çš„èŠ‚ç‚¹ï¼Œå¹¶åœ¨èŠ‚ç‚¹ä¸­é€šè¿‡ bgp peerç»´æŠ¤é›†ç¾¤èŠ‚ç‚¹çš„è·¯ç”±è¡¨ã€‚\nä¾‹å¦‚ï¼šå®¹å™¨çš„åœ°å€æ± ï¼š172.25.0.0/16ï¼ŒåŠ¨æ€åˆ†é…çš„ç½‘æ®µæ± : 172.25.0.0 - 172.25.255.192 (172.25.0.0/26 å³ 10 ä¸ªæ¯”ç‰¹ä½)ï¼ŒåŠ¨æ€åˆ†é…çš„ç½‘æ®µæ•°: 1023ï¼Œæ¯ä¸ªç½‘æ®µçš„podæ•°é‡ä¸º: 61 (193-254)ï¼Œæ€»podæ•°é‡ä¸º1023 * 61 = 62403ï¼Œç›¸å¯¹æœ€å¤§èŠ‚ç‚¹æ•°(æŒ‰ç…§200ä¸šåŠ¡podä¸ºåŸºå‡†å€¼)ï¼š312ã€‚\nç›®å‰ä¸å»ºè®®å¤§äº50ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ï¼Œå¤§äº50ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤å»ºè®®æ‰‹åŠ¨é…ç½®route reflectionï¼Œç”¨æ¥ä¼˜åŒ–é›†ç¾¤ä¸­çš„èŠ‚ç‚¹çš„è·¯ç”±è¡¨ç»´æŠ¤çš„ç¨³å®šæ€§ã€‚\nä½¿ç”¨Calicoä½œä¸ºé›†ç¾¤CNIï¼Œæ‚¨éœ€è¦è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š\nCalico æ¨¡å¼ï¼šæ”¯æŒ5ç§ç½‘ç»œæ¨¡å¼ï¼š\nOverlay-IPIP-All: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨åº•å±‚å¹³å°æ˜¯ iaas çš„ç¯å¢ƒä¹‹ä¸­,å½“ç„¶å¦‚æœä½ åº•å±‚ç½‘è·¯ç¯å¢ƒç›´æ¥æ˜¯ç‰©ç†è®¾å¤‡çš„ä¹Ÿå®Œå…¨å¯ä»¥ä½¿ç”¨åªä¸è¿‡æ•ˆç‡å’Œçµæ´»åº¦éƒ½ä¼šå¤§æ‰“æŠ˜æ‰£,éœ€è¦æ³¨æ„çš„æ˜¯ä½ éœ€è¦ç¡®è®¤åº•å±‚ç½‘ç»œç¯å¢ƒ(underlay)æ˜¯æ”¯æŒ IPIP åè®®çš„.(ä½¿ç”¨overlayçš„ç½‘ç»œæ–¹å¼å¯¹ç½‘ç»œæ€§èƒ½é€ æˆä¸€å®šçš„å½±å“)ã€‚\nOverlay-Vxlan-All: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨åº•å±‚å¹³å°æ˜¯ iaas çš„ç¯å¢ƒä¹‹ä¸­,å½“ç„¶å¦‚æœä½ åº•å±‚ç½‘è·¯ç¯å¢ƒç›´æ¥æ˜¯ç‰©ç†è®¾å¤‡çš„ä¹Ÿå®Œå…¨å¯ä»¥ä½¿ç”¨åªä¸è¿‡æ•ˆç‡å’Œçµæ´»åº¦éƒ½ä¼šå¤§æ‰“æŠ˜æ‰£,ä»–ç†è®ºä¸Šå¯ä»¥åœ¨ä»»ä½•çš„ç½‘ç»œç¯å¢ƒä¸Šè¿è¡Œ,é€šå¸¸åœ¨åº•å±‚ç¯å¢ƒä¸æ”¯æŒ IPIP åè®®çš„æ—¶å€™æˆ‘ä»¬ä¼šä½¿ç”¨ä»–.(ä½¿ç”¨overlayçš„ç½‘ç»œæ–¹å¼å¯¹ç½‘ç»œæ€§èƒ½é€ æˆä¸€å®šçš„å½±å“)ã€‚\nBGP: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨è£¸æœºçš„ç¯å¢ƒä¸Š,å½“ç„¶åº• Iaas å¹³å°æ”¯æŒ BGP çš„è¯ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„,è¿™ç§æ¨¡å¼ä¸‹ pod çš„ ip é€šä¿¡æ˜¯é€šè¿‡ é›†ç¾¤ä¸­çš„å„ä¸ªèŠ‚ç‚¹ä¸­äº’ç›¸äº¤æ¢è·¯ç”±è¡¨æ¥å®Œæˆ pod ä¹‹é—´çš„é€šä¿¡çš„,å¦‚æœä½ éœ€è¦æ‰‹åŠ¨æ‰“é€šå¤šä¸ªé›†ç¾¤ä¹‹é—´çš„ pod ç½‘ç»œéœ€è¦æ³¨æ„ä½ åˆ†é…çš„åœ°å€æ–­ä¸åº”è¯¥æœ‰å†²çªã€‚\nOveraly-IPIP-Cross-Subnet: ä½¿ç”¨ IP-in-IP æŠ€æœ¯æ‰“é€šä¸åŒèŠ‚ç‚¹çš„ pod çš„ç½‘ç»œ,é€šå¸¸è¿™æ ·çš„æ–¹å¼ä½¿ç”¨åœ¨åº•å±‚å¹³å°æ˜¯ iaas çš„ç¯å¢ƒä¹‹ä¸­,éœ€è¦æ³¨æ„çš„æ˜¯ä½ éœ€è¦ç¡®è®¤åº•å±‚ç½‘ç»œç¯å¢ƒ(underlay)æ˜¯æ”¯æŒ IPIP åè®®çš„.å’Œ Overlay-IPIP-All çš„ä¸åŒä¹‹å¤„åœ¨äº,å¦‚æœ 2 ä¸ªä¸åŒèŠ‚ç‚¹ä½†åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­çš„ä¸Š pod äº’ç›¸é€šä¿¡æ—¶æ˜¯é€šè¿‡è·¯ç”±è¡¨,è¿™æ ·å¯ä»¥æé«˜åœ¨ä¸åŒèŠ‚ç‚¹ä½†åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­çš„ä¸Š pod äº’ç›¸é€šä¿¡æ—¶çš„æ•ˆç‡ã€‚\nOveraly-Vxlan-Cross-Subnet: å’Œ Overaly-IPIP-Cross-Subnet é€»è¾‘ç›¸ä¼¼ä¸å†åšé‡å¤çš„è§£é‡Šã€‚\nIPç‰ˆæœ¬ï¼šå¯æŒ‡å®šIPç‰ˆæœ¬ä¸ºIPV4æˆ–IPV4 IPV6åŒæ ˆã€‚\næœåŠ¡å­ç½‘ï¼šå¡«å†™serviceå­ç½‘CIDRï¼Œv4é»˜è®¤ä¸ºï¼š10.96.0.0/16ï¼Œv6é»˜è®¤ä¸ºfd03::/112ï¼Œæ³¨æ„Serviceç½‘ç»œä¸å¾—ä¸ä»»ä½•ä¸»æœºç½‘ç»œé‡å ã€‚\nPod CIDRï¼šå¡«å†™podå­ç½‘CIDRï¼Œv4é»˜è®¤ï¼š172.25.0.0/24ï¼Œv6é»˜è®¤ä¸ºfd05::/120ï¼Œæ³¨æ„Pod ç½‘ç»œä¸å¾—ä¸ä»»ä½•ä¸»æœºç½‘ç»œé‡å ã€‚\npodç½‘è·¯çš„åº•å±‚ï¼š\nfirst-foundï¼ˆé»˜è®¤ï¼‰ï¼šç¨‹åºä¼šæ ¹æ®ipfamily(v4æˆ–v6)éå†æ‰€æœ‰çš„æœ‰æ•ˆçš„ipåœ°å€(local,loop backï¼Œdocker bridgeç­‰ä¼šè¢«è‡ªåŠ¨æ’é™¤)é€šå¸¸å¦‚æœæ˜¯å¤šç½‘å¡æ—¶ä¼šæ’é™¤é»˜è®¤ç½‘å…³ä»¥å¤–çš„ç½‘å¡çš„ipä½œä¸ºèŠ‚ç‚¹ä¹‹é—´çš„è·¯ç”±åœ°å€ã€‚\ncan-reachï¼šé€šè¿‡æ£€æŸ¥åŸŸåæˆ–è€…ipçš„å¯è¾¾æ€§æ¥è®¾ç½®èŠ‚ç‚¹ä¹‹é—´çš„è·¯ç”±åœ°å€ã€‚\ninterfaceï¼šæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼è·å–æ‰€æœ‰æ»¡è¶³çš„ç½‘å¡è®¾å¤‡åç§°å¹¶è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³è¡¨è¾¾å¼ç½‘å¡çš„åœ°å€ä½œä¸ºèŠ‚ç‚¹ä¹‹é—´çš„è·¯ç”±åœ°å€ã€‚\nMTUï¼šä¸ºCalicoç¯å¢ƒé…ç½®æœ€å¤§ä¼ è¾“å•å…ƒ(MTU)ï¼Œå»ºè®®ä¸å¤§äº1440ï¼Œé»˜è®¤ä¸º1440ï¼Œè¯¦æƒ…è§ Configure MTU to maximize network performanceã€‚\nå­˜å‚¨é…ç½® Kubeclipperå½“å‰ç‰ˆæœ¬å†…ç½®äº† NFSã€Ceph ä¸¤ç§å¤–æ¥å­˜å‚¨ç±»å‹ã€‚\nå¯¹æ¥NFSå­˜å‚¨ å¯¹æ¥NFSç±»å‹çš„å¤–æ¥å­˜å‚¨ï¼Œæ‚¨éœ€è¦è®¾ç½®ä»¥ä¸‹å†…å®¹ï¼š\nå­—æ®µ ä½œç”¨è¯´æ˜ å¡«å†™è¯´æ˜/å¯é€‰é¡¹ æœåŠ¡åœ°å€ ServerAddrï¼ŒNFSçš„æœåŠ¡åœ°å€ å¿…å¡« å…±äº«è·¯å¾„ SharedPathï¼ŒNFSçš„æœåŠ¡æŒ‚è½½è·¯å¾„ å¿…å¡« å­˜å‚¨ç±» StorageClassNameï¼Œå­˜å‚¨ç±»çš„åç§° é»˜è®¤ä¸º nfs-scï¼Œå¯è‡ªå®šä¹‰åç§°ï¼Œä¸å¯ä¸é›†ç¾¤å…¶ä»–å­˜å‚¨ç±»é‡å¤ å›æ”¶ç­–ç•¥ ReclaimPolicyï¼ŒVPCå›æ”¶ç­–ç•¥ åˆ é™¤ Delete / ä¿ç•™ Retain åˆ é™¤åå½’æ¡£ ArchiveOnDeleteï¼Œæ˜¯å¦åœ¨åˆ é™¤åå½’æ¡£PVC æ˜¯ / å¦ æŒ‚è½½é€‰é¡¹ MountOptionsï¼ŒNFS çš„ options å‚æ•°ï¼Œå¦‚nfsvers=4.1 é€‰å¡«ï¼Œå¯å¡«å†™å¤šä¸ª å‰¯æœ¬æ•° Replicasï¼ŒNFS provisionerå‰¯æœ¬æ•° é»˜è®¤ä¸º1 NFSç±»å‹çš„å­˜å‚¨é»˜è®¤å¯å¯¹æ¥å¤šä¸ªï¼Œç‚¹å‡»ä¸‹æ–¹â€œç»§ç»­æ·»åŠ â€æŒ‰é’®ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªNFSå­˜å‚¨ï¼Œæ³¨æ„å­˜å‚¨ç±»åç§°ä¸å¯é‡å¤ã€‚\nè®¾ç½®å®Œå¤–æ¥å­˜å‚¨åï¼Œä¸‹æ–¹å¡ç‰‡ä¼šæ˜¾ç¤ºæ‚¨å·²ç»å¼€å¯çš„å­˜å‚¨ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä¸€ä¸ªå­˜å‚¨ç±»ä½œä¸ºé»˜è®¤å­˜å‚¨ï¼Œå¯¹äºæœªæŒ‡å®šç‰¹å®šStorageClass çš„ PVC ï¼Œä¼šç›´æ¥ä½¿ç”¨é»˜è®¤çš„å­˜å‚¨ç±»ã€‚\né›†ç¾¤æ“ä½œæ—¥å¿—æŸ¥çœ‹ åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢ï¼Œç‚¹å‡»â€œæ“ä½œæ—¥å¿—â€æ ‡ç­¾é¡µï¼Œå¯ä»¥æŸ¥çœ‹é›†ç¾¤æ“ä½œæ—¥å¿—åˆ—è¡¨ã€‚ç‚¹å‡»æ“ä½œæ—¥å¿—å³ä¾§â€œæŸ¥çœ‹æ—¥å¿—â€æŒ‰é’®ï¼Œå¯ä»¥åœ¨å¼¹çª—ä¸­æŸ¥çœ‹å…¨éƒ¨æ­¥éª¤å’ŒèŠ‚ç‚¹çš„è¯¦ç»†æ—¥å¿—ã€‚ç‚¹å‡»å·¦ä¾§æ­¥éª¤åç§°ï¼Œå¯æŸ¥çœ‹æ‰§è¡Œæ­¥éª¤è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºã€‚\nåœ¨é›†ç¾¤æ“ä½œæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç‚¹å‡»æŸ¥çœ‹æ—¥å¿—ï¼Œæ‚¨å¯ä»¥å®æ—¶æŸ¥çœ‹åˆ°æ—¥å¿—æ›´æ–°æ¥è·Ÿè¸ªæ“ä½œæ‰§è¡Œæƒ…å†µã€‚å¯¹äºæ‰§è¡Œå¤±è´¥çš„ä»»åŠ¡ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹æ—¥å¿—ï¼Œæ‰¾åˆ°çº¢è‰²åœ†ç‚¹æ ‡æ³¨çš„æ‰§è¡Œæ­¥éª¤å’ŒèŠ‚ç‚¹ï¼Œå¿«é€Ÿå®šä½é”™è¯¯ï¼Œæ’æŸ¥æ“ä½œå¤±è´¥åŸå› ã€‚\nè®¿é—®é›†ç¾¤ kubectl æ‚¨å¯ä»¥è®¿é—®è¿è¡Œä¸­é›†ç¾¤çš„ kubectlï¼Œç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€\u003eâ€œè¿æ¥ç»ˆç«¯â€ï¼Œå°±å¯ä»¥åœ¨é›†ç¾¤ kuebectl å¼¹çª—ä¸­æ‰§è¡Œ kubectl å‘½ä»¤è¡Œæ“ä½œã€‚\né›†ç¾¤æ’ä»¶ç®¡ç† é™¤äº†åœ¨åˆ›å»ºé›†ç¾¤æ—¶å®‰è£…æ’ä»¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä¸ºè¿è¡Œä¸­çš„é›†ç¾¤å®‰è£…å­˜å‚¨å’Œå…¶ä»–è‡ªå®šä¹‰æ’ä»¶ã€‚ä»¥å®‰è£…å­˜å‚¨æ’ä»¶ä¸ºä¾‹ï¼Œç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€\u003eâ€œæ·»åŠ å­˜å‚¨é¡¹â€æŒ‰é’®ï¼Œè¿›å…¥æ·»åŠ å­˜å‚¨é¡¹é¡µé¢ï¼Œå¯ä»¥ä¸ºé›†ç¾¤å®‰è£… NFS æˆ–Ceph ç±»å‹çš„å­˜å‚¨æ’ä»¶ï¼Œå®‰è£…é…ç½®ä¸åˆ›å»ºé›†ç¾¤ä¸­çš„é…ç½®ç›¸åŒã€‚\nå¯¹äºå·²å®‰è£…çš„æ’ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µæŸ¥çœ‹æ’ä»¶ä¿¡æ¯ã€‚å¯ä»¥ç‚¹å‡»æ’ä»¶å¡ç‰‡å³ä¸Šè§’çš„â€œä¿å­˜ä¸ºæ¨¡ç‰ˆâ€æŒ‰é’®ï¼Œå°†æ’ä»¶ä¿¡æ¯ä¿å­˜ä¸ºæ¨¡ç‰ˆï¼Œä»¥ä¾¿ä¸ºå…¶ä»–é›†ç¾¤ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥ç‚¹å‡»æ’ä»¶å¡ç‰‡å³ä¸Šè§’çš„â€œç§»é™¤â€æŒ‰é’®ï¼Œå¸è½½é›†ç¾¤æ’ä»¶ã€‚\né›†ç¾¤èŠ‚ç‚¹ç®¡ç† åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„â€œèŠ‚ç‚¹â€åˆ—è¡¨é¡µé¢ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å½“å‰é›†ç¾¤ä¸­çš„èŠ‚ç‚¹åˆ—è¡¨ï¼ŒèŠ‚ç‚¹çš„è§„æ ¼ã€çŠ¶æ€å’Œè§’è‰²ä¿¡æ¯ã€‚\næ·»åŠ é›†ç¾¤èŠ‚ç‚¹ å½“é›†ç¾¤è´Ÿè½½è¾ƒé«˜æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸ºé›†ç¾¤æ·»åŠ èŠ‚ç‚¹æ¥è¾¾åˆ°ä¸»åŠ¨æ‰©å®¹çš„ç›®çš„ï¼Œæ·»åŠ æ–°çš„â€œèŠ‚ç‚¹â€ä¸ä¼šå½±å“ç°æœ‰çš„ä¸šåŠ¡çš„è¿è¡Œã€‚\nåœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„èŠ‚ç‚¹åˆ—è¡¨æ ‡ç­¾é¡µä¸‹ï¼Œç‚¹å‡»å·¦ä¾§çš„â€œæ·»åŠ èŠ‚ç‚¹â€æŒ‰é’®ï¼Œåœ¨å¼¹çª—ä¸­é€‰æ‹©å¯ç”¨èŠ‚ç‚¹ï¼Œè®¾ç½®èŠ‚ç‚¹æ ‡ç­¾ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒæ·»åŠ å·¥ä½œèŠ‚ç‚¹ã€‚\nç§»é™¤é›†ç¾¤èŠ‚ç‚¹ åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„èŠ‚ç‚¹åˆ—è¡¨æ ‡ç­¾é¡µä¸‹ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»èŠ‚ç‚¹å³ä¾§çš„ â€œç§»é™¤â€æŒ‰é’®ç§»é™¤èŠ‚ç‚¹ã€‚å½“å‰ç‰ˆæœ¬ä»…æ”¯æŒç§»é™¤å·¥ä½œèŠ‚ç‚¹ã€‚\næ³¨æ„ï¼šç§»é™¤é›†ç¾¤èŠ‚ç‚¹ï¼Œæ‚¨éœ€è¦æ³¨æ„ç”Ÿäº§ä¸­çš„å®‰å…¨é—®é¢˜ï¼Œé¿å…åº”ç”¨å‘ç”Ÿä¸­æ–­ã€‚\né›†ç¾¤ç‰ˆæœ¬å‡çº§ å½“é›†ç¾¤ç‰ˆæœ¬ä¸æ»¡è¶³éœ€è¦ï¼Œæ‚¨å¯ä»¥ä¸ºé›†ç¾¤å‡çº§ K8S ç‰ˆæœ¬ã€‚ä¸åˆ›å»ºé›†ç¾¤ä¸€æ ·ï¼Œæ‚¨éœ€è¦å‡†å¤‡å¥½é›†ç¾¤ç‰ˆæœ¬æ‰€éœ€é…ç½®åŒ…å’Œç›®æ ‡ç‰ˆæœ¬çš„ K8S é•œåƒå¹¶ä¸Šä¼ è‡³æŒ‡å®šä½ç½®ï¼Œè¯¦æƒ…å‚è§â€œåˆ›å»ºé›†ç¾¤å‡†å¤‡å·¥ä½œâ€ã€‚\nç‚¹å‡»é›†ç¾¤æ“ä½œçš„â€œæ›´å¤šâ€\u003eâ€œé›†ç¾¤å‡çº§â€æŒ‰é’®ï¼Œåœ¨é›†ç¾¤å‡çº§å¼¹çª—ä¸­é€‰æ‹©å®‰è£…æ–¹å¼å’Œé•œåƒä»“åº“ï¼Œé€‰æ‹©å‡çº§çš„ç›®æ ‡ç‰ˆæœ¬ï¼Œå‡çº§çš„å®‰è£…æ–¹å¼å’Œ K8S ç‰ˆæœ¬çš„é…ç½®ä¸åˆ›å»ºé›†ç¾¤ç›¸åŒï¼Œè¯¦æƒ…å‚è§â€œé›†ç¾¤é…ç½®æŒ‡å—â€ã€‚\né›†ç¾¤å‡çº§å¯ä»¥è·¨å°ç‰ˆæœ¬ï¼Œä½†ä¸æ”¯æŒç•¥è¿‡æ¬¡ç‰ˆæœ¬çš„å‡çº§ï¼Œå¦‚æ‚¨å¯ä»¥ä»v1.20.2å‡çº§åˆ°v1.20.13ï¼Œæˆ–ç”±v1.20.xå‡çº§åˆ°v1.21.xï¼Œä½†ä¸æ”¯æŒä»v1.20.xå‡çº§åˆ°v1.22.xã€‚å¯¹äº1.23.xç‰ˆæœ¬ï¼Œæš‚ä¸æ”¯æŒå‡çº§åˆ°1.24.xç‰ˆæœ¬ã€‚\nå‡çº§é›†ç¾¤æ“ä½œå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢æŸ¥çœ‹æ“ä½œæ—¥å¿—ï¼Œè·Ÿè¸ªé›†ç¾¤å‡çº§çŠ¶æ€ã€‚\né›†ç¾¤å¤‡ä»½ä¸æ¢å¤ KubeClipper å¯¹ k8s é›†ç¾¤çš„å¤‡ä»½ä¸»è¦ä¸ºå¤‡ä»½ ETCD æ•°æ®åº“æ•°æ®ï¼Œä»¥åŠ k8s çš„èµ„æºå¯¹è±¡å¤‡ä»½ï¼Œå¦‚ namespaceï¼Œdeploymentã€configMapã€‚å¯¹èµ„æºè‡ªèº«äº§ç”Ÿçš„æ–‡ä»¶å’Œæ•°æ®ä¸åšå¤‡ä»½ï¼Œä¾‹å¦‚å¯¹é›†ç¾¤ä¸­è¿è¡Œçš„ mysql podï¼Œè¯¥ mysql pod äº§ç”Ÿçš„æ•°æ®å’Œæ–‡ä»¶ï¼Œä¸ä¼šä¸ºä¹‹å¤‡ä»½ï¼ŒåŒç†ï¼Œæ–‡ä»¶ç±»çš„ pv å¯¹è±¡ä¸‹çš„æ–‡ä»¶ï¼Œä¹Ÿä¸åšå¤‡ä»½ï¼Œä»…ä»…å¤‡ä»½ pv è¿™ä¸ªå¯¹è±¡ã€‚KubeClipper æä¾›çš„å¤‡ä»½åŠŸèƒ½æ˜¯çƒ­å¤‡ä»½ï¼Œå¤‡ä»½æœŸé—´ä¸å½±å“é›†ç¾¤çš„ä½¿ç”¨ã€‚KubeClipper è™½ç„¶ä¸åå¯¹åœ¨é›†ç¾¤ â€œç¹å¿™æœŸâ€ å¤‡ä»½ï¼Œä½†ä¹Ÿå¼ºçƒˆä¸èµæˆåœ¨é›†ç¾¤ â€œç¹å¿™æœŸâ€ å¤‡ä»½ã€‚\nåˆ›å»ºå¤‡ä»½ç‚¹ æ‰§è¡Œå¤‡ä»½ä¹‹å‰ï¼Œæ‚¨éœ€è¦å…ˆä¸ºé›†ç¾¤è®¾ç½®å¤‡ä»½ç‚¹ï¼Œå³è®¾ç½®å¤‡ä»½æ–‡ä»¶çš„å­˜å‚¨ä½ç½®ã€‚å¤‡ä»½ç‚¹çš„å­˜å‚¨ç±»å‹å¯ä»¥æ˜¯FS å­˜å‚¨æˆ– S3 å­˜å‚¨ï¼Œä¸‹é¢ä»¥èŠ‚ç‚¹æœ¬åœ°å­˜å‚¨ã€NFS å­˜å‚¨å’Œ MINIO å­˜å‚¨ä¸ºä¾‹ï¼š\nèŠ‚ç‚¹æœ¬åœ°å­˜å‚¨**ï¼ˆä»…é€‚ç”¨å•èŠ‚ç‚¹å®éªŒé›†ç¾¤ï¼‰ï¼š**\nåˆ›å»ºå­˜å‚¨ç›®å½•ã€‚è¿æ¥é›†ç¾¤ master èŠ‚ç‚¹ç»ˆç«¯ï¼ˆå¯å‚è§è¿æ¥èŠ‚ç‚¹ç»ˆç«¯ï¼‰ï¼Œä½¿ç”¨ mkdir å‘½ä»¤ï¼Œåœ¨ master èŠ‚ç‚¹ä¸­åˆ›å»ºâ€œ/root/backupâ€ç›®å½•ã€‚\nåˆ›å»ºå¤‡ä»½ç‚¹ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€\u003eâ€œå¤‡ä»½ç‚¹â€ï¼Œè¿›å…¥å¤‡ä»½ç‚¹åˆ—è¡¨é¡µï¼Œç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨åˆ›å»ºå¤‡ä»½ç‚¹å¼¹çª—ä¸­ï¼Œè¾“å…¥â€œå¤‡ä»½ç‚¹åç§°â€ï¼Œå¦‚â€œlocalâ€ï¼Œé€‰æ‹©â€œå­˜å‚¨ç±»å‹â€ä¸ºâ€œFSâ€ï¼Œå¡«å†™â€œå¤‡ä»½è·¯å¾„â€ï¼Œå¦‚â€œ/root/backupâ€ã€‚\nè®¾ç½®é›†ç¾¤å¤‡ä»½ç‚¹ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢é€‰æ‹©â€œå¤‡ä»½ç‚¹â€ä¸ºâ€œlocalâ€ï¼Œæˆ–è€…ç¼–è¾‘å·²æœ‰é›†ç¾¤ï¼Œåœ¨ç¼–è¾‘é›†ç¾¤å¼¹çª—ä¸­çš„â€œå¤‡ä»½ç‚¹â€ä¸­é€‰æ‹©â€œlocalâ€ã€‚\næ³¨æ„ï¼šä½¿ç”¨æœ¬åœ°èŠ‚ç‚¹å­˜å‚¨å¤‡ä»½æ–‡ä»¶ï¼Œä¸éœ€è¦å¼•å…¥å¤–éƒ¨å­˜å‚¨ï¼Œç¼ºç‚¹æ˜¯å¦‚æœæœ¬åœ°èŠ‚ç‚¹é­åˆ°ç ´åï¼Œå¤‡ä»½æ–‡ä»¶ä¹Ÿä¼šä¸¢å¤±ï¼Œæ‰€ä»¥å¼ºçƒˆä¸èµæˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚\nNFSï¼š\nå‡†å¤‡ NFS å­˜å‚¨ã€‚å‡†å¤‡ä¸€å° NFS æœåŠ¡ï¼Œå¹¶åœ¨ NFS æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªç”¨äºå­˜æ”¾å¤‡ä»½æ–‡ä»¶çš„ç›®å½•ï¼Œå¦‚ â€œ/data/kubeclipper/cluster-backupsâ€ã€‚\næŒ‚è½½å­˜å‚¨ç›®å½•ã€‚è¿æ¥é›†ç¾¤ master èŠ‚ç‚¹ç»ˆç«¯ï¼ˆå¯å‚è§è¿æ¥èŠ‚ç‚¹ç»ˆç«¯ï¼‰ï¼Œä½¿ç”¨ mkdir å‘½ä»¤ï¼Œåœ¨æ¯ä¸ª master èŠ‚ç‚¹ä¸­åˆ›å»ºâ€œ/data/kubeclipper/cluster-backupsâ€ç›®å½•ï¼Œå¹¶ mount åˆ° NFS æœåŠ¡å™¨çš„ /data/kubeclipper/cluster-backups ç›®å½•å³å¯ï¼Œå‘½ä»¤ç¤ºä¾‹ï¼šmount -t nfs { NFS_IP }:/data/kubeclipper/cluster-backups /opt/kubeclipper/cluster-backups -o proto=tcp -o nolockã€‚\nåˆ›å»ºå¤‡ä»½ç‚¹ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€\u003eâ€œå¤‡ä»½ç‚¹â€ï¼Œè¿›å…¥å¤‡ä»½ç‚¹åˆ—è¡¨é¡µï¼Œç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨åˆ›å»ºå¤‡ä»½ç‚¹å¼¹çª—ä¸­ï¼Œè¾“å…¥â€œå¤‡ä»½ç‚¹åç§°â€ï¼Œå¦‚â€œnfsâ€ï¼Œé€‰æ‹©â€œå­˜å‚¨ç±»å‹â€ä¸ºâ€œFSâ€ï¼Œå¡«å†™â€œå¤‡ä»½è·¯å¾„â€ä¸ºâ€œ/opt/kubeclipper/cluster-backupsâ€ã€‚\nè®¾ç½®é›†ç¾¤å¤‡ä»½ç‚¹ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢é€‰æ‹©â€œå¤‡ä»½ç‚¹â€ä¸ºâ€œnfsâ€ï¼Œæˆ–è€…ç¼–è¾‘å·²æœ‰é›†ç¾¤ï¼Œåœ¨ç¼–è¾‘é›†ç¾¤å¼¹çª—ä¸­çš„â€œå¤‡ä»½ç‚¹â€ä¸­é€‰æ‹©â€œnfsâ€ã€‚\nMINIOï¼š\nå‡†å¤‡ MINIO å­˜å‚¨ã€‚æ­å»º MINIO æœåŠ¡ï¼Œéƒ¨ç½²è¿‡ç¨‹å‚è€ƒå®˜ç½‘ https://docs.min.io/docs/minio-quickstart-guide.htmlï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å·²æœ‰ MINIO æœåŠ¡ã€‚\nåˆ›å»ºå¤‡ä»½ç‚¹ã€‚ç‚¹å‡»â€œé›†ç¾¤ç®¡ç†â€\u003eâ€œå¤‡ä»½ç‚¹â€ï¼Œè¿›å…¥å¤‡ä»½ç‚¹åˆ—è¡¨é¡µï¼Œç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨åˆ›å»ºå¤‡ä»½ç‚¹å¼¹çª—ä¸­ï¼Œè¾“å…¥â€œå¤‡ä»½ç‚¹åç§°â€ï¼Œå¦‚â€œminioâ€ï¼Œé€‰æ‹©â€œå­˜å‚¨ç±»å‹â€ä¸ºâ€œS3â€ï¼Œå¡«å†™â€œbucket åç§°â€ï¼Œå¦‚ â€œkubeclipper-backupsâ€ï¼Œè¯¥ bucket å°†ç”± kubeclipper è‡ªåŠ¨åˆ›å»ºï¼Œâ€œEndpointâ€ä¸­å¡«å†™ç¬¬ä¸€æ­¥ MINIO å­˜å‚¨æœåŠ¡çš„ ip å’Œç«¯å£å·ï¼Œå¡«å†™æœåŠ¡ç”¨æˆ·åå’Œå¯†ç ï¼Œç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚\nè®¾ç½®é›†ç¾¤å¤‡ä»½ç‚¹ã€‚åˆ›å»ºé›†ç¾¤æ—¶ï¼Œåœ¨â€œé›†ç¾¤é…ç½®â€é¡µé¢é€‰æ‹©â€œå¤‡ä»½ç‚¹â€ä¸ºâ€œminioâ€ï¼Œæˆ–è€…ç¼–è¾‘å·²æœ‰é›†ç¾¤ï¼Œåœ¨ç¼–è¾‘é›†ç¾¤å¼¹çª—ä¸­çš„â€œå¤‡ä»½ç‚¹â€ä¸­é€‰æ‹©â€œminioâ€ã€‚\næ‚¨å¯ä»¥åœ¨â€œé›†ç¾¤ç®¡ç†â€çš„â€œå¤‡ä»½ç‚¹â€é¡µé¢æŸ¥çœ‹æ‰€æœ‰å¤‡ä»½ç‚¹åˆ—è¡¨å’Œè¯¦ç»†ä¿¡æ¯ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\nç¼–è¾‘ï¼šç¼–è¾‘å¤‡ä»½ç‚¹æè¿°ï¼Œå’Œ S3 ç±»å‹å¤‡ä»½ç‚¹çš„ç”¨æˆ·å/å¯†ç ã€‚\nåˆ é™¤ï¼šåˆ é™¤å¤‡ä»½ç‚¹ï¼Œå¤‡ä»½ç‚¹ä¸‹å­˜åœ¨å¤‡ä»½æ–‡ä»¶çš„ï¼Œä¸å…è®¸åˆ é™¤ã€‚\né›†ç¾¤å¤‡ä»½ æ‚¨å¯ä»¥ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€\u003eâ€œé›†ç¾¤å¤‡ä»½â€æŒ‰é’®ï¼Œå¤‡ä»½é›†ç¾¤ ETCD æ•°æ®ã€‚\næ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µé¢çš„å¤‡ä»½æ ‡ç­¾é¡µä¸‹ï¼ŒæŸ¥çœ‹å½“å‰é›†ç¾¤çš„æ‰€æœ‰å¤‡ä»½æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å¯¹å¤‡ä»½æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\nç¼–è¾‘ï¼šç¼–è¾‘å¤‡ä»½æè¿°ã€‚\næ¢å¤ï¼šæ‰§è¡Œé›†ç¾¤æ¢å¤æ“ä½œï¼Œå°†é›†ç¾¤æ¢å¤è‡³æŒ‡å®šå¤‡ä»½çŠ¶æ€ã€‚\nåˆ é™¤ï¼šåˆ é™¤æŒ‡å®šå¤‡ä»½æ–‡ä»¶ã€‚\nå®šæ—¶å¤‡ä»½ æ‚¨ä¹Ÿå¯ä»¥ä¸ºé›†ç¾¤åˆ›å»ºå®šæ—¶å¤‡ä»½ï¼Œç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€\u003eâ€œå®šæ—¶å¤‡ä»½â€æŒ‰é’®ï¼Œåœ¨å®šæ—¶å¤‡ä»½å¼¹çª—ä¸­ï¼Œè¾“å…¥å®šæ—¶å¤‡ä»½åç§°ã€æ‰§è¡Œç±»å‹ï¼ˆé‡å¤æ‰§è¡Œ/ä»…æ‰§è¡Œä¸€æ¬¡ï¼‰å’Œæ‰§è¡Œæ—¶é—´ï¼Œå¹¶ä¸ºé‡å¤æ‰§è¡Œçš„å®šæ—¶å¤‡ä»½è®¾ç½®æœ‰æ•ˆå¤‡ä»½ä¸ªæ•°ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚\nkubeClipper ä¼šåœ¨æ‚¨è®¾ç½®çš„æ‰§è¡Œæ—¶é—´ä¸ºé›†ç¾¤æ‰§è¡Œå¤‡ä»½ä»»åŠ¡ï¼Œå¤‡ä»½æ–‡ä»¶ä¼šè‡ªåŠ¨å‘½åä¸ºâ€œé›†ç¾¤åç§°-å®šæ—¶å¤‡ä»½åç§°-éšæœºç â€ï¼Œå¯¹äºé‡å¤æ‰§è¡Œçš„å®šæ—¶å¤‡ä»½ï¼ŒkubeClipper ä¼šåœ¨è¯¥å®šæ—¶ä»»åŠ¡ä¸‹çš„å¤‡ä»½æ–‡ä»¶è¶…è¿‡æœ‰æ•ˆå¤‡ä»½ä¸ªæ•°æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤è¶…å‡ºä¸ªæ•°çš„è¾ƒæ™šçš„å¤‡ä»½æ–‡ä»¶ã€‚\nå®šæ—¶å¤‡ä»½æ·»åŠ å®Œæˆåï¼Œå¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„â€œå®šæ—¶å¤‡ä»½â€æ ‡ç­¾é¡µæŸ¥çœ‹å®šæ—¶å¤‡ä»½ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥åœ¨â€œå¤‡ä»½â€æ ‡ç­¾é¡µæŸ¥çœ‹å®šæ—¶å¤‡ä»½äº§ç”Ÿçš„å¤‡ä»½æ–‡ä»¶ã€‚\nå¯¹äºå®šæ—¶å¤‡ä»½ä»»åŠ¡ï¼Œæ‚¨è¿˜å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\nç¼–è¾‘ï¼šç¼–è¾‘å®šæ—¶å¤‡ä»½ä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼Œå’Œé‡å¤æ‰§è¡Œçš„å®šæ—¶å¤‡ä»½çš„æœ‰æ•ˆå¤‡ä»½ä¸ªæ•°ã€‚\nå¯ç”¨/ç¦ç”¨ï¼šç¦ç”¨çš„å®šæ—¶å¤‡ä»½ä»»åŠ¡å°†æš‚æ—¶åœæ­¢æ‰§è¡Œã€‚\nåˆ é™¤ï¼šåˆ é™¤å®šæ—¶å¤‡ä»½ä»»åŠ¡ã€‚\né›†ç¾¤å¤‡ä»½æ¢å¤ å¦‚æœæ‚¨åœ¨é›†ç¾¤æ­£å¸¸è¿è¡ŒæœŸé—´æ‰§è¡Œæ¢å¤æ“ä½œï¼Œåˆ™ KubeClipper å°†å¯¹è¯¥é›†ç¾¤è¿›è¡Œè¦†ç›–å¼æ¢å¤ï¼Œå°±æ˜¯å¤‡ä»½æ–‡ä»¶é‡Œé¢çš„ etcd æ•°æ®ï¼Œè¦†ç›–ç°æœ‰çš„æ•°æ®ã€‚\næ‚¨å¯ä»¥åœ¨é›†ç¾¤è¯¦æƒ…é¡µçš„å¤‡ä»½æ ‡ç­¾é¡µä¸‹ï¼Œç‚¹å‡»å¤‡ä»½å³ä¾§çš„ â€œæ¢å¤â€æŒ‰é’®ï¼›æˆ–ç‚¹å‡»é›†ç¾¤æ“ä½œä¸­çš„â€œæ›´å¤šâ€\u003eâ€œæ¢å¤é›†ç¾¤â€æŒ‰é’®ï¼Œåœ¨æ¢å¤é›†ç¾¤å¼¹çª—ä¸­é€‰æ‹©éœ€è¦æ¢å¤çš„å¤‡ä»½ï¼Œå¯ä»¥å°†å½“å‰é›†ç¾¤æ¢å¤è‡³æŒ‡å®šå¤‡ä»½çŠ¶æ€ã€‚\næ³¨æ„ï¼šé›†ç¾¤å‡çº§åï¼Œå°†æ— æ³•å†æ¢å¤åˆ°å‡çº§å‰ç‰ˆæœ¬çš„å¤‡ä»½ã€‚\n","categories":"","description":"KubeClipper é›†ç¾¤ç®¡ç†åŠŸèƒ½ä½¿ç”¨æŒ‡å—\n","excerpt":"KubeClipper é›†ç¾¤ç®¡ç†åŠŸèƒ½ä½¿ç”¨æŒ‡å—\n","ref":"/v1.1/docs/tutorials/cluster-manage/","tags":"","title":"é›†ç¾¤ç®¡ç†"},{"body":" This is a placeholder page that shows you how to use this template site.\nThe Overview is where your users find out about your project. Depending on the size of your docset, you can have a separate overview page (like this one) or put your overview contents in the Documentation landing page (like in the Docsy User Guide).\nTry answering these questions for your user in this page:\nWhat is it? Introduce your project, including what it does or lets you do, why you would use it, and its primary goal (and how it achieves it). This should be similar to your README description, though you can go into a little more detail here if you want.\nWhy do I want it? Help your user know if your project will help them. Useful information can include:\nWhat is it good for?: What types of problems does your project solve? What are the benefits of using it?\nWhat is it not good for?: For example, point out situations that might intuitively seem suited for your project, but arenâ€™t for some reason. Also mention known limitations, scaling issues, or anything else that might let your users know if the project is not for them.\nWhat is it not yet good for?: Highlight any useful features that are coming soon.\nWhere should I go next? Give your users next steps from the Overview. For example:\nGetting Started: Get started with $project Examples: Check out some example code! ","categories":"","description":"Here's where your user finds out if your project is for them.\n","excerpt":"Here's where your user finds out if your project is for them.\n","ref":"/v1.1/en/docs/overview/","tags":"","title":"Overview"},{"body":" å¿«é€Ÿå¼€å§‹: Get started with $project ç”¨æˆ·æ‰‹å†Œ: Check out some example code! ","categories":"","description":"Manage kubernetes in the most light and convenient way â˜¸ï¸\n","excerpt":"Manage kubernetes in the most light and convenient way â˜¸ï¸\n","ref":"/v1.1/docs/overview/","tags":"","title":"æ¦‚è¿°"},{"body":"The purpose of this document is to deploy an HA KubeClipper with a simple operation.\nIf you just want a simple experience, please refer to QuickStart to deploy AIO environment.\nPreparations You only need to prepare a host with reference to the following requirements for machine hardware and operating system: Preparations\nHA Deploy Recommend:\nKubeclipper uses etcd as backend storage. In order to ensure high availability, it is recommended to use 3 nodes and above for deployment. At the same time, the production environment recommends that the server node and the agent node be separated to avoid acting as both the server node and the agent node at the same time. Node planning: Deploying KubeClipper Download kcctl KubeClipper provides command line tools ğŸ”§ kcctl to simplify operation and maintenance work. You can directly download the latest version of kcctl with the following command:\ncurl -sfL https://oss.kubeclipper.io/kcctl.sh | sh - # In China, you can add cn env, we use registry.aliyuncs.com/google_containers instead of k8s.gcr.io # curl -sfL https://oss.kubeclipper.io/kcctl.sh | KC_REGION=cn sh - You can also download the specified version on the GitHub Release Page.\nCheck if the installation is successful with the following command:\nkcctl version Get Started with Installation All you need to do is execute a command to install KubeClipper, whose template looks like this:\nkcctl deploy [--user root] (--passwd SSH_PASSWD | --pk-file SSH_PRIVATE_KEY) (--server SERVER_NODES) (--agent AGENT_NODES) If you use the ssh passwd method, the command is as follows:\nkcctl deploy --user root --passwd $SSH_PASSWD --server SERVER_NODES --agent AGENT_NODES The private key method is as follows:\nkcctl deploy --user root --pk-file $SSH_PRIVATE_KEY --server SERVER_NODES --agent AGENT_NODES You only need to provide ssh user and ssh passwd or ssh private key to deploy KubeClipper on the corresponding node.\nThis tutorial uses the private key to deploy, the specific commands are as follows:\nkcctl deploy --server 192.168.10.110,192.168.10.111,192.168.10.112 --agent 192.168.10.113,192.168.10.114,192.168.10.115 --pk-file ~/.ssh/id_rsa --pkg https://oss.kubeclipper.io/release/v1.1.0/kc-amd64.tar.gz This command shows kubeclipper platform will has 3 server node and 3 agent node.\nYou can visit the GitHub Release Page to view the current KubeClipper release version and modify the version number in the pkg parameter.\nFor example, after the v1.2.0 release you can specify â€“pkg as the https://oss.kubeclipper.io/release/v1.2.0/kc-amd64.tar.gz to install the v1.2.0 version.\nAfter you runn this command, kcctl will check your installation environment and enter the installation process, if the conditions are met. After printing the KubeClipper banner, the installation is complete.\n| | / / | | / __ \\ (_) | |/ / _ _| |__ ___| / \\/ |_ _ __ _ __ ___ _ __ | \\| | | | '_ \\ / _ \\ | | | | '_ \\| '_ \\ / _ \\ '__| | |\\ \\ |_| | |_) | __/ \\__/\\ | | |_) | |_) | __/ | \\_| \\_/\\__,_|_.__/ \\___|\\____/_|_| .__/| .__/ \\___|_| | | | | |_| |_| Login console When deployed successfully, you can open a browser and visit http://$IP to enter the KubeClipper console.\nYou can log in with the default account password admin/Thinkbig1.\nYou may need to configure port forwarding rules and open ports in security groups for external users to access the console.\n","categories":"","description":"deploy a high available kubeclipper by some simple cmd.\n","excerpt":"deploy a high available kubeclipper by some simple cmd.\n","ref":"/v1.1/en/docs/deployment-docs/ha-env/","tags":"","title":"Deploy HA"},{"body":" This is a placeholder page that shows you how to use this template site.\nInformation in this section helps your user try your project themselves.\nWhat do your users need to do to start using your project? This could include downloading/installation instructions, including any prerequisites or system requirements.\nIntroductory â€œHello Worldâ€ example, if appropriate. More complex tutorials should live in the Tutorials section.\nConsider using the headings below for your getting started page. You can delete any that are not applicable to your project.\nPrerequisites Are there any system requirements for using your project? What languages are supported (if any)? Do users need to already have any software or tools installed?\nInstallation Where can your user find your project code? How can they install it (binaries, installable package, build from source)? Are there multiple options/versions they can install and how should they choose the right one for them?\nSetup Is there any initial setup users need to do after installation to try your project?\nTry it out! Can your users test their installation, for example by running a command or deploying a Hello World example?\n","categories":["Examples","Placeholders"],"description":"What does your user need to know to try your project?\n","excerpt":"What does your user need to know to try your project?\n","ref":"/v1.1/en/docs/getting-started/","tags":["test","docs"],"title":"Getting Started"},{"body":"On the \"Node Information\" page, you can view the list of all nodes managed in the platform, node specifications, status and other information. Click the node name to enter the node details page, you can view detailed node basic information and system information.\nThe node status in KubeClipper represents the management status of the node by kc-gent. Under normal circumstances, the node status is displayed as \"Ready\". When the node is out of contact for 4 minutes (within 10s of the error time), the status will be updated to \"Unknown\". Nodes with unknown status cannot perform any operations, nor can they create clusters or add/remove nodes for clusters.\nAdd node When deploying KubeClipper, you can add the initial server nodes which are used to deploy KubeClipper's own services, and agent nodes which are used to deploy K8S clusters. In a KubeClipper environment for experimentation or development, you can add a server node as an agent node at the same time. However, if it is used in a production environment, it is recommended not to reuse the server node as an agent node.\nYou can also use the kcctl join command to add agent nodes to KubeClipper, and mark a region for each agent node. The region can be a physical or logical location. You can use nodes in the same region to create a K8S cluster, but you cannot use nodes across regions to create a cluster. Nodes in unmarked regions belong to the default region. For details, see \"Kcctl Operation Guide\".\nCommand line example:\nkcctl join --agent beijing:1.2.3.4 --agent shanghai:2.3.4.5 Remove node When you no longer need some nodes, you can use the kcctl drain command to remove nodes from the platform. See \"Kcctl Operation Guide\" for details.\nCommand line example:\nkcctl drain --agent 192.168.10.19 Connect Terminal On the node list page, you can click the \"Connect Terminal\" button on the right side of the target node, enter the node port and username password information in the pop-up window, access the node SSH console and execute the command.\n","categories":"","description":"A short lead description about this content page. It can be **bold** or _italic_ and can be split over multiple paragraphs.\n","excerpt":"A short lead description about this content page. It can be **bold** or _italic_ and can be split over multiple paragraphs.\n","ref":"/v1.1/en/docs/tutorials/node-manage/","tags":"","title":"Node \u0026 Zone Management"},{"body":"åœ¨â€œèŠ‚ç‚¹ä¿¡æ¯â€é¡µé¢ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å¹³å°ä¸­ç®¡ç†çš„å…¨éƒ¨èŠ‚ç‚¹åˆ—è¡¨ï¼ŒèŠ‚ç‚¹è§„æ ¼ã€çŠ¶æ€ç­‰ä¿¡æ¯ã€‚ç‚¹å‡»èŠ‚ç‚¹åç§°è¿›å…¥èŠ‚ç‚¹è¯¦æƒ…é¡µé¢ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„èŠ‚ç‚¹åŸºæœ¬ä¿¡æ¯å’Œç³»ç»Ÿä¿¡æ¯ã€‚\nKubeClipper ä¸­çš„èŠ‚ç‚¹çŠ¶æ€è¡¨ç¤º kc-gent å¯¹èŠ‚ç‚¹çš„ç®¡ç†çŠ¶æ€ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹çŠ¶æ€æ˜¾ç¤ºä¸ºâ€œå°±ç»ªâ€ï¼Œå½“èŠ‚ç‚¹å¤±è”4åˆ†é’Ÿï¼ˆè¯¯å·®æ—¶é—´10så†…ï¼‰åï¼ŒçŠ¶æ€ä¼šæ›´æ–°ä¸ºâ€œæœªçŸ¥â€ï¼ŒæœªçŸ¥çŠ¶æ€çš„èŠ‚ç‚¹æ— æ³•è¿›è¡Œä»»ä½•æ“ä½œï¼Œä¹Ÿæ— æ³•åˆ›å»ºé›†ç¾¤æˆ–ä¸ºé›†ç¾¤æ·»åŠ /ç§»é™¤èŠ‚ç‚¹ã€‚\næ·»åŠ èŠ‚ç‚¹ åœ¨éƒ¨ç½² KubeClipper æ—¶ï¼Œæ‚¨å°±å¯ä»¥æ·»åŠ åˆå§‹çš„ server èŠ‚ç‚¹å’Œ agent èŠ‚ç‚¹ï¼Œå…¶ä¸­ï¼ŒserverèŠ‚ç‚¹ç”¨äºéƒ¨ç½² KubeClipper è‡ªèº«æœåŠ¡ï¼Œagent èŠ‚ç‚¹å¯ç”¨äºéƒ¨ç½² K8S é›†ç¾¤ã€‚åœ¨ç”¨äºå®éªŒæˆ–å¼€å‘çš„ KubeClipper ç¯å¢ƒï¼Œæ‚¨å¯ä»¥å°† server èŠ‚ç‚¹åŒæ—¶æ·»åŠ ä¸º agent èŠ‚ç‚¹ã€‚ä½†å¦‚æœç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®ä¸è¦å°† server èŠ‚ç‚¹å¤ç”¨ä¸º agent èŠ‚ç‚¹ã€‚\næ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ kcctl join å‘½ä»¤ä¸º KubeClipper æ·»åŠ  agent èŠ‚ç‚¹ã€‚åŒæ—¶ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯ä¸ª agent èŠ‚ç‚¹æ ‡è®°ä¸€ä¸ªåŒºåŸŸï¼ŒåŒºåŸŸå¯ä»¥æ˜¯ç‰©ç†çš„æˆ–é€»è¾‘çš„ä½ç½®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨åŒä¸€åŒºåŸŸçš„èŠ‚ç‚¹åˆ›å»º K8S é›†ç¾¤ï¼Œä½†ä¸å¯ä»¥ä½¿ç”¨è·¨åŒºåŸŸçš„èŠ‚ç‚¹åˆ›å»ºé›†ç¾¤ã€‚æœªæ ‡è®°åŒºåŸŸçš„èŠ‚ç‚¹é»˜è®¤å±äº default åŒºåŸŸã€‚è¯¦æƒ…å‚è§â€œKcctl æ“ä½œæŒ‡å—â€œã€‚\nå‘½ä»¤è¡Œç¤ºä¾‹ï¼š\nkcctl join --agent beijing:1.2.3.4 --agent shanghai:2.3.4.5 ç§»é™¤èŠ‚ç‚¹ å½“æ‚¨ä¸å†éœ€è¦æŸäº›èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ kcctl drain å‘½ä»¤å°†èŠ‚ç‚¹ä»å¹³å°ä¸­ç§»é™¤ã€‚è¯¦æƒ…å‚è§â€œKcctl æ“ä½œæŒ‡å—â€œã€‚\nå‘½ä»¤è¡Œç¤ºä¾‹ï¼š\nkcctl drain --agent 192.168.10.19 è¿æ¥ç»ˆç«¯ åœ¨èŠ‚ç‚¹åˆ—è¡¨é¡µé¢ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»ç›®æ ‡èŠ‚ç‚¹å³ä¾§çš„â€œè¿æ¥ç»ˆç«¯â€æŒ‰é’®ï¼Œåœ¨è¿æ¥ç»ˆç«¯çš„å¼¹çª—ä¸­è¾“å…¥èŠ‚ç‚¹ç«¯å£å’Œç”¨æˆ·åå¯†ç ä¿¡æ¯åï¼Œè®¿é—®èŠ‚ç‚¹SSHæ§åˆ¶å°å¹¶æ‰§è¡Œå‘½ä»¤ã€‚\n","categories":"","description":"KubeClipper èŠ‚ç‚¹ç®¡ç†åŠŸèƒ½ä½¿ç”¨æŒ‡å—\n","excerpt":"KubeClipper èŠ‚ç‚¹ç®¡ç†åŠŸèƒ½ä½¿ç”¨æŒ‡å—\n","ref":"/v1.1/docs/tutorials/node-manage/","tags":"","title":"èŠ‚ç‚¹ç®¡ç†"},{"body":"æœ¬æ–‡æ¡£æ—¨åœ¨é€šè¿‡ç®€å•çš„æ“ä½œéƒ¨ç½²ä¸€ä¸ª HA ç‰ˆæœ¬çš„ kubeclipperã€‚\nå¦‚æœåªæ˜¯æƒ³ç®€å•ä½“éªŒä¸€ä¸‹ï¼Œè¯·å‚è€ƒ QuickStart éƒ¨ç½² AIO ç¯å¢ƒã€‚\nå‡†å¤‡å·¥ä½œ HA éƒ¨ç½²æ³¨æ„äº‹é¡¹ï¼š\nkubeclipper ä½¿ç”¨ etcd ä½œä¸ºåç«¯å­˜å‚¨ï¼Œä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼Œå»ºè®®ä½¿ç”¨ 3 èŠ‚ç‚¹åŠä»¥ä¸Šæ¥éƒ¨ç½²ã€‚ ç”Ÿäº§ç¯å¢ƒå»ºè®® server èŠ‚ç‚¹å’Œ agent èŠ‚ç‚¹åˆ†ç¦»ï¼Œé¿å…æŸä¸€ä¸»æœºåŒæ—¶ä½œä¸º server èŠ‚ç‚¹å’Œ agent èŠ‚ç‚¹ã€‚ ä¸»æœºè¦æ±‚ï¼šæ‚¨ä»…éœ€å‚è€ƒ å‡†å¤‡å·¥ä½œ ä¸­å¯¹æœºå™¨ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„è¦æ±‚å‡†å¤‡å¤šå°ä¸»æœºã€‚\néƒ¨ç½² KubeClipper ä¸‹è½½ kcctl KubeClipper æä¾›äº†å‘½ä»¤è¡Œå·¥å…·ğŸ”§ kcctl ä»¥ç®€åŒ–è¿ç»´å·¥ä½œï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½æœ€æ–°ç‰ˆ kcctlï¼š\n# curl -sfL https://oss.kubeclipper.io/kcctl.sh | sh - # å¦‚æœä½ åœ¨ä¸­å›½ï¼Œ ä½ å¯ä»¥åœ¨å®‰è£…æ—¶ä½¿ç”¨ cn ç¯å¢ƒå˜é‡, æ­¤æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ registry.aliyuncs.com/google_containers ä»£æ›¿ k8s.gcr.io curl -sfL https://oss.kubeclipper.io/kcctl.sh | KC_REGION=cn sh - æ‚¨ä¹Ÿå¯ä»¥åœ¨ GitHub Release Page ä¸‹è½½æŒ‡å®šç‰ˆæœ¬ã€‚\né€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ:\nkcctl version å¼€å§‹å®‰è£… æ‚¨åªéœ€æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å³å¯å®‰è£… KubeClipperï¼Œå…¶æ¨¡æ¿å¦‚ä¸‹æ‰€ç¤ºï¼š\nkcctl deploy [--user root] (--passwd SSH_PASSWD | --pk-file SSH_PRIVATE_KEY) (--server SERVER_NODES) (--agent AGENT_NODES) è‹¥ä½¿ç”¨ ssh passwd æ–¹å¼åˆ™å‘½ä»¤å¦‚ä¸‹æ‰€ç¤º:\nkcctl deploy --user root --passwd $SSH_PASSWD --server SERVER_NODES --agent AGENT_NODES ç§é’¥æ–¹å¼å¦‚ä¸‹ï¼š\nkcctl deploy --user root --pk-file $SSH_PRIVATE_KEY --server SERVER_NODES --agent AGENT_NODES æ‚¨åªéœ€è¦æä¾› ssh user ä»¥åŠ ssh passwd æˆ–è€… ssh ç§é’¥å³å¯åœ¨å¯¹åº”èŠ‚ç‚¹éƒ¨ç½² KubeClipperã€‚\næœ¬æ•™ç¨‹ä½¿ç”¨ ç§é’¥ æ–¹å¼è¿›è¡Œéƒ¨ç½²ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š\nkcctl deploy --server 192.168.10.110,192.168.10.111,192.168.10.112 --agent 192.168.10.113,192.168.10.114,192.168.10.115 --pk-file ~/.ssh/id_rsa --pkg https://oss.kubeclipper.io/release/v1.1.0/kc-amd64.tar.gz è¯¥å‘½ä»¤æŒ‡å®š kubeclipper åŒ…å« 3 server èŠ‚ç‚¹ï¼Œ3 agent èŠ‚ç‚¹ã€‚\næ‚¨å¯ä»¥è®¿é—® GitHub Release Page æŸ¥çœ‹å½“å‰ KubeClipper çš„ Release ç‰ˆæœ¬ï¼Œæ¥ä¿®æ”¹ pkg å‚æ•°ä¸­çš„ç‰ˆæœ¬å·ã€‚\næ¯”å¦‚åœ¨ v1.2.0 ç‰ˆæœ¬ release ä¹‹åæ‚¨å¯ä»¥æŒ‡å®š â€“pkg ä¸º https://oss.kubeclipper.io/release/v1.2.0/kc-amd64.tar.gz æ¥å®‰è£… v1.2.0 ç‰ˆæœ¬ã€‚\næ‰§è¡Œè¯¥å‘½ä»¤åï¼ŒKcctl å°†æ£€æŸ¥æ‚¨çš„å®‰è£…ç¯å¢ƒï¼Œè‹¥æ»¡è¶³æ¡ä»¶å°†ä¼šè¿›å…¥å®‰è£…æµç¨‹ã€‚åœ¨æ‰“å°å‡ºå¦‚ä¸‹çš„ KubeClipper banner åå³è¡¨ç¤ºå®‰è£…å®Œæˆã€‚\n_ __ _ _____ _ _ | | / / | | / __ \\ (_) | |/ / _ _| |__ ___| / \\/ |_ _ __ _ __ ___ _ __ | \\| | | | '_ \\ / _ \\ | | | | '_ \\| '_ \\ / _ \\ '__| | |\\ \\ |_| | |_) | __/ \\__/\\ | | |_) | |_) | __/ | \\_| \\_/\\__,_|_.__/ \\___|\\____/_|_| .__/| .__/ \\___|_| | | | | |_| |_| ç™»å½•æ§åˆ¶å° å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® http://$IP å³å¯è¿›å…¥ KubeClipper æ§åˆ¶å°ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨é»˜è®¤å¸å·å¯†ç  admin / Thinkbig1 è¿›è¡Œç™»å½•ã€‚\næ‚¨å¯èƒ½éœ€è¦é…ç½®ç«¯å£è½¬å‘è§„åˆ™å¹¶åœ¨å®‰å…¨ç»„ä¸­å¼€æ”¾ç«¯å£ï¼Œä»¥ä¾¿å¤–éƒ¨ç”¨æˆ·è®¿é—®æ§åˆ¶å°ã€‚\n","categories":"","description":"é€šè¿‡ç®€å•çš„æ“ä½œéƒ¨ç½²ä¸€ä¸ªé«˜å¯ç”¨çš„ kubeclipper\n","excerpt":"é€šè¿‡ç®€å•çš„æ“ä½œéƒ¨ç½²ä¸€ä¸ªé«˜å¯ç”¨çš„ kubeclipper\n","ref":"/v1.1/docs/deployment-docs/ha-env/","tags":"","title":"éƒ¨ç½² HA"},{"body":"å¯¹äºåˆæ¬¡æ¥è§¦ KubeClipper å¹¶æƒ³å¿«é€Ÿä¸Šæ‰‹çš„ç”¨æˆ·ï¼Œå»ºè®®ä½¿ç”¨ All-in-One å®‰è£…æ¨¡å¼ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æ‚¨é›¶é…ç½®å¿«é€Ÿéƒ¨ç½² KubeClipperã€‚\néƒ¨ç½² KubeClipper ä¸‹è½½ kcctl KubeClipper æä¾›äº†å‘½ä»¤è¡Œå·¥å…·ğŸ”§ kcctl ä»¥ç®€åŒ–è¿ç»´å·¥ä½œï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½æœ€æ–°ç‰ˆ kcctlï¼š\n# curl -sfL https://oss.kubeclipper.io/kcctl.sh | sh - # å¦‚æœä½ åœ¨ä¸­å›½ï¼Œ ä½ å¯ä»¥åœ¨å®‰è£…æ—¶ä½¿ç”¨ cn ç¯å¢ƒå˜é‡, æ­¤æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ registry.aliyuncs.com/google_containers ä»£æ›¿ k8s.gcr.io curl -sfL https://oss.kubeclipper.io/kcctl.sh | KC_REGION=cn sh - æ‚¨ä¹Ÿå¯ä»¥åœ¨ GitHub Release Page ä¸‹è½½æŒ‡å®šç‰ˆæœ¬ã€‚\né€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ:\nkcctl version å¼€å§‹å®‰è£… åœ¨æœ¬å¿«é€Ÿå…¥é—¨æ•™ç¨‹ä¸­ï¼Œæ‚¨åªéœ€æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å³å¯å®‰è£… KubeClipperï¼Œå…¶æ¨¡æ¿å¦‚ä¸‹æ‰€ç¤ºï¼š\nkcctl deploy [--user root] (--passwd SSH_PASSWD | --pk-file SSH_PRIVATE_KEY) è‹¥ä½¿ç”¨ ssh passwd æ–¹å¼åˆ™å‘½ä»¤å¦‚ä¸‹æ‰€ç¤º:\nkcctl deploy --user root --passwd $SSH_PASSWD ç§é’¥æ–¹å¼å¦‚ä¸‹ï¼š\nkcctl deploy --user root --pk-file $SSH_PRIVATE_KEY æ‚¨åªéœ€è¦æä¾› ssh user ä»¥åŠ ssh passwd æˆ–è€… ssh ç§é’¥å³å¯åœ¨æœ¬æœºéƒ¨ç½² KubeClipperã€‚\næ‰§è¡Œè¯¥å‘½ä»¤åï¼ŒKcctl å°†æ£€æŸ¥æ‚¨çš„å®‰è£…ç¯å¢ƒï¼Œè‹¥æ»¡è¶³æ¡ä»¶å°†ä¼šè¿›å…¥å®‰è£…æµç¨‹ã€‚åœ¨æ‰“å°å‡ºå¦‚ä¸‹çš„ KubeClipper banner åå³è¡¨ç¤ºå®‰è£…å®Œæˆã€‚\n_ __ _ _____ _ _ | | / / | | / __ \\ (_) | |/ / _ _| |__ ___| / \\/ |_ _ __ _ __ ___ _ __ | \\| | | | '_ \\ / _ \\ | | | | '_ \\| '_ \\ / _ \\ '__| | |\\ \\ |_| | |_) | __/ \\__/\\ | | |_) | |_) | __/ | \\_| \\_/\\__,_|_.__/ \\___|\\____/_|_| .__/| .__/ \\___|_| | | | | |_| |_| ç™»å½•æ§åˆ¶å° å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® http://$IP å³å¯è¿›å…¥ KubeClipper æ§åˆ¶å°ã€‚\næ‚¨å¯ä»¥ä½¿ç”¨é»˜è®¤å¸å·å¯†ç  admin / Thinkbig1 è¿›è¡Œç™»å½•ã€‚\næ‚¨å¯èƒ½éœ€è¦é…ç½®ç«¯å£è½¬å‘è§„åˆ™å¹¶åœ¨å®‰å…¨ç»„ä¸­å¼€æ”¾ç«¯å£ï¼Œä»¥ä¾¿å¤–éƒ¨ç”¨æˆ·è®¿é—®æ§åˆ¶å°ã€‚\nåˆ›å»º k8s é›†ç¾¤ éƒ¨ç½²æˆåŠŸåæ‚¨å¯ä»¥ä½¿ç”¨ kcctl å·¥å…·æˆ–è€…é€šè¿‡æ§åˆ¶å°åˆ›å»º k8s é›†ç¾¤ã€‚åœ¨æœ¬å¿«é€Ÿå…¥é—¨æ•™ç¨‹ä¸­ä½¿ç”¨ kcctl å·¥å…·è¿›è¡Œåˆ›å»ºã€‚\né¦–å…ˆä½¿ç”¨é»˜è®¤å¸å·å¯†ç è¿›è¡Œç™»å½•è·å– tokenï¼Œä¾¿äºåç»­ kcctl å’Œ kc-server è¿›è¡Œäº¤äº’ã€‚\nkcctl login -H http://localhost -u admin -p Thinkbig1 ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»º k8s é›†ç¾¤:\nNODE=$(kcctl get node -o yaml|grep ipv4DefaultIP:|sed 's/ipv4DefaultIP: //') kcctl create cluster --master $NODE --name demo --untaint-master å¤§æ¦‚ 3 åˆ†é’Ÿå·¦å³å³å¯å®Œæˆé›†ç¾¤åˆ›å»º,ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é›†ç¾¤çŠ¶æ€\nkcctl get cluster -o yaml|grep status -A5 æ‚¨ä¹Ÿå¯ä»¥è¿›å…¥æ§åˆ¶å°æŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚\nè¿›å…¥ Running çŠ¶æ€å³è¡¨ç¤ºé›†ç¾¤å®‰è£…å®Œæˆ,æ‚¨å¯ä»¥ä½¿ç”¨ kubectl get cs å‘½ä»¤æ¥æŸ¥çœ‹é›†ç¾¤å¥åº·çŠ¶å†µã€‚\n","categories":["QuickStart"],"description":"éƒ¨ç½²AIOç¯å¢ƒ\n","excerpt":"éƒ¨ç½²AIOç¯å¢ƒ\n","ref":"/v1.1/docs/getting-started/aio-env/","tags":["aio","sample","docs"],"title":"éƒ¨ç½²AIO"},{"body":" This is a placeholder page that shows you how to use this template site.\nIf your project has an API, configuration, or other reference - anything that users need to look up thatâ€™s at an even lower level than a single task - put (or link to it) here. You can serve and link to generated reference docs created using Doxygen, Javadoc, or other doc generation tools by putting them in your static/ directory. Find out more in Adding static content. For OpenAPI reference, Docsy also provides a Swagger UI layout and shortcode that renders Swagger UI using any OpenAPI YAML or JSON file as source.\n","categories":"","description":"Low level reference docs for your project.\n","excerpt":"Low level reference docs for your project.\n","ref":"/v1.1/docs/deployment-docs/","tags":"","title":"éƒ¨ç½²æ–‡æ¡£"},{"body":"1. Go to the creation screen Log in to the Kubeclipper platform and click the button as shown in the figure to enter the cluster creation interface\n2. Configure cluster nodes Follow the text prompts to complete the steps of entering the cluster name and selecting nodes\nNote: The number of master nodes cannot be an even number.\n3. Configure cluster This step is used to configure the cluster network and components such as the database and container runtime\nSelect offline installation and fill in the address of the image repository you have built first\n4. Configure cluster storage Select nfs storage and follow the text prompts to fill in the appropriate fields\n5. Installation completed Complete all configurations to confirm installation\nInstallation is successful and the cluster is up and running\n","categories":"","description":"How to create a k8s cluster offline using the KC platform\n","excerpt":"How to create a k8s cluster offline using the KC platform\n","ref":"/v1.1/en/docs/getting-started/carete-k8s-cluster-offline/","tags":"","title":"Create k8s clusters offline using the kubeclipper platform"},{"body":"Create user After installing KubeClipper, you need to create a user for the desired role. Initially, the system has only one user, admin, by default, with the platform administrator role.\nClick \"Access Control\" \u003e \"Users\" to enter the user management page, click the \"Create User\" button in the upper left corner, fill in the user name, password, mobile phone number, email and other information in the pop-up window, specify the user role, and click the \"OK\" button. The four built-in roles in the system are as follows:\nPlatform administrator: have platform configuration, cluster management, user management and other platform viewing and operation rights.\nCluster Administrator: Have all cluster management rights.\nUser Administrator: Have all user management rights.\nPlatform read-only users: have platform viewing rights.\nAfter the user is created, you can view the user details and login logs on the user details page and do the following:\nEdit: Edit user alias, role, mobile phone number, email information.\nEdit Password: Edit the user login password.\nDelete: Delete the user.\nCreate a custom role In addition to system built-in roles, you can also create custom roles to meet business needs.\nClick \"Access Control\" \u003e \"Roles\" to enter the role management page. You can click the \"Create Role\" button in the upper left corner to create a custom role.\nOn the Create Role page, you need to fill in the role name and description, and check the permissions required to customize the role. Some permissions depend on other permissions. When these permissions are selected, the dependent permissions will be automatically selected.\nAfter creating a custom role, you can view the basic role information, role permission list, authorized user list on the role details page, and perform the following operations for the custom role:\nEdit: Edit the custom role alias.\nEdit permissions: Edit permissions under the custom role.\nDelete: To delete a custom role, make sure that no user is using the role to be deleted.\nAccess to external users KubeClipper can log in using external users via the OIDC protocol .\nFirst, the platform administrator needs to log in to the platform server node and insert the following information under authentication in the kubeclipepr-server.yaml file:\noauthOptions: identityProviders: - name: keycloak type: OIDC mappingMethod: auto provider: clientID: kc clientSecret: EErn729BB1bKawdRtnZgrqj9Bx0]mzUs issuer: http://172.20.163.233:7777/auth/realms/kubeclipper scopes: - openid - email redirectURL: http://{kc-console-address}/oatuh2/redirect/{IDP-Name} Under \"provider\", you need to fill in the clientID , clientSecret , and issuer information of your OAuth2 service, taking keycloack as an example, as shown in the figure below.\nRedirectURL example: http://172.0.0.90/oauth2/redirect/keycloack\nOAuth2 users can access and use the KubeClipper platform by following these steps:\nClick the \"OAuth2 Login\" button on the login page, enter the OAuth2 login page, enter the username and password to log in, enter the KubeClipper platform. When logging in for the first time, you will not be able to access the platform because you have not been granted any permission.\nThe platform administrator or other user with user management rights log in to KubeClipper, find the target OAuth2 user on the user management page, and set the user role by editing the user information.\nThe OAuth2 user repeats the first step, logs in to KubeClipper, and can access the platform normally and perform operations within the role permissions.\n","categories":"","description":"A short lead description about this content page. It can be **bold** or _italic_ and can be split over multiple paragraphs.\n","excerpt":"A short lead description about this content page. It can be **bold** or _italic_ and can be split over multiple paragraphs.\n","ref":"/v1.1/en/docs/tutorials/access-control/","tags":"","title":"Access control"},{"body":" This is a placeholder page that shows you how to use this template site.\nIf your project has an API, configuration, or other reference - anything that users need to look up thatâ€™s at an even lower level than a single task - put (or link to it) here. You can serve and link to generated reference docs created using Doxygen, Javadoc, or other doc generation tools by putting them in your static/ directory. Find out more in Adding static content. For OpenAPI reference, Docsy also provides a Swagger UI layout and shortcode that renders Swagger UI using any OpenAPI YAML or JSON file as source.\n","categories":"","description":"Low level reference docs for your project.\n","excerpt":"Low level reference docs for your project.\n","ref":"/v1.1/en/docs/deployment-docs/","tags":"","title":"Deployment docs"},{"body":"","categories":"","description":"ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ\n","excerpt":"ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ\n","ref":"/v1.1/docs/tutorials/","tags":"","title":"ä½¿ç”¨æ‰‹å†Œ"},{"body":"åˆ›å»ºç”¨æˆ· å®‰è£… KubeClipper ä¹‹åï¼Œæ‚¨éœ€è¦åˆ›å»ºæ‰€éœ€è§’è‰²çš„ç”¨æˆ·ã€‚ä¸€å¼€å§‹ï¼Œç³»ç»Ÿé»˜è®¤åªæœ‰ä¸€ä¸ªç”¨æˆ· adminï¼Œå…·æœ‰å¹³å°ç®¡ç†å‘˜è§’è‰²ã€‚\nç‚¹å‡»â€œè®¿é—®æ§åˆ¶â€\u003eâ€œç”¨æˆ·â€ï¼Œè¿›å…¥ç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºç”¨æˆ·â€æŒ‰é’®ï¼Œåœ¨å¼¹çª—ä¸­å¡«å†™ç”¨æˆ·åã€å¯†ç ã€æ‰‹æœºå·ç ã€é‚®ç®±ç­‰ä¿¡æ¯ï¼Œå¹¶æŒ‡å®šç”¨æˆ·è§’è‰²ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚ç³»ç»Ÿå†…ç½®å››ä¸ªè§’è‰²å¦‚ä¸‹ï¼š\nå¹³å°ç®¡ç†å‘˜ï¼šæ‹¥æœ‰å¹³å°é…ç½®ã€é›†ç¾¤ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€DNSè§£æã€å®¡è®¡ç­‰å…¨éƒ¨å¹³å°æŸ¥çœ‹å’Œæ“ä½œæƒé™ã€‚\né›†ç¾¤ç®¡ç†å‘˜ï¼šæ‹¥æœ‰æ‰€æœ‰é›†ç¾¤ç®¡ç†æƒé™ã€‚\nç”¨æˆ·ç®¡ç†å‘˜ï¼šæ‹¥æœ‰æ‰€æœ‰ç”¨æˆ·ç®¡ç†æƒé™ã€‚\nå¹³å°åªè¯»ç”¨æˆ·ï¼šæ‹¥æœ‰å…¨éƒ¨å¹³å°æŸ¥çœ‹æƒé™ã€‚\nç”¨æˆ·åˆ›å»ºå®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨ç”¨æˆ·è¯¦æƒ…é¡µé¢æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…ä¿¡æ¯å’Œç™»å½•æ—¥å¿—ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\nç¼–è¾‘ï¼šç¼–è¾‘ç”¨æˆ·åˆ«åã€è§’è‰²ã€æ‰‹æœºå·ã€é‚®ç®±ä¿¡æ¯ã€‚\nç¼–è¾‘å¯†ç ï¼šç¼–è¾‘ç”¨æˆ·ç™»å½•å¯†ç ã€‚\nåˆ é™¤ï¼šåˆ é™¤ç”¨æˆ·ã€‚\nåˆ›å»ºè‡ªå®šä¹‰è§’è‰² é™¤äº†ç³»ç»Ÿå†…ç½®è§’è‰²ï¼Œæ‚¨ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰è§’è‰²ï¼Œå·²æ»¡è¶³ä¸šåŠ¡éœ€è¦ã€‚\nç‚¹å‡»â€œè®¿é—®æ§åˆ¶â€\u003eâ€œè§’è‰²â€ï¼Œè¿›å…¥è§’è‰²ç®¡ç†é¡µé¢ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»å·¦ä¸Šè§’â€œåˆ›å»ºè§’è‰²â€æŒ‰é’®ï¼Œåˆ›å»ºè‡ªå®šä¹‰è§’è‰²ã€‚\nåœ¨åˆ›å»ºè§’è‰²é¡µé¢ï¼Œæ‚¨éœ€è¦å¡«å†™è§’è‰²åç§°å’Œæè¿°ï¼Œå¹¶å‹¾é€‰è‡ªå®šä¹‰è§’è‰²æ‰€éœ€æƒé™ï¼Œä¸€äº›æƒé™ä¾èµ–äºå…¶ä»–æƒé™ï¼Œåœ¨é€‰æ‹©è¿™äº›æƒé™æ—¶ï¼Œå°†è‡ªåŠ¨é€‰ä¸­ä¾èµ–çš„æƒé™ã€‚\nåˆ›å»ºè‡ªå®šä¹‰è§’è‰²å®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨è§’è‰²è¯¦æƒ…é¡µé¢æŸ¥çœ‹è§’è‰²åŸºæœ¬ä¿¡æ¯ã€è§’è‰²æƒé™åˆ—è¡¨ã€æˆæƒç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶å¯¹è‡ªå®šä¹‰è§’è‰²æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\nç¼–è¾‘ï¼šç¼–è¾‘è‡ªå®šä¹‰è§’è‰²åˆ«åã€‚\nç¼–è¾‘æƒé™ï¼šç¼–è¾‘è‡ªå®šä¹‰è§’è‰²ä¸‹çš„æƒé™ã€‚\nåˆ é™¤ï¼šåˆ é™¤è‡ªå®šä¹‰è§’è‰²ï¼Œéœ€ç¡®ä¿æ²¡æœ‰ç”¨æˆ·ä½¿ç”¨å¾…åˆ é™¤è§’è‰²ã€‚\næ¥å…¥å¤–éƒ¨ç”¨æˆ· KubeClipper å¯ä»¥é€šè¿‡ OIDC åè®®ä½¿ç”¨å¤–éƒ¨ç”¨æˆ·ç™»å½•ã€‚\né¦–å…ˆï¼Œå¹³å°ç®¡ç†å‘˜éœ€è¦ç™»å½•å¹³å° server èŠ‚ç‚¹ï¼Œåœ¨ kubeclipepr-server.yaml æ–‡ä»¶ä¸­çš„ authentication ä¸‹æ’å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š\noauthOptions: identityProviders: - name: keycloak type: OIDC mappingMethod: auto provider: clientID: kc clientSecret: EErn729BB1bKawdRtnZgrqj9Bx0]mzUs issuer: http://172.20.163.233:7777/auth/realms/kubeclipper scopes: - openid - email redirectURL: http://{kc-console-address}/oatuh2/redirect/{IDP-Name} å…¶ä¸­ï¼Œâ€œproviderâ€ä¸‹éœ€è¦æ‚¨å¡«å†™è‡ªå·±çš„ OAuth2 æœåŠ¡çš„clientIDã€clientSecretã€issuerä¿¡æ¯ï¼Œä»¥ keycloack ä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\nredirectURLç¤ºä¾‹ï¼šhttp://172.0.0.90/oauth2/redirect/keycloack\nOAuth2 ç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤è®¿é—®å’Œä½¿ç”¨ KubeClipper å¹³å°ï¼š\nç‚¹å‡»ç™»å½•é¡µçš„â€œOAuth2 ç™»å½•â€æŒ‰é’®ï¼Œè¿›å…¥ OAuth2 ç™»å½•é¡µé¢ï¼Œè¾“å…¥ç”¨æˆ·åå¯†ç ç™»å½•ï¼Œè¿›å…¥ KubeClipper å¹³å°ï¼Œé¦–æ¬¡ç™»å½•ï¼Œæ‚¨ä¼šå› æœªè¢«æˆäºˆæƒé™è€Œæ— æ³•è®¿é—®å¹³å°ã€‚\nå¹³å°ç®¡ç†å‘˜æˆ–å…¶ä»–æ‹¥æœ‰ç”¨æˆ·ç®¡ç†æƒé™çš„ç”¨æˆ·ç™»å½• KubeClipperï¼Œåœ¨ç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œæ‰¾åˆ°ç›®æ ‡ OAuth2 ç”¨æˆ·ï¼Œé€šè¿‡ç¼–è¾‘ç”¨æˆ·æŒ‡å®šç”¨æˆ·è§’è‰²ã€‚\nOAuth2 ç”¨æˆ·é‡å¤ç¬¬ä¸€æ­¥ï¼Œç™»å½• KubeClipperï¼Œå°±å¯ä»¥æ­£å¸¸è®¿é—®å¹³å°å¹¶æ‰§è¡Œè§’è‰²æƒé™å†…æ“ä½œã€‚\n","categories":"","description":"KubeClipper è®¿é—®æ§åˆ¶åŠŸèƒ½ä½¿ç”¨æŒ‡å—\n","excerpt":"KubeClipper è®¿é—®æ§åˆ¶åŠŸèƒ½ä½¿ç”¨æŒ‡å—\n","ref":"/v1.1/docs/tutorials/access-control/","tags":"","title":"è®¿é—®æ§åˆ¶"},{"body":"1. è¿›å…¥åˆ›å»ºç•Œé¢ ç™»å½• Kubeclipper å¹³å°åç‚¹å‡»å¦‚å›¾æ‰€ç¤ºæŒ‰é’®ï¼Œè¿›å…¥é›†ç¾¤åˆ›å»ºç•Œé¢\n2. é…ç½®é›†ç¾¤èŠ‚ç‚¹ æŒ‰ç…§æ–‡å­—æç¤ºå®Œæˆè¾“å…¥é›†ç¾¤åç§°ã€é€‰æ‹©èŠ‚ç‚¹ç­‰æ­¥éª¤\næ³¨æ„: master èŠ‚ç‚¹æ•°é‡ä¸èƒ½ä¸ºå¶æ•°\n3. é…ç½®é›†ç¾¤ æ­¤æ­¥éª¤ç”¨äºé…ç½®é›†ç¾¤ç½‘ç»œä»¥åŠæ•°æ®åº“ã€å®¹å™¨è¿è¡Œæ—¶ç­‰ç»„ä»¶\né€‰æ‹©ç¦»çº¿å®‰è£…å¹¶å¡«å†™é¦–å…ˆæ­å»ºå¥½çš„é•œåƒä»“åº“åœ°å€\n4. é…ç½®å­˜å‚¨ é€‰æ‹© nfs å­˜å‚¨ï¼ŒæŒ‰ç…§æ–‡å­—æç¤ºå¡«å†™ç›¸åº”å†…å®¹\n5. å®‰è£…å®Œæˆ å®Œæˆæ‰€æœ‰é…ç½®ç¡®è®¤å®‰è£…\nå®‰è£…æˆåŠŸï¼Œé›†ç¾¤æ­£å¸¸è¿è¡Œ\n","categories":"","description":"å¦‚ä½•ä½¿ç”¨ KC å¹³å°ç¦»çº¿åˆ›å»º k8s é›†ç¾¤\n","excerpt":"å¦‚ä½•ä½¿ç”¨ KC å¹³å°ç¦»çº¿åˆ›å»º k8s é›†ç¾¤\n","ref":"/v1.1/docs/getting-started/carete-k8s-cluster-offline/","tags":"","title":"ä½¿ç”¨ Kubeclipper ç¦»çº¿åˆ›å»º k8s é›†ç¾¤"},{"body":" This is a placeholder page that shows you how to use this template site.\nTutorials are complete worked examples made up of multiple tasks that guide the user through a relatively simple but realistic scenario: building an application that uses some of your projectâ€™s features, for example. If you have already created some Examples for your project you can base Tutorials on them. This section is optional. However, remember that although you may not need this section at first, having tutorials can be useful to help your users engage with your example code, especially if there are aspects that need more explanation than you can easily provide in code comments.\n","categories":"","description":"Show your user how to work through some end to end examples.\n","excerpt":"Show your user how to work through some end to end examples.\n","ref":"/v1.1/en/docs/tutorials/","tags":"","title":"Tutorials"},{"body":"è¯·æŸ¥çœ‹ KubeClipper Community\n","categories":"","description":"How to contribute to the kubeclipper\n","excerpt":"How to contribute to the kubeclipper\n","ref":"/v1.1/docs/contribution-guidelines/","tags":"","title":"è´¡çŒ®æŒ‡å—"},{"body":" These basic sample guidelines assume that your Docsy site is deployed using Netlify and your files are stored in GitHub. You can use the guidelines â€œas isâ€ or adapt them with your own instructions: for example, other deployment options, information about your doc projectâ€™s file structure, project-specific review guidelines, versioning guidelines, or any other information your users might find useful when updating your site. Kubeflow has a great example.\nDonâ€™t forget to link to your own doc repo rather than our example site! Also make sure users can find these guidelines from your doc repo README: either add them there and link to them from this page, add them here and link to them from the README, or include them in both locations.\nWe use Hugo to format and generate our website, the Docsy theme for styling and site structure, and Netlify to manage the deployment of the site. Hugo is an open-source static site generator that provides us with templates, content organisation in a standard directory structure, and a website generation engine. You write the pages in Markdown (or HTML if you want), and Hugo wraps them up into a website.\nAll submissions, including submissions by project members, require review. We use GitHub pull requests for this purpose. Consult GitHub Help for more information on using pull requests.\nQuick start with Netlify Hereâ€™s a quick guide to updating the docs. It assumes youâ€™re familiar with the GitHub workflow and youâ€™re happy to use the automated preview of your doc updates:\nFork the Goldydocs repo on GitHub. Make your changes and send a pull request (PR). If youâ€™re not yet ready for a review, add â€œWIPâ€ to the PR name to indicate itâ€™s a work in progress. (Donâ€™t add the Hugo property â€œdraft = trueâ€ to the page front matter, because that prevents the auto-deployment of the content preview described in the next point.) Wait for the automated PR workflow to do some checks. When itâ€™s ready, you should see a comment like this: deploy/netlify â€” Deploy preview ready! Click Details to the right of â€œDeploy preview readyâ€ to see a preview of your updates. Continue updating your doc and pushing your changes until youâ€™re happy with the content. When youâ€™re ready for a review, add a comment to the PR, and remove any â€œWIPâ€ markers. Updating a single page If youâ€™ve just spotted something youâ€™d like to change while using the docs, Docsy has a shortcut for you:\nClick Edit this page in the top right hand corner of the page. If you donâ€™t already have an up to date fork of the project repo, you are prompted to get one - click Fork this repository and propose changes or Update your Fork to get an up to date version of the project to edit. The appropriate page in your fork is displayed in edit mode. Follow the rest of the Quick start with Netlify process above to make, preview, and propose your changes. Previewing your changes locally If you want to run your own local Hugo server to preview your changes as you work:\nFollow the instructions in Getting started to install Hugo and any other tools you need. Youâ€™ll need at least Hugo version 0.45 (we recommend using the most recent available version), and it must be the extended version, which supports SCSS.\nFork the Goldydocs repo repo into your own project, then create a local copy using git clone. Donâ€™t forget to use --recurse-submodules or you wonâ€™t pull down some of the code you need to generate a working site.\ngit clone --recurse-submodules --depth 1 https://github.com/google/docsy-example.git Run hugo server in the site root directory. By default your site will be available at http://localhost:1313/. Now that youâ€™re serving your site locally, Hugo will watch for changes to the content and automatically refresh your site.\nContinue with the usual GitHub workflow to edit files, commit them, push the changes up to your fork, and create a pull request.\nCreating an issue If youâ€™ve found a problem in the docs, but youâ€™re not sure how to fix it yourself, please create an issue in the Goldydocs repo. You can also create an issue about a specific page by clicking the Create Issue button in the top right hand corner of the page.\nUseful resources Docsy user guide: All about Docsy, including how it manages navigation, look and feel, and multi-language support. Hugo documentation: Comprehensive reference for Hugo. Github Hello World!: A basic introduction to GitHub concepts and workflow. ","categories":"","description":"How to contribute to the docs\n","excerpt":"How to contribute to the docs\n","ref":"/v1.1/en/docs/contribution-guidelines/","tags":"","title":"Contribution Guidelines"},{"body":" This is a placeholder page that shows you how to use this template site.\nThis section is where the user documentation for your project lives - all the information your users need to understand and successfully use your project.\nFor large documentation sets we recommend adding content under the headings in this section, though if some or all of them donâ€™t apply to your project feel free to remove them or add your own. You can see an example of a smaller Docsy documentation site in the Docsy User Guide, which lives in the Docsy theme repo if youâ€™d like to copy its docs section.\nOther content such as marketing material, case studies, and community updates should live in the About and Community pages.\nFind out how to use the Docsy theme in the Docsy User Guide. You can learn more about how to organize your documentation (and how we organized this site) in Organizing Your Content.\n","categories":"","description":"","excerpt":" This is a placeholder page that shows you how to use this template site.\nThis section is where the user documentation for your project lives - all the information your users need to understand and â€¦","ref":"/v1.1/en/docs/","tags":"","title":"Documentation"},{"body":" This is a placeholder page that shows you how to use this template site.\nThis section is where the user documentation for your project lives - all the information your users need to understand and successfully use your project.\nFor large documentation sets we recommend adding content under the headings in this section, though if some or all of them donâ€™t apply to your project feel free to remove them or add your own. You can see an example of a smaller Docsy documentation site in the Docsy User Guide, which lives in the Docsy theme repo if youâ€™d like to copy its docs section.\nOther content such as marketing material, case studies, and community updates should live in the About and Community pages.\nFind out how to use the Docsy theme in the Docsy User Guide. You can learn more about how to organize your documentation (and how we organized this site) in Organizing Your Content.\n","categories":"","description":"","excerpt":" This is a placeholder page that shows you how to use this template site.\nThis section is where the user documentation for your project lives - all the information your users need to understand and â€¦","ref":"/v1.1/docs/","tags":"","title":"æ–‡æ¡£"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/blog/news/","tags":"","title":"News About Docsy"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/blog/releases/","tags":"","title":"New Releases"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/tags/aio/","tags":"","title":"aio"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/tags/aio/","tags":"","title":"aio"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/categories/","tags":"","title":"Categories"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/categories/","tags":"","title":"Categories"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/tags/docs/","tags":"","title":"docs"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/tags/docs/","tags":"","title":"docs"},{"body":" Welcome to Kubeclipper! Learn More Download Manage Kubernetes in the most light and simple way !\nKubeClipper is a lightweight, simple graphical interface Kubernetes cluster lifecycle management platform.\nIt is fully compatible with K8S, allows users to quickly deploy the K8S clusters required by the enterprise on customer-managed infrastructures through a friendly wizard-like Web UI, and provides continuous full life cycle management capabilities.\nSimple Provides friendly wizard graphical interface, allows beginners to quickly deploy a cluster and the required plug-ins.\nLightweight Simple architecture, few dependencies, only two command lines for platform deployment.\nProfessional Simple and professional, it supports rich cluster parameter configuration and plug-in management, meeting production-level cluster deployment requirements.\nQuick Start 1. Download kcctl 2. Deploy KubeClipper curl -sfL https://oss.kubeclipper.io/kcctl.sh | sh - # In China, you can add cn env, we use registry.aliyuncs.com/google_containers instead of k8s.gcr.io curl -sfL https://oss.kubeclipper.io/kcctl.sh | KC_REGION=cn sh - kcctl deploy [--user root] (--passwd SSH_PASSWD | --pk-file SSH_PRIVATE_KEY) ","categories":"","description":"","excerpt":" Welcome to Kubeclipper! Learn More Download Manage Kubernetes in the most light and simple way !\nKubeClipper is a lightweight, simple graphical interface Kubernetes cluster lifecycle management â€¦","ref":"/v1.1/en/","tags":"","title":"Kubeclipper"},{"body":" æ¬¢è¿æ¥åˆ° Kubeclipper ! äº†è§£æ›´å¤š å…è´¹ä¸‹è½½ ç”¨æœ€ç®€å•çš„æ–¹å¼ç®¡ç† kubenertes !\nKubeClipper æ˜¯ä¸€ä¸ªè½»é‡çº§ã€æ˜“ç”¨çš„å›¾å½¢ç•Œé¢ Kubernetes é›†ç¾¤ç”Ÿå‘½å‘¨æœŸç®¡ç†å¹³å°ã€‚\nå®ƒä¸ K8S å®Œå…¨å…¼å®¹ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å‹å¥½çš„å‘å¯¼å¼ Web UIï¼Œåœ¨å®¢æˆ·ç®¡ç†çš„åŸºç¡€æ¶æ„ä¸Šå¿«é€Ÿéƒ¨ç½²ä¼ä¸šæ‰€éœ€çš„ K8S é›†ç¾¤ï¼Œå¹¶æä¾›æŒç»­çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†èƒ½åŠ›ã€‚\næ˜“ä½¿ç”¨ å‹å¥½çš„å‘å¯¼å¼å›¾å½¢åŒ–ç•Œé¢ï¼Œåˆå­¦è€…ä¹Ÿå¯ä»¥å¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªç”Ÿäº§çº§é›†ç¾¤å¹¶å®‰è£…æ‰€éœ€æ’ä»¶ã€‚\næè½»é‡ æ¶æ„ç®€å•ï¼Œå°‘ä¾èµ–ï¼Œå¹³å°éƒ¨ç½²ä»…éœ€ä¸¤ä¸ªå‘½ä»¤è¡Œã€‚\nç”Ÿäº§çº§ æ˜“ç”¨æ€§å’Œä¸“ä¸šæ€§å…¼é¡¾ï¼Œæ”¯æŒä¸°å¯Œçš„é›†ç¾¤å‚æ•°é…ç½®å’Œæ’ä»¶ç®¡ç†ï¼Œæ»¡è¶³ç”Ÿäº§çº§é›†ç¾¤éƒ¨ç½²éœ€æ±‚ã€‚\nç«‹å³ä½“éªŒ 1. ä¸‹è½½ kcctl 2. éƒ¨ç½² KubeClipper curl -sfL https://oss.kubeclipper.io/kcctl.sh | sh - # In China, you can add cn env, we use registry.aliyuncs.com/google_containers instead of k8s.gcr.io curl -sfL https://oss.kubeclipper.io/kcctl.sh | KC_REGION=cn sh - kcctl deploy [--user root] (--passwd SSH_PASSWD | --pk-file SSH_PRIVATE_KEY) ","categories":"","description":"","excerpt":" æ¬¢è¿æ¥åˆ° Kubeclipper ! äº†è§£æ›´å¤š å…è´¹ä¸‹è½½ ç”¨æœ€ç®€å•çš„æ–¹å¼ç®¡ç† kubenertes !\nKubeClipper æ˜¯ä¸€ä¸ªè½»é‡çº§ã€æ˜“ç”¨çš„å›¾å½¢ç•Œé¢ Kubernetes é›†ç¾¤ç”Ÿå‘½å‘¨æœŸç®¡ç†å¹³å°ã€‚\nå®ƒä¸ K8S å®Œå…¨å…¼å®¹ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å‹å¥½çš„å‘å¯¼å¼ Web UIï¼Œåœ¨å®¢æˆ·ç®¡ç†çš„åŸºç¡€æ¶æ„ä¸Šå¿«é€Ÿéƒ¨ç½²ä¼ä¸šæ‰€éœ€çš„ K8S é›†ç¾¤ï¼Œå¹¶æä¾›æŒç»­çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†èƒ½åŠ›ã€‚\næ˜“ä½¿ç”¨ å‹å¥½çš„å‘å¯¼å¼å›¾å½¢åŒ–ç•Œé¢ï¼Œåˆå­¦è€…ä¹Ÿ â€¦","ref":"/v1.1/","tags":"","title":"Kubeclipper"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/categories/quickstart/","tags":"","title":"QuickStart"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/categories/quickstart/","tags":"","title":"QuickStart"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/tags/sample/","tags":"","title":"sample"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/tags/sample/","tags":"","title":"sample"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/tags/","tags":"","title":"Tags"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/tags/","tags":"","title":"Tags"},{"body":"This is a typical blog post that includes images.\nThe front matter specifies the date of the blog post, its title, a short description that will be displayed on the blog landing page, and its author.\nIncluding images Hereâ€™s an image (featured-sunset-get.png) that includes a byline and a caption.\nFetch and scale an image in the upcoming Hugo 0.43. Photo: Riona MacNamara / CC-BY-CA\nThe front matter of this post specifies properties to be assigned to all image resources:\nresources: - src: \"**.{png,jpg}\" title: \"Image #:counter\" params: byline: \"Photo: Riona MacNamara / CC-BY-CA\" To include the image in a page, specify its details like this:\nFetch and scale an image in the upcoming Hugo 0.43. Photo: Riona MacNamara / CC-BY-CA\nThe image will be rendered at the size and byline specified in the front matter.\n","categories":"","description":"The Docsy Hugo theme lets project maintainers and contributors focus on content, not on reinventing a website infrastructure from scratch","excerpt":"The Docsy Hugo theme lets project maintainers and contributors focus on content, not on reinventing a website infrastructure from scratch","ref":"/v1.1/en/blog/2018/10/06/easy-documentation-with-docsy/","tags":"","title":"Easy documentation with Docsy"},{"body":"This is the blog section. It has two categories: News and Releases.\nFiles in these directories will be listed in reverse chronological order.\n","categories":"","description":"","excerpt":"This is the blog section. It has two categories: News and Releases.\nFiles in these directories will be listed in reverse chronological order.\n","ref":"/v1.1/en/blog/","tags":"","title":"Docsy Blog"},{"body":"Text can be bold, italic, or strikethrough. Links should be blue with no underlines (unless hovered over).\nThere should be whitespace between paragraphs. There should be whitespace between paragraphs. There should be whitespace between paragraphs. There should be whitespace between paragraphs.\nThere should be whitespace between paragraphs. There should be whitespace between paragraphs. There should be whitespace between paragraphs. There should be whitespace between paragraphs.\nThere should be no margin above this first sentence.\nBlockquotes should be a lighter gray with a border along the left side in the secondary color.\nThere should be no margin below this final sentence.\nFirst Header This is a normal paragraph following a header. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nBacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nOn big screens, paragraphs and headings should not take up the full container width, but we want tables, code blocks and similar to take the full width.\nLorem markdownum tuta hospes stabat; idem saxum facit quaterque repetito occumbere, oves novem gestit haerebat frena; qui. Respicit recurvam erat: pignora hinc reppulit nos aut, aptos, ipsa.\nMeae optatos passa est Epiros utiliter Talibus niveis, hoc lata, edidit. Dixi ad aestum.\nHeader 2 This is a blockquote following a header. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nHeader 3 This is a code block following a header. Header 4 This is an unordered list following a header. This is an unordered list following a header. This is an unordered list following a header. Header 5 This is an ordered list following a header. This is an ordered list following a header. This is an ordered list following a header. Header 6 What Follows A table A header A table A header A table A header Thereâ€™s a horizontal rule above and below this.\nHere is an unordered list:\nSalt-n-Pepa Bel Biv DeVoe Kid â€˜N Play And an ordered list:\nMichael Jackson Michael Bolton Michael BublÃ© And an unordered task list:\nCreate a sample markdown document Add task lists to it Take a vacation And a â€œmixedâ€ task list:\nSteal underpants ? Profit! And a nested list:\nJackson 5 Michael Tito Jackie Marlon Jermaine TMNT Leonardo Michelangelo Donatello Raphael Definition lists can be used with Markdown syntax. Definition terms are bold.\nName Godzilla Born 1952 Birthplace Japan Color Green Tables should have bold headings and alternating shaded rows.\nArtist Album Year Michael Jackson Thriller 1982 Prince Purple Rain 1984 Beastie Boys License to Ill 1986 If a table is too wide, it should scroll horizontally.\nArtist Album Year Label Awards Songs Michael Jackson Thriller 1982 Epic Records Grammy Award for Album of the Year, American Music Award for Favorite Pop/Rock Album, American Music Award for Favorite Soul/R\u0026B Album, Brit Award for Best Selling Album, Grammy Award for Best Engineered Album, Non-Classical Wanna Be Startinâ€™ Somethinâ€™, Baby Be Mine, The Girl Is Mine, Thriller, Beat It, Billie Jean, Human Nature, P.Y.T. (Pretty Young Thing), The Lady in My Life Prince Purple Rain 1984 Warner Brothers Records Grammy Award for Best Score Soundtrack for Visual Media, American Music Award for Favorite Pop/Rock Album, American Music Award for Favorite Soul/R\u0026B Album, Brit Award for Best Soundtrack/Cast Recording, Grammy Award for Best Rock Performance by a Duo or Group with Vocal Letâ€™s Go Crazy, Take Me With U, The Beautiful Ones, Computer Blue, Darling Nikki, When Doves Cry, I Would Die 4 U, Baby Iâ€™m a Star, Purple Rain Beastie Boys License to Ill 1986 Mercury Records noawardsbutthistablecelliswide Rhymin \u0026 Stealin, The New Style, Sheâ€™s Crafty, Posse in Effect, Slow Ride, Girls, (You Gotta) Fight for Your Right, No Sleep Till Brooklyn, Paul Revere, Hold It Now, Hit It, Brass Monkey, Slow and Low, Time to Get Ill Code snippets like var foo = \"bar\"; can be shown inline.\nAlso, this should vertically align with this and this.\nCode can also be shown in a block element.\nfoo := \"bar\"; bar := \"foo\"; Code can also use syntax highlighting.\nfunc main() { input := `var foo = \"bar\";` lexer := lexers.Get(\"javascript\") iterator, _ := lexer.Tokenise(nil, input) style := styles.Get(\"github\") formatter := html.New(html.WithLineNumbers()) var buff bytes.Buffer formatter.Format(\u0026buff, style, iterator) fmt.Println(buff.String()) } Long, single-line code blocks should not wrap. They should horizontally scroll if they are too long. This line should be long enough to demonstrate this. Inline code inside table cells should still be distinguishable.\nLanguage Code Javascript var foo = \"bar\"; Ruby foo = \"bar\"{ Small images should be shown at their actual size.\nLarge images should always scale down and fit in the content container.\nComponents Alerts This is an alert. Note: This is an alert with a title. This is a successful alert. This is a warning! Warning! This is a warning with a title! Sizing Add some sections here to see how the ToC looks like. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nParameters available Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nUsing pixels Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nUsing rem Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nMemory Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nRAM to use Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nMore is better Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nUsed RAM Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nThis is the final element on the page and there should be no margin below this. ","categories":"","description":"A short lead description about this content page. Text here can also be **bold** or _italic_ and can even be split over multiple paragraphs.\n","excerpt":"A short lead description about this content page. Text here can also be **bold** or _italic_ and can even be split over multiple paragraphs.\n","ref":"/v1.1/en/blog/2018/10/06/the-second-blog-post/","tags":"","title":"The second blog post"},{"body":"Text can be bold, italic, or strikethrough. Links should be blue with no underlines (unless hovered over).\nThere should be whitespace between paragraphs. There should be whitespace between paragraphs. There should be whitespace between paragraphs. There should be whitespace between paragraphs.\nThere should be whitespace between paragraphs. There should be whitespace between paragraphs. There should be whitespace between paragraphs. There should be whitespace between paragraphs.\nThere should be no margin above this first sentence.\nBlockquotes should be a lighter gray with a border along the left side in the secondary color.\nThere should be no margin below this final sentence.\nFirst Header This is a normal paragraph following a header. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nBacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nOn big screens, paragraphs and headings should not take up the full container width, but we want tables, code blocks and similar to take the full width.\nLorem markdownum tuta hospes stabat; idem saxum facit quaterque repetito occumbere, oves novem gestit haerebat frena; qui. Respicit recurvam erat: pignora hinc reppulit nos aut, aptos, ipsa.\nMeae optatos passa est Epiros utiliter Talibus niveis, hoc lata, edidit. Dixi ad aestum.\nHeader 2 This is a blockquote following a header. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nHeader 3 This is a code block following a header. Header 4 This is an unordered list following a header. This is an unordered list following a header. This is an unordered list following a header. Header 5 This is an ordered list following a header. This is an ordered list following a header. This is an ordered list following a header. Header 6 What Follows A table A header A table A header A table A header Thereâ€™s a horizontal rule above and below this.\nHere is an unordered list:\nSalt-n-Pepa Bel Biv DeVoe Kid â€˜N Play And an ordered list:\nMichael Jackson Michael Bolton Michael BublÃ© And an unordered task list:\nCreate a sample markdown document Add task lists to it Take a vacation And a â€œmixedâ€ task list:\nSteal underpants ? Profit! And a nested list:\nJackson 5 Michael Tito Jackie Marlon Jermaine TMNT Leonardo Michelangelo Donatello Raphael Definition lists can be used with Markdown syntax. Definition terms are bold.\nName Godzilla Born 1952 Birthplace Japan Color Green Tables should have bold headings and alternating shaded rows.\nArtist Album Year Michael Jackson Thriller 1982 Prince Purple Rain 1984 Beastie Boys License to Ill 1986 If a table is too wide, it should scroll horizontally.\nArtist Album Year Label Awards Songs Michael Jackson Thriller 1982 Epic Records Grammy Award for Album of the Year, American Music Award for Favorite Pop/Rock Album, American Music Award for Favorite Soul/R\u0026B Album, Brit Award for Best Selling Album, Grammy Award for Best Engineered Album, Non-Classical Wanna Be Startinâ€™ Somethinâ€™, Baby Be Mine, The Girl Is Mine, Thriller, Beat It, Billie Jean, Human Nature, P.Y.T. (Pretty Young Thing), The Lady in My Life Prince Purple Rain 1984 Warner Brothers Records Grammy Award for Best Score Soundtrack for Visual Media, American Music Award for Favorite Pop/Rock Album, American Music Award for Favorite Soul/R\u0026B Album, Brit Award for Best Soundtrack/Cast Recording, Grammy Award for Best Rock Performance by a Duo or Group with Vocal Letâ€™s Go Crazy, Take Me With U, The Beautiful Ones, Computer Blue, Darling Nikki, When Doves Cry, I Would Die 4 U, Baby Iâ€™m a Star, Purple Rain Beastie Boys License to Ill 1986 Mercury Records noawardsbutthistablecelliswide Rhymin \u0026 Stealin, The New Style, Sheâ€™s Crafty, Posse in Effect, Slow Ride, Girls, (You Gotta) Fight for Your Right, No Sleep Till Brooklyn, Paul Revere, Hold It Now, Hit It, Brass Monkey, Slow and Low, Time to Get Ill Code snippets like var foo = \"bar\"; can be shown inline.\nAlso, this should vertically align with this and this.\nCode can also be shown in a block element.\nfoo := \"bar\"; bar := \"foo\"; Code can also use syntax highlighting.\nfunc main() { input := `var foo = \"bar\";` lexer := lexers.Get(\"javascript\") iterator, _ := lexer.Tokenise(nil, input) style := styles.Get(\"github\") formatter := html.New(html.WithLineNumbers()) var buff bytes.Buffer formatter.Format(\u0026buff, style, iterator) fmt.Println(buff.String()) } Long, single-line code blocks should not wrap. They should horizontally scroll if they are too long. This line should be long enough to demonstrate this. Inline code inside table cells should still be distinguishable.\nLanguage Code Javascript var foo = \"bar\"; Ruby foo = \"bar\"{ Small images should be shown at their actual size.\nLarge images should always scale down and fit in the content container.\nComponents Alerts This is an alert. Note: This is an alert with a title. This is a successful alert. This is a warning! Warning! This is a warning with a title! Sizing Add some sections here to see how the ToC looks like. Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nParameters available Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nUsing pixels Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nUsing rem Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nMemory Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nRAM to use Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nMore is better Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nUsed RAM Bacon ipsum dolor sit amet t-bone doner shank drumstick, pork belly porchetta chuck sausage brisket ham hock rump pig. Chuck kielbasa leberkas, pork bresaola ham hock filet mignon cow shoulder short ribs biltong.\nThis is the final element on the page and there should be no margin below this. ","categories":"","description":"A short lead description about this content page. Text here can also be **bold** or _italic_ and can even be split over multiple paragraphs.\n","excerpt":"A short lead description about this content page. Text here can also be **bold** or _italic_ and can even be split over multiple paragraphs.\n","ref":"/v1.1/en/blog/2018/01/04/another-great-release/","tags":"","title":"Another Great Release"},{"body":" ","categories":"","description":"","excerpt":" ","ref":"/v1.1/en/community/","tags":"","title":"Community"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/categories/examples/","tags":"","title":"Examples"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/categories/placeholders/","tags":"","title":"Placeholders"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/search/","tags":"","title":"Search Results"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/search/","tags":"","title":"Search Results"},{"body":"","categories":"","description":"","excerpt":"","ref":"/v1.1/en/tags/test/","tags":"","title":"test"},{"body":"Comming soonâ€¦\n","categories":"","description":"","excerpt":"Comming soonâ€¦\n","ref":"/v1.1/blog/","tags":"","title":"KubeClipper Blog"},{"body":" ","categories":"","description":"","excerpt":" ","ref":"/v1.1/community/","tags":"","title":"ç¤¾åŒº"}]